{"title":"Release Notes for Safari Technology Preview 173","link":"https://webkit.org/blog/14378/release-notes-for-safari-technology-preview-173/","date":1687986010000,"content":"<p><a href=\"https://webkit.org/blog/6017/introducing-safari-technology-preview/\">Safari Technology Preview</a> Release 173 is now <a href=\"https://webkit.org/downloads/\">available for download</a> for macOS Sonoma beta and macOS Ventura. If you already have Safari Technology Preview installed, you can update it in System Settings under General → Software Update.</p>\n<p>Many of the new Safari 17 features are now available in Safari Technology Preview 173:</p>\n<p><strong>Feature Flags</strong> is a new section of Safari Technology Preview Settings and replaces the Experimental Features section of the Develop menu. It allows you to search for specific features and to easily see features toggled from their default state in bold. Feature flags have a status such as Stable, Testable, Preview, or Developer, and are now organized by topic.</p>\n<p>A <strong>redesigned Develop menu</strong> makes it easier to find the key tools available to help you create websites, web apps, web content inside other apps, web extensions, and more.</p>\n<p><strong>Responsive Design Mode</strong> has been refreshed to focus on the responsiveness of a page’s design at any width or height on your Mac. Specify viewport size at the top of Responsive Design Mode or drag the resize handles around the view, and easily jump into device simulators.</p>\n<p><strong>Profiles</strong> on macOS Sonoma help you keep your browsing data separated including History, favorites, Tab Groups and website data such as Notification subscriptions, cookies, caches, and service workers.</p>\n<p><strong>Web apps</strong> on macOS Sonoma allows you to add any website to your Dock with this release of Safari Technology Preview.</p>\n<p><strong>Improved Private Browsing</strong> on macOS Sonoma locks your Private Browsing windows when not in use and adds protection against many more of the advanced techniques used to track you.</p>\n<p><strong>Managed Media Source</strong> combines the best features of HTTP Live Streaming and Media Source Extensions into an easy to adopt power-efficient low-level toolkit for adaptive streaming.</p>\n<p><strong>JPEG XL</strong> support on macOS Sonoma adds a new image format with an improved compression algorithm for better image quality at smaller file sizes than JPEG, but with the same progressive loading capability.</p>\n<p><strong>HEIC</strong> adds support for the file format used on iPhone and iPad to store photos taken with the camera, allowing developers to support importing and editing photos right in the browser.</p>\n<p><strong>Live Text</strong> adds support for vertical text recognition in images and videos.</p>\n<p>A <strong>redesigned text cursor</strong> on macOS Sonoma uses the system accent color and matches iOS behavior. You can still customize the color with the <code>caret-color</code> CSS property.</p>\n<p>In addition to these new Safari 17 features, this release includes WebKit changes between: <a href=\"https://github.com/WebKit/WebKit/compare/0dfd18e6886ab4b1237b1ca65d623823b530a150...5f9e420cedb1ad9e41602f43e9423e10c9a1b71a\">264855@main…265377@main</a>.</p>\n<h3>Web Inspector</h3>\n<ul>\n<li>Fixed color swatch to not show an incorrect tooltip when read-only (<a href=\"https://commits.webkit.org/265039@main\">265039@main</a>)</li>\n<li>Fixed details sidebar in the Sources tab to maintain its width when changing between tabs (<a href=\"https://commits.webkit.org/265152@main\">265152@main</a>)</li>\n</ul>\n<h3>CSS</h3>\n<ul>\n<li>Added a CSS rule nesting level limit (<a href=\"https://commits.webkit.org/265309@main\">265309@main</a>)</li>\n<li>Fixed <code>cjk-earthly-branch</code> and <code>cjk-heavenly-stem</code> counter styles to have <code>fixed</code> system (<a href=\"https://commits.webkit.org/265235@main\">265235@main</a>)</li>\n<li>Fixed the computed display of a form inside table elements to be <code>display: none</code> (<a href=\"https://commits.webkit.org/265283@main\">265283@main</a>)</li>\n<li>Made <code>&lt;ray-size&gt;</code> optional in <code>ray()</code> for CSS Motion Path (<a href=\"https://commits.webkit.org/265200@main\">265200@main</a>)</li>\n</ul>\n<h3>Media Queries</h3>\n<ul>\n<li>Implemented <code>update</code> media feature (<a href=\"https://commits.webkit.org/265277@main\">265277@main</a>)</li>\n<li>Implemented <code>scripting</code> media feature (<a href=\"https://commits.webkit.org/265278@main\">265278@main</a>)</li>\n<li>Fixed negative resolutions to be invalid (<a href=\"https://commits.webkit.org/265279@main\">265279@main</a>)</li>\n</ul>\n<h3>Rendering</h3>\n<ul>\n<li>Fixed inline-level elements with a self-painting layer rendering overlapping ellipsis (<a href=\"https://commits.webkit.org/264973@main\">264973@main</a>)</li>\n</ul>\n<h3>Editing</h3>\n<ul>\n<li>Fixed <code>&lt;textarea&gt;</code> with <code>float: left</code> disappearing when editing text (<a href=\"https://commits.webkit.org/264943@main\">264943@main</a>)</li>\n</ul>\n<h3>JavaScript</h3>\n<ul>\n<li>Added global <code>String.replace(/regexp-global/g, func)</code> result caching for large strings (<a href=\"https://commits.webkit.org/264967@main\">264967@main</a>)</li>\n<li>Optimized <code>op_to_this</code> for global object case (<a href=\"https://commits.webkit.org/265373@main\">265373@main</a>)</li>\n<li>Optimized <code>parseFloat(number)</code> (<a href=\"https://commits.webkit.org/265189@main\">265189@main</a>)</li>\n<li>Optimized ProxyObject’s “ownKeys” trap (<a href=\"https://commits.webkit.org/265218@main\">265218@main</a>)</li>\n</ul>\n<h3>Popover</h3>\n<ul>\n<li>Made popover methods forbid only modal dialogs, not all open dialogs (<a href=\"https://commits.webkit.org/264876@main\">264876@main</a>)</li>\n<li>Made <code>element.togglePopover()</code> return a boolean (<a href=\"https://commits.webkit.org/265064@main\">265064@main</a>)</li>\n</ul>\n<h3>Images</h3>\n<ul>\n<li>Fixed main-resource content loads with <code>Content-Type: image/heif</code> to show the image instead of downloading it (<a href=\"https://commits.webkit.org/265091@main\">265091@main</a>)</li>\n</ul>\n<h3>Media</h3>\n<ul>\n<li>Fixed animation when making a video full screen (<a href=\"https://commits.webkit.org/265051@main\">265051@main</a>)</li>\n<li>Fixed non-MSE blob URLs for the <code>&lt;source&gt;</code> element and <code>src</code> attribute (<a href=\"https://commits.webkit.org/265045@main\">265045@main</a>)</li>\n<li>Fixed WebM files support with no track ID (<a href=\"https://commits.webkit.org/265425@main\">265425@main</a>)</li>\n<li>Fixed video going black with only audio playing when exiting picture-in-picture (<a href=\"https://commits.webkit.org/264974@main\">264974@main</a>)</li>\n<li>Fixed Safari Tab showing a speaker icon indicating the tab is playing audio even though it is paused (<a href=\"https://commits.webkit.org/265052@main\">265052@main</a>)</li>\n<li>Set a limit for the number of samples stored in SourceBuffer (<a href=\"https://commits.webkit.org/265355@main\">265355@main</a>)</li>\n</ul>\n<h3>Web API</h3>\n<ul>\n<li>Changing the <code>dir</code> attribute of <code>documentElement</code> doesn’t update a child element matching <code>:dir</code> pseudo-class (<a href=\"https://commits.webkit.org/265332@main\">265332@main</a>)</li>\n<li>Fixed images with <code>decoding=\"async\"</code> flickering while zooming in. (<a href=\"https://commits.webkit.org/265328@main\">265328@main</a>)</li>\n<li>Fixed serialization of Selectors (<a href=\"https://commits.webkit.org/264980@main\">264980@main</a>)</li>\n<li>Fixed ensuring all ServiceWorkerRegistration files and directories are removed when registrations are cleared (<a href=\"https://commits.webkit.org/264998@main\">264998@main</a>)</li>\n<li>Fixed style invalidation of IDs within <code>:nth-child</code> and <code>:nth-last-child</code> (<a href=\"https://commits.webkit.org/264986@main\">264986@main</a>)</li>\n<li>Fixed MediaStream from canvas (<code>captureStream</code>) to be able to render into a different canvas (<a href=\"https://commits.webkit.org/265128@main\">265128@main</a>)</li>\n<li>Fixed <code>readAsDataURL.readAsDataURL()</code> for empty blobs (<a href=\"https://commits.webkit.org/265153@main\">265153@main</a>)</li>\n<li>Fixed remaining page height to never be 0 (<a href=\"https://commits.webkit.org/264857@main\">264857@main</a>)</li>\n<li>Fixed <code>&lt;select&gt;</code> with <code>multiple</code> enabled not consistently firing the <code>onchange</code> event (<a href=\"https://commits.webkit.org/264873@main\">264873@main</a>)</li>\n<li>Fixed HTMLPreloadScanner to not ignore the <code>referrerpolicy</code> attribute for <code>&lt;img&gt;</code> elements (<a href=\"https://commits.webkit.org/265223@main\">265223@main</a>)</li>\n<li>Fixed window named getter to behave correctly when there are duplicate frame names (<a href=\"https://commits.webkit.org/265211@main\">265211@main</a>)</li>\n<li>Fixed <code>XMLHttpRequest.responseXML.characterSet</code> (<a href=\"https://commits.webkit.org/265210@main\">265210@main</a>)</li>\n<li>Set canvas-based VideoFrame color space to RGB (<a href=\"https://commits.webkit.org/264881@main\">264881@main</a>)</li>\n</ul>\n<h3>SVG</h3>\n<ul>\n<li>Changed to stop propagating text decorations on the outermost SVG roots (<a href=\"https://commits.webkit.org/264894@main\">264894@main</a>)</li>\n<li>Changed to use a placeholder SVG as a mask to respect semantic color changes (<a href=\"https://commits.webkit.org/265037@main\">265037@main</a>)</li>\n<li>Fixed <code>&lt;feColorMatrix&gt;</code> filter when defined inside then set directly on the <code>&lt;svg&gt;</code> element (<a href=\"https://commits.webkit.org/265135@main\">265135@main</a>)</li>\n<li>Fixed setting the <code>vector-effect</code> attribute in the SVG <code>&lt;text&gt;</code> tag to “non-scaling-stroke” has no effect (<a href=\"https://commits.webkit.org/265204@main\">265204@main</a>)</li>\n<li>Fixed handling of a negative radius for <code>feMorphology</code> (<a href=\"https://commits.webkit.org/265007@main\">265007@main</a>)</li>\n</ul>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"1d1245feacded491db646e238817a383aab9fb55ded7d1167affe7b9eaf60a59","category":"Tech"}