{"title":"Structured Log ใน Spring Boot 3.4.0","link":"https://www.somkiat.cc/structured-log-in-spring-boot/","date":1721975678000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/07/spring-boot-slog-150x150.jpg\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/07/spring-boot-slog-150x150.jpg 150w, https://www.somkiat.cc/wp-content/uploads/2024/07/spring-boot-slog-75x75.jpg 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/07/spring-boot-slog.jpg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/07/spring-boot-slog.jpg\" width=\"573\" height=\"318\" /></a></figure>\n\n\n\n<p>ตอนนี้ Spring Boot 3.4.0 นั้นยังอยู่สถานะของการพัฒนาและทดสอบเท่านั้น<br />แต่ก็มีความสามารถหลาย ๆ ตัวที่น่าสนใจ<br />หนึ่งในนั้นที่น่าจะทำให้นักพัฒนาและการดูแลระบบง่ายขึ้น<br />นั่นก็คือ <strong><a href=\"https://docs.spring.io/spring-boot/3.4-SNAPSHOT/reference/features/logging.html#features.logging.structured\" target=\"_blank\">Structured Log</a></strong> นั่นเอง <br />ทำให้ log อ่านเข้าใจง่ายขึ้น มีรูปแบบที่ชัดเจนคือ JSON format</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>โดยที่จะมี format ของ login ที่ build-in มาให้เลยคือ</strong></p>\n\n\n\n<ul>\n<li>Elastic Common Schema (<code>ecs</code>)</li>\n\n\n\n<li>Logstash (<code>logstash</code>) formats</li>\n\n\n\n<li>Custom format ได้ผ่าน interface StructuredLoggingFormatter</li>\n</ul>\n\n\n\n<p><strong>การใช้งานก็ง่ายมาก ๆ เพียงแค่กำหนดในไฟล์ application.properties หรือ yml ได้เลย ดังนี้</strong></p>\n\n\n\n[gist id=\"a65d8e7c0bc64314f0e7e78239b5fbbb\" file=\"application.properties\"]\n\n\n\n<p>ผลการทำงานเป็นดังนี้ ได้ log สวย ๆ มาแล้ว</p>\n\n\n\n[gist id=\"a65d8e7c0bc64314f0e7e78239b5fbbb\" file=\"1.txt\"]\n\n\n\n<p>ลองใช้งานเล่นกันดูครับ<br />อ่าน <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.4.0-M1-Release-Notes\" target=\"_blank\">Release notes</a> เพิ่มได้</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"fef28cb6a0339ed9780c37ceea070a590c329dd9ca6765fb6d266af63f8632d3","category":"Thai"}