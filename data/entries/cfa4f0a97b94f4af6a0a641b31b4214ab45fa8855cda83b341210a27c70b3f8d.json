{"title":"Release Notes for Safari Technology Preview 213","link":"https://webkit.org/blog/16461/release-notes-for-safari-technology-preview-213/","date":1739398201000,"content":"<p><a href=\"https://webkit.org/blog/6017/introducing-safari-technology-preview/\">Safari Technology Preview</a> Release 213 is now <a href=\"https://developer.apple.com/safari/resources/\">available for download</a> for macOS Sequoia and macOS Sonoma. If you already have Safari Technology Preview installed, you can update it in System Settings under General → Software Update.</p>\n<p>This release includes WebKit changes between: <a href=\"https://github.com/WebKit/WebKit/compare/1e3a17caec13822eb8f0cc09a21038b31ba233b2...a37e58d21cec250a340faaf8995c428587e2b15f\">288458@main…289651@main</a>.</p>\n<h3>CSS</h3>\n<h4>New Features</h4>\n<ul>\n<li>Implemented <code>unicode-bidi</code> text rendering UA rules (except for <code>ruby</code> elements). (<a href=\"https://commits.webkit.org/288511@main\">288511@main</a>)  (142191490)  </li>\n<li>Added support for gradients with only one stop. (<a href=\"https://commits.webkit.org/289469@main\">289469@main</a>)  (142796999)  </li>\n</ul>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed <code>contain: size</code> breaking <code>object-fit</code>. (<a href=\"https://commits.webkit.org/289287@main\">289287@main</a>)  (131866042)  </li>\n<li>Fixed broken <code>revert-layer</code> when logical group CSS properties are explicitly inherited. (<a href=\"https://commits.webkit.org/289183@main\">289183@main</a>)  (140819138)  </li>\n<li>Fixed subsequent nested styles getting ignored after an incorrect nested selector. (<a href=\"https://commits.webkit.org/289429@main\">289429@main</a>)  (142187930)  </li>\n<li>Fixed <code>font-variant-caps: all-small-caps</code> causing incorrect <code>box-sizing</code> in <code>flex</code> inline context. (<a href=\"https://commits.webkit.org/289486@main\">289486@main</a>)  (142212550)  </li>\n<li>Fixed ensuring  the correct logic is run for over-constrained cases when the absolute positioned box is a <code>writing-mode</code> root. (<a href=\"https://commits.webkit.org/288797@main\">288797@main</a>)  (142214631)  </li>\n<li>Fixed <code>text-box-trim</code> accumulation failing when updating the CSS dynamically. (<a href=\"https://commits.webkit.org/288480@main\">288480@main</a>)  (142386761)  </li>\n<li>Fixed <code>text-emphasis</code> to not paint emphasis marks on punctuations. (<a href=\"https://commits.webkit.org/288476@main\">288476@main</a>)  (142387538)  </li>\n<li>Fixed sizing and positioning issues when a popover changes CSS position upon opening. (<a href=\"https://commits.webkit.org/288655@main\">288655@main</a>)  (142491219)  </li>\n<li>Fixed view transitions to stop running when the user navigates with a swipe. (<a href=\"https://commits.webkit.org/288956@main\">288956@main</a>)  (142844150)  </li>\n</ul>\n<h3>Editing</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed <code>document.execCommand(\"copy\")</code> only triggering if there is a selection. (<a href=\"https://commits.webkit.org/288559@main\">288559@main</a>)  (27792460)  </li>\n<li>Fixed Hebrew text pasted from Safari getting aligned left. (<a href=\"https://commits.webkit.org/289323@main\">289323@main</a>)  (139029945)  </li>\n<li>Fixed setting selection to not set focus unless there is an existing selection. (<a href=\"https://commits.webkit.org/288555@main\">288555@main</a>)  (139075809)  </li>\n</ul>\n<h3>Forms</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed <code>&lt;datalist&gt;</code> dropdown keyboard interactions to align with platform conventions. (<a href=\"https://commits.webkit.org/289067@main\">289067@main</a>)  (143012287)  </li>\n<li>Fixed: Disabled all Writing Tools app menu items, except “Compose”, for empty editable content. (<a href=\"https://commits.webkit.org/289243@main\">289243@main</a>)  (143332082)  </li>\n</ul>\n<h3>HTML</h3>\n<h4>Deprecations</h4>\n<ul>\n<li>Removed the <code>composite</code> attribute on an <code>&lt;img&gt;</code> element. (<a href=\"https://commits.webkit.org/289071@main\">289071@main</a>)  (143109250)  </li>\n</ul>\n<h3>JavaScript</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed: Increased the <code>matchLimit</code> for regular expressions, allowing complex matches on longer strings. (<a href=\"https://commits.webkit.org/289319@main\">289319@main</a>)  (143202375)  </li>\n</ul>\n<h3>Media</h3>\n<h4>New Features</h4>\n<ul>\n<li>Enabled MediaSource prefers DecompressionSession by default. (<a href=\"https://commits.webkit.org/289924@main\">289924@main</a>)  (142761051)  </li>\n<li>Enabled WebCodec’s AudioEncoder and AudioDecoder by default. (<a href=\"https://commits.webkit.org/288965@main\">288965@main</a>)  (142916087)  </li>\n</ul>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed handling an empty <code>srcAttr</code> in Media Element. (<a href=\"https://commits.webkit.org/289432@main\">289432@main</a>)  (132042925)  </li>\n<li>Fixed the <code>space</code> key not pausing a video in fullscreen by making the video mouse focusable. (<a href=\"https://commits.webkit.org/289220@main\">289220@main</a>)  (138037616)  </li>\n<li>Fixed playing video generating non-monotonic ‘timeupdate’ events. (<a href=\"https://commits.webkit.org/288722@main\">288722@main</a>)  (142275184) (FB16222910)  </li>\n<li>Fixed websites calling <code>play()</code> during a <code>seek()</code> is allowed by the specification so that the play event is fired even if the seek hasn’t completed. (<a href=\"https://commits.webkit.org/288577@main\">288577@main</a>)  (142517488)  </li>\n<li>Fixed seek not completing for WebM under some circumstances.  (143372794)  </li>\n<li>Fixed MediaRecorderPrivateEncoder writing frames out of order. (<a href=\"https://commits.webkit.org/289643@main\">289643@main</a>)  (143956063)  </li>\n</ul>\n<h3>Networking</h3>\n<h4>Deprecations</h4>\n<ul>\n<li>Changed 3DES cipher to show a warning to users that it is a legacy TLS cipher. (<a href=\"https://commits.webkit.org/288742@main\">288742@main</a>)  (138948491)  </li>\n</ul>\n<h3>PDF</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed switching a PDF from continuous to discrete mode displaying the page(s) that are at the top of the window, even when barely visible. (<a href=\"https://commits.webkit.org/289212@main\">289212@main</a>)  (137608841)  </li>\n<li>Fixed the “Previous Page” context menu option not navigating to previous page in 2-up continuous mode. (<a href=\"https://commits.webkit.org/289337@main\">289337@main</a>)  (139817364)  </li>\n</ul>\n<h3>Rendering</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed adding out-of-flow objects under the inline in a continuation chain, when possible. (<a href=\"https://commits.webkit.org/289451@main\">289451@main</a>)  (102421379)  </li>\n<li>Fixed the missing table collapsed border for <code>&lt;thead&gt;</code>, <code>&lt;tbody&gt;</code>, and <code>&lt;tfoot&gt;</code> elements in the wrong order. (<a href=\"https://commits.webkit.org/289434@main\">289434@main</a>)  (110430887)  </li>\n<li>Fixed <code>&lt;input type=\"range\"&gt;</code> taking up space even with <code>width: 0</code> applied. (<a href=\"https://commits.webkit.org/289184@main\">289184@main</a>)  (113402515)  </li>\n<li>Fixed absolute positioned child with percent to include containing block padding. (<a href=\"https://commits.webkit.org/288460@main\">288460@main</a>)  (142321535)  </li>\n<li>Fixed a border not showing when a linear gradient and a border radius are set. (<a href=\"https://commits.webkit.org/289101@main\">289101@main</a>)  (142617573)  </li>\n<li>Fixed relative-positioned input elements in scroll areas not rendering outlines. (<a href=\"https://commits.webkit.org/289154@main\">289154@main</a>)  (142995142)  </li>\n<li>Fixed tabbing out of a popover causing a hang in certain cases. (<a href=\"https://commits.webkit.org/289277@main\">289277@main</a>)  (143145544)  </li>\n</ul>\n<h3>Storage</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed the Storage Access API to consider <code>AllExceptPartitioned</code> as not currently having cookie access, ensuring sites can request access to first-party cookie. (<a href=\"https://commits.webkit.org/289450@main\">289450@main</a>)  (143508260)  </li>\n</ul>\n<h3>SVG</h3>\n<h4>New Features</h4>\n<ul>\n<li>Added support for the <code>ch</code> length type for character width, but does not include support for upright vertical character width. (<a href=\"https://commits.webkit.org/288558@main\">288558@main</a>)  (142463263)  </li>\n</ul>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed not propagating bbox for empty <code>text</code> to ancestors. (<a href=\"https://commits.webkit.org/289394@main\">289394@main</a>)  (115217040)  </li>\n<li>Fixed dynamically updating the <code>transform</code> attribute. (<a href=\"https://commits.webkit.org/289022@main\">289022@main</a>)  (140761655)  </li>\n<li>Fixed <code>SVGElement.prototype.ownerSVGElement</code> on the outermost <code>&lt;svg&gt;</code> in <code>foreignObject</code>. (<a href=\"https://commits.webkit.org/289388@main\">289388@main</a>)  (143625675)  </li>\n</ul>\n<h3>Tables</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed missing behavior for <code>rowspan=\"0\"</code> on HTML tables where 0 means span over all the remaining rows. (<a href=\"https://commits.webkit.org/288746@main\">288746@main</a>)  (133910430)  </li>\n<li>Fixed table section and row background to not be treated as opaque. (<a href=\"https://commits.webkit.org/289047@main\">289047@main</a>)  (142588505)  </li>\n</ul>\n<h3>Text</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed displaying OpenType-SVG color fonts. (<a href=\"https://commits.webkit.org/288980@main\">288980@main</a>)  (137496217) (FB15426148)  </li>\n</ul>\n<h3>Web Animations</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed computing the time offset as needed when applying accelerated actions. (<a href=\"https://commits.webkit.org/288652@main\">288652@main</a>)  (142604875)  </li>\n</ul>\n<h3>Web API</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed: Aligned some MIME type handling in EME with the MIME Sniffing standard. (<a href=\"https://commits.webkit.org/288916@main\">288916@main</a>)  (114311586)  </li>\n<li>Fixed: Updated <code>selectorText</code> handling to align with the specification for CSSPageRule. (<a href=\"https://commits.webkit.org/289428@main\">289428@main</a>)  (125588212)  </li>\n<li>Fixed matching emoji in an element’s <code>id</code> attribute from a <code>&lt;link rel=expect&gt;</code> with an <code>href</code> that uses percent-encoded syntax. (<a href=\"https://commits.webkit.org/289174@main\">289174@main</a>)  (134531921)  </li>\n<li>Fixed render blocking for <code>&lt;link&gt;</code> to not match elements that are on a ‘stack of open elements’ for the parser. (<a href=\"https://commits.webkit.org/289020@main\">289020@main</a>)  (135846827)  </li>\n<li>Fixed Distraction Control unexpectedly hiding out-of-flow elements that overlap with a hidden element. (<a href=\"https://commits.webkit.org/288593@main\">288593@main</a>)  (136358918)  </li>\n<li>Fixed the HTML parser phone number handling to better account for MathML. (<a href=\"https://commits.webkit.org/288706@main\">288706@main</a>)  (141632782)  </li>\n</ul>\n<h4>Deprecations</h4>\n<ul>\n<li>Removed wheel event handling for <code>&lt;input type=\"number\"&gt;</code> to match platform conventions. (<a href=\"https://commits.webkit.org/289285@main\">289285@main</a>)  (99318505)  </li>\n</ul>\n<h3>Web Extensions</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed the <code>tabs</code> field missing from the result returned by <code>windows.create</code>. (<a href=\"https://commits.webkit.org/288949@main\">288949@main</a>)  (138529797)  </li>\n<li>Fixed the <code>webRequest.onBeforeRequest</code> event missing the <code>requestBody</code>. (<a href=\"https://commits.webkit.org/288813@main\">288813@main</a>)  (140338580) (FB15911234)  </li>\n<li>Fixed blurry extension icons. (<a href=\"https://commits.webkit.org/288529@main\">288529@main</a>)  (142070967) (FB16171862)  </li>\n<li>Fixed not picking the “zh” locale when “zh-Hant” is preferred. (<a href=\"https://commits.webkit.org/288974@main\">288974@main</a>)  (142602243) (FB16271745)  </li>\n<li>Fixed <code>webRequest</code> event listeners to honor <code>extraInfoSpec</code> for better performace. (<a href=\"https://commits.webkit.org/288938@main\">288938@main</a>)  (142907168)  </li>\n<li>Fixed web extension resources to be treated as UTF-8 by default. (<a href=\"https://commits.webkit.org/289086@main\">289086@main</a>)  (143079179)  </li>\n</ul>\n<h3>Web Inspector</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed style rules to stay editable after being modified by CSSOM in JavaScript. (<a href=\"https://commits.webkit.org/288948@main\">288948@main</a>)  (124650808)  </li>\n</ul>\n<h3>WebRTC</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed switching from speaker to receiver does not work the first time, but only the second time. (<a href=\"https://commits.webkit.org/289006@main\">289006@main</a>)  (141685006)  </li>\n</ul>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"cfa4f0a97b94f4af6a0a641b31b4214ab45fa8855cda83b341210a27c70b3f8d","category":"Tech"}