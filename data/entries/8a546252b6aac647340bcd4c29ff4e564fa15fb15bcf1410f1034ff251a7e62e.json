{"title":"Announcing Fully Managed RStudio on Amazon SageMaker for Data Scientists","link":"https://aws.amazon.com/blogs/aws/announcing-fully-managed-rstudio-on-amazon-sagemaker-for-data-scientists/","date":1635881730000,"content":"<p>Two years ago, we <a href=\"https://aws.amazon.com/blogs/aws/amazon-sagemaker-studio-the-first-fully-integrated-development-environment-for-machine-learning/\">introduced</a> Amazon SageMaker Studio, the industry’s first fully integrated development environment (IDE) for machine learning (ML). <a href=\"https://aws.amazon.com/sagemaker/studio/\">Amazon SageMaker Studio</a> provides a single, web-based visual interface where you can perform all ML development steps, improving data science team productivity by up to 10 times</p> \n<p>Many data scientists love the <a href=\"https://www.r-project.org/\">R project</a>, an open-source ecosystem with more than <a href=\"https://cran.r-project.org/web/packages/\">18,000 packages</a> that is not just a programming language but is also an interactive environment for doing data science. <a href=\"https://www.rstudio.com/\">RStudio</a> is one of the most popular IDE among R developers for ML and data science projects. RStudio provides open-source tools for R and enterprise-ready professional software for data science teams to develop and share their work in the organization. But, building, securing, scaling and maintaining RStudio yourself is tedious and cumbersome.</p> \n<p>Today, in collaboration with <a href=\"https://www.rstudio.com/about/\">RStudio PBC</a>, we are excited to announce the general availability of <a href=\"https://aws.amazon.com/sagemaker/rstudio\">RStudio on Amazon SageMaker</a>, the industry’s first fully managed RStudio Workbench IDE in the cloud. You can now bring your current RStudio license to easily migrate your self-managed RStudio environments to Amazon SageMaker in just a few simple steps. If you’d like to read more about this exciting collaboration, <a href=\"https://blog.rstudio.com/2021/10/29/announcing-rstudio-on-amazon-sagemaker/\">check out this blog</a> from RStudio PBC.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/14/2021-rstudio-sagemaker-main.png\" /></p> \n<p>With RStudio on Amazon SageMaker, administrators can have a simple experience to migrate their RStudio environments to integrate into Amazon SageMaker and bring existing RStudio licenses to manage through <a href=\"https://aws.amazon.com/license-manager\">AWS License Manager</a>. They can onboard both R and Python developers to the same Amazon SageMaker domain using AWS Single Sign-On (SSO) or <a href=\"https://aws.amazon.com/iam\">AWS Identity and Access Management</a> (IAM) and take it as a centralized place to configure both RStudio and Amzon SageMaker Studio.</p> \n<p>So, data scientists have a freedom of choice between programming languages and coding interfaces to switch between RStudio and <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/notebooks.html\">Amazon SageMaker Studio notebooks</a>. All of their work, including code, datasets, repositories, and other artifacts are synchronized between the two environments through the underlying <a href=\"https://aws.amazon.com/efs\">Amazon EFS</a> storage.</p> \n<p><strong><u>Getting Started with RStudio on SageMaker </u></strong><br /> You now can launch the familiar RStudio Workbench with a simple click from Amazon SageMaker. Before getting started, your administrator needs to buy an appropriate license from RStudio PBC for end-users, set up your granted licenses in AWS License Manager, and create an Amazon SageMaker domain and user profile to launch RStudio on Amazon SageMaker. To learn all the administrator jobs, including managing licenses and monitoring usages, see a <a href=\"https://aws.amazon.com/blogs/machine-learning/get-started-with-rstudio-on-amazon-sagemaker/\">blog post of the setting up process</a>, or <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/rstudio-manage.html\">Manage RStudio on Amazon SageMaker</a> in the AWS documentation.</p> \n<p>Once the required setup process is completed, you can open the RStudio Workbench from the new <strong>Launch app</strong> drop-down list in the created user list and select <strong>RStudio</strong>.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/14/2021-rstudio-sagemaker-launch-app-rstudio.png\" /></p> \n<p>You will immediately see the RStudio Workbench home page and a list of sessions, projects, and published content on the home page. To create a new session, select the <strong>New Session</strong> button on the page, select a desired instance in the <strong>Instance Type</strong> dropdown list, and choose <strong>Start Session</strong>.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/14/2021-rstudio-sagemaker-create-session.png\" /></p> \n<p>When you choose a compute instance type for a lightweight analysis that can be powered by two vCPU and four GiB memory, you can use a default <strong>ml.t3.medium</strong> instance. For a complex and large-scale ML modeling, you can choose a large instance with desired compute and memory from a <a href=\"https://aws.amazon.com/sagemaker/pricing/\">wide array of ML instances available on Amazon SageMaker</a>.</p> \n<p>In a few minutes, your session will be ready for development in RStudio Workbench. When you launch your RStudio session, the Base R image serves as the basis of your instance. This Docker image includes R v4.0, AWS tools such as <code>awscli</code>, <code>sagemaker</code>, <code>boto3</code> Python packages, and <code><a href=\"https://rstudio.github.io/reticulate/\">reticulate</a></code> package for the interoperability between Python and R.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/14/2021-rstudio-sagemaker-full.png\" /></p> \n<p><strong><u>Managing R Packages and Publishing your Analysis</u></strong><br /> Along with the RStudio Workbench, <a href=\"https://www.rstudio.com/products/connect/\">RStudio Connect</a> and <a href=\"https://www.rstudio.com/products/package-manager/\">RStudio Package Manager</a> are the most used products of RStudio.</p> \n<p>RStudio Connect is designed to allow data scientists to publish insights and dashboard and web applications from RStudio Workbench easily. RStudio Package Manager centrally manages the package repository for your organization so that data scientists can securely install packages faster while ensuring project reproducibility and repeatability.</p> \n<p>Your administrator, for example, can create a repository and subscribe it to the built-in source named <code>cran</code> in RStudio Package Manager.</p> \n<pre><code>$ rspm sync --wait # Initiate a sync\n$ rspm create repo --name=prod-cran --description='Access CRAN packages' # Create a repository:\n$ rspm subscribe --repo=prod-cran --source=cran # Subscribe the repository to the cran source</code></pre> \n<p>When these steps are completed, you can use the <code>prod-cran</code> repository in the web interface of RStudio Package Manager.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/15/2021-rstudio-prod-cran.jpg\" /></p> \n<p>Now, you can configure this repository to install and manage your packages in RStudio Workbench. You can also configure RStudio Connect to publish insights, dashboard and web applications from RStudio Workbench via RStudio Connect so that your collaborators can easily consume your work.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/15/2021-rstudio-configure-settings.jpg\" /></p> \n<p>For example, you run the analysis inline to create an R Markdown that can be published to your collaborators. You can preview the slides while writing codes with the <strong>Preview</strong> button and publish it with the <strong>Publish</strong> icon in your RStudio session.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/19/2021-rstudio-sagemaker-rmarkdown.png\" /></p> \n<p>You can also publish <a href=\"https://shiny.rstudio.com/\">Shiny application</a> easy to create interactive web interfaces, or Python-based content such as <a href=\"https://docs.streamlit.io/en/latest/index.html\">Streamlit</a> to the RStudio Connect instance.</p> \n<p>To learn more, see <a href=\"https://aws.amazon.com/blogs/machine-learning/host-rstudio-connect-and-package-manager-for-ml-development-in-rstudio-on-amazon-sagemaker/\">Host RStudio Connect and Package Manager for ML development in RStudio on Amazon SageMaker</a> written by my colleagues, Michael Hsieh, Chayan Panda, and Farooq Sabir on the AWS Machine Learning Blog.</p> \n<p><strong><u>Integrating training jobs with Amazon SageMaker</u></strong><br /> One of the benefits of using RStudio on Amazon SageMaker is the integration of Amazon SageMaker features. Your RStudio and Jupyter Notebook instances of Amazon SageMaker allow you to share the same Amazon EFS file system. You can import R codes written in Jupyter Notebook or use the same files in both Jupyter Notebook and RStudio without having to move your files between the two.</p> \n<p>For example, you can run an R sample code including importing libraries, creating an Amazon SageMaker session, getting the IAM role, and importing and visualizing sample data. And then, it stores data on the S3 bucket, and triggers a training task with an XGBoost model by specifying the training container and defining an Amazon SageMaker Estimator. To learn more, see <a href=\"https://github.com/aws/amazon-sagemaker-examples/tree/master/r_examples\">R sample codes in Amazon SageMaker</a>.</p> \n<pre><code># Import reticulate, readr and sagemaker libraries\nlibrary(reticulate)\nlibrary(readr)\nsagemaker &lt;- import('sagemaker')\n\n# Create a sagemaker session\nsession &lt;- sagemaker$Session()\n\n# Get execution role\nrole_arn &lt;- sagemaker$get_execution_role()\n\n# Read a csv file from UCI public repository\ndata_file &lt;- 'http://archive.ics.uci.edu/ml/machine-learning-databases/abalone/abalone.data'\n\n# Copy data to a dataframe, rename columns, and show dataframe head\ndata_csv &lt;- read_csv(file = data_file, col_names = FALSE, col_types = cols())\nnames(data_csv) &lt;- c('sex', 'length', 'diameter', 'height', 'whole_weight', 'shucked_weight', 'viscera_weight', 'shell_weight', 'rings')\nhead(data_csv)\n\n# Visualize data have height equal to 0\nlibrary(ggplot2)\noptions(repr.plot.width = 5, repr.plot.height = 4) \nggplot(abalone, aes(x = height, y = rings, color = sex, alpha=0.5)) + geom_point() + geom_jitter()\n\n# Upload data to Amazon S3 bucket\ns3_train &lt;- session$upload_data(path = data_csv,\n                                bucket = my_s3_bucket, \n                                key_prefix = 'r_hello_world_demo/data')\ns3_path = paste('s3://',bucket,'/r_hello_world_demo/data/abalone.csv',sep = '')\n\n# Train a XGBoost model, specify the training containers, and define an Amazon SageMaker Estimator\ncontainer &lt;- sagemaker$image_uris$retrieve(framework='xgboost', \n                                           region= session$boto_region_name, \n\t\t\t\t\t\t\t\t\t\t   version='latest')\t\t\t\t\t\t\t\nestimator &lt;- sagemaker$estimator$Estimator(image_uri = container,\n                                           role = role_arn,\n                                           train_instance_count = 1L,\n                                           train_instance_type = 'ml.m5.4xlarge',\n                                           train_volume_size = 30L,\n                                           train_max_run = 3600L,\n                                           input_mode = 'File',\n                                           output_path = s3_path)</code></pre> \n<p><strong><u>Now Available</u></strong><br /> <a href=\"https://aws.amazon.com/sagemaker/rstudio\">RStudio on Amazon SageMaker</a> is available in all AWS Regions where both Amazon SageMaker Studio and AWS License Manager are available. You can bring your own license of RStudio on Amazon SageMaker and pay for the underlying compute and storage resources within Amazon SageMaker or other AWS services, based on your usage.</p> \n<p>To get started with RStudio on Amazon SageMaker, you can use <a href=\"https://aws.amazon.com/free\">AWS Free Tier</a>. You can use 250 hours of <strong>ml.t3.medium</strong> instance on Amazon SageMaker Studio per month for the first two months. To learn more, see <a href=\"https://aws.amazon.com/sagemaker/pricing\">Amazon SageMaker Pricing</a> page.</p> \n<p>Give it a try, and please send us feedback either in the <a href=\"https://forums.aws.amazon.com/forum.jspa?forumID=285\">AWS forum</a> for Amazon SageMaker or through your usual AWS support contacts.</p> \n<p>– <a href=\"https://twitter.com/chnanyun\">Channy</a></p>","author":"Channy Yun","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"8a546252b6aac647340bcd4c29ff4e564fa15fb15bcf1410f1034ff251a7e62e","category":"Tech"}