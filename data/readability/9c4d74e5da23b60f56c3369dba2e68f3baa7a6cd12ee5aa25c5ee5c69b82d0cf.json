{"title":"น่าสนใจสำหรับ RESTler: Stateful REST API Fuzzing","link":"https://www.somkiat.cc/rest-api-fuzzing-with-restler/","date":1627384538000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>July 27, 2021</time> <span><a href=\"https://www.somkiat.cc/category/programming/\" rel=\"category tag\">Programming</a></span></p></div></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/1200x627_Restler_still_with_logo-1-1024x535.png\" alt=\"\" width=\"558\" height=\"292\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/07/1200x627_Restler_still_with_logo-1-1024x535.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/07/1200x627_Restler_still_with_logo-1-300x157.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/07/1200x627_Restler_still_with_logo-1-768x402.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/07/1200x627_Restler_still_with_logo-1-1536x803.png 1536w, https://www.somkiat.cc/wp-content/uploads/2021/07/1200x627_Restler_still_with_logo-1-2048x1071.png 2048w\" sizes=\"(max-width: 558px) 100vw, 558px\"></figure><p>อ่าน research paper ของ Microsoft<br>เรื่อง <strong><a href=\"https://www.microsoft.com/en-us/research/publication/restler-stateful-rest-api-fuzzing/\" target=\"_blank\" rel=\"noreferrer noopener\">RESTler: Stateful REST API Fuzzing</a></strong><br>เป็นเครื่องมือสำหรับการทดสอบ REST API<br>แบบ Fuzz testing หรือ Fuzzing<br>คือรูปแบบหนึ่งของการทดสอบแบบ blackbox<br>โดยจะพยายามหา bug หรือ ข้อผิดพลาดจาก input ในรูปแบบต่าง ๆ อย่างอัตโนมัติ</p><p><strong>โดยที่ Fuzzing จะมีอยู่ 3 รูปแบบ</strong></p><ul><li><strong>Blackbox</strong> ทำการ random input จะ interface ของระบบที่จะทดสอบ แล้วดูพฤติกกรมการทำงาน</li><li><strong>Grammar-based</strong> ทำการสร้าง input ตามมุมมองของผู้ใช้งาน</li><li><strong>Whitebox</strong> ทำการสร้าง input แบบ dynamic ตามการทำงานภายในของระบบ เพื่อให้ครอบคลุมทุก ๆ เงื่อนไข (branch condition) ซึ่งเป็นรูปแบบที่ทดสอบในครอบคลุมมาก ๆ</li></ul><p><strong>ทำไมต้องใช้ Fuzzing ด้วย เพื่อทดสอบ</strong></p><ul><li>ช่วยหาข้อผิดพลาดในรูปแบบอื่น ๆ ที่การทดสอบแบบปกติ (static) มักจะหาไม่เจอ</li><li>ช่วยให้การทดสอบมีคุณภาพและน่าเชื่อถือมากยิ่งขึ้น</li></ul><p><strong>สำหรับ Paper นี้จะทำการทดสอบ REST API</strong></p><p>โดยทำการสร้างเครื่องมือชื่อว่า RESTler มาให้ใช้งาน<br>พัฒนาด้วยภาษา Python 3.8.2 และ .NET 5<br>หรือจะใช้งานผ่าน <a href=\"https://github.com/microsoft/restler-fuzzer/blob/main/docker/Dockerfile\" target=\"_blank\" rel=\"noreferrer noopener\">Docker</a> ก็ได้<br></p><p><strong>การทำงานของ RESTler จะทำการวิเคราะห์จาก Open API Specification หรือ Swagger นั่นเอง</strong></p><p>เพื่อทำการสร้างรูปแบบของ input<br>จากนั้นทำการส่ง input นั้น ๆ ไปยัง API<br>รวมทั้งยังทำการเรียนรู้จาก response ที่ได้มาจาก input ก่อนหน้า<br>ทำให้เป็นเครื่องมือที่เรียกว่า Stateful นั่นเอง<br>แสดงดังรูป</p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/RESTler-arch.png\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/07/RESTler-arch.png 787w, https://www.somkiat.cc/wp-content/uploads/2021/07/RESTler-arch-300x74.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/07/RESTler-arch-768x189.png 768w\" sizes=\"(max-width: 787px) 100vw, 787px\"></figure><p><strong>ลองดูจาก <a href=\"https://github.com/microsoft/restler-fuzzer/tree/main/demo_server\" target=\"_blank\" rel=\"noreferrer noopener\">Demo project</a> ได้เลย</strong></p><p>เริ่มด้วย start api server ก่อน<br>จากนั้นทำการ run RESTler ใน command line<br>แต่ระวังด้วยนะครับ เพราะว่า server อาจจะล่มได้เลย<br>เนื่องจากยิง request มาเยอะมาก ๆ</p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/1_AZ8apBPUn_fgWplRCeFcIw-1024x426.png\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/07/1_AZ8apBPUn_fgWplRCeFcIw-1024x426.png 1024w, https://www.somkiat.cc/wp-content/uploads/2021/07/1_AZ8apBPUn_fgWplRCeFcIw-300x125.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/07/1_AZ8apBPUn_fgWplRCeFcIw-768x319.png 768w, https://www.somkiat.cc/wp-content/uploads/2021/07/1_AZ8apBPUn_fgWplRCeFcIw.png 1400w\" sizes=\"(max-width: 1024px) 100vw, 1024px\"></figure><p><strong>Reference Websites</strong></p><p><a href=\"https://www.microsoft.com/en-us/research/blog/restler-finds-security-and-reliability-bugs-through-automated-fuzzing/\">https://www.microsoft.com/en-us/research/blog/restler-finds-security-and-reliability-bugs-through-automated-fuzzing/</a></p><p><a href=\"https://owasp.org/www-project-web-security-testing-guide/v41/6-Appendix/C-Fuzz_Vectors\">https://owasp.org/www-project-web-security-testing-guide/v41/6-Appendix/C-Fuzz_Vectors</a></p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"9c4d74e5da23b60f56c3369dba2e68f3baa7a6cd12ee5aa25c5ee5c69b82d0cf","category":"Thai"}