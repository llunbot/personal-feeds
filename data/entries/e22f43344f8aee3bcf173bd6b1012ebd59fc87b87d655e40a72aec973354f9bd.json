{"title":"Release Notes for Safari Technology Preview 167","link":"https://webkit.org/blog/14100/release-notes-for-safari-technology-preview-167/","date":1680727810000,"content":"<p><a href=\"https://webkit.org/blog/6017/introducing-safari-technology-preview/\">Safari Technology Preview</a> Release 167 is now <a href=\"https://webkit.org/downloads/\">available for download</a> for macOS Monterey 12.3 or later and macOS Ventura. If you already have Safari Technology Preview installed, you can update it in the Software Update pane of System Preferences on macOS Monterey, or System Settings under General → Software Update on macOS Ventura.</p>\n<p>This release includes WebKit changes between: <a href=\"https://github.com/WebKit/WebKit/compare/0de797f8f137b977f9f17c33bb788c74e569d9af...34d1ba42ca5b1beeffceda8eff598bedbfc5ef2d\">261248@main…262124@main</a>.</p>\n<h3>Web Inspector</h3>\n<ul>\n<li>Elements tab\n<ul>\n<li>Fixed editing CSS properties inside rules with nested rules causing the inner nested rules to be deleted (<a href=\"https://commits.webkit.org/261329@main\">261329@main</a>)</li>\n<li>Fixed filtering styles to also match CSS at-rule identifiers (<a href=\"https://commits.webkit.org/261804@main\">261804@main</a>)</li>\n<li>Fixed new CSS property unexpectedly getting dropped from an empty CSS rule (<a href=\"https://commits.webkit.org/261861@main\">261861@main</a>)</li>\n<li>Fixed adding a new CSS rule in the Styles sidebar not appearing to add the rule on first attempt (<a href=\"https://commits.webkit.org/261883@main\">261883@main</a>)</li>\n</ul>\n</li>\n<li>Sources tab\n<ul>\n<li>Added pretty-printing support for various modern JavaScript syntax, including optional chaining, private class members, and optional assignment operators (<a href=\"https://commits.webkit.org/261748@main\">261748@main</a>)</li>\n</ul>\n</li>\n</ul>\n<h3>CSS</h3>\n<ul>\n<li>Implemented CSS <code>text-transform</code> with multiple values (<a href=\"https://commits.webkit.org/261419@main\">261419@main</a>)</li>\n<li>Added offsets into <code>shape-outside</code> Shapes (<a href=\"https://commits.webkit.org/261331@main\">261331@main</a>)</li>\n<li>Added support for top-level <code>&amp;</code> selector for CSS Nesting (<a href=\"https://commits.webkit.org/261739@main\">261739@main</a>)</li>\n<li>Added support for <code>counter()</code> with <code>@counter-style</code> (<a href=\"https://commits.webkit.org/261985@main\">261985@main</a>)</li>\n<li>Changed to apply basic font properties as font variation settings (<a href=\"https://commits.webkit.org/261566@main\">261566@main</a>)</li>\n<li>Fixed CSS <code>@imports</code> in HTML missing quote marks getting mistakenly hidden from the Preload Scanner (<a href=\"https://commits.webkit.org/261254@main\">261254@main</a>)</li>\n<li>Fixed calculating the <code>CSSFilter</code> geometry and clipping (<a href=\"https://commits.webkit.org/261827@main\">261827@main</a>)</li>\n<li>Fixed <code>border-image-repeat: round</code> to match other browsers (<a href=\"https://commits.webkit.org/261903@main\">261903@main</a>)</li>\n<li>Updated margin box for trimmed <code>block-end</code> boxes in block container and adjust the position of self-collapsing children (<a href=\"https://commits.webkit.org/261750@main\">261750@main</a>)</li>\n</ul>\n<h3>JavaScript</h3>\n<ul>\n<li>Added ClassSetCharacter syntax tests for RegExp <code>v</code> flag and fix issues found (<a href=\"https://commits.webkit.org/261746@main\">261746@main</a>)</li>\n<li>Added more tests for RegExp <code>v</code> flag and fix issues found (<a href=\"https://commits.webkit.org/261714@main\">261714@main</a>)</li>\n<li>Added ProxyObjectHas IC to optimize “has” trap (<a href=\"https://commits.webkit.org/261628@main\">261628@main</a>)</li>\n<li>Aligned error message for non-callable ProxyObject’s “get” trap with its counterparts (<a href=\"https://commits.webkit.org/261627@main\">261627@main</a>)</li>\n<li>Optimized <code>Function.prototype.bind</code> (<a href=\"https://commits.webkit.org/261825@main\">261825@main</a>)</li>\n<li>Optimized <code>Function#bind</code> (<a href=\"https://commits.webkit.org/261993@main\">261993@main</a>)</li>\n</ul>\n<h3>WebAssembly</h3>\n<ul>\n<li>Added support for <code>anyref</code> behind flag (<a href=\"https://commits.webkit.org/261711@main\">261711@main</a>)</li>\n<li>Implemented <code>cast</code> operations behind flag (<a href=\"https://commits.webkit.org/261445@main\">261445@main</a>)</li>\n<li>Implemented <code>eqref</code> and <code>ref.eq</code> behind flag (<a href=\"https://commits.webkit.org/261663@main\">261663@main</a>)</li>\n<li>Implemented initial minimal JS API for Wasm GC behind flag (<a href=\"https://commits.webkit.org/261544@main\">261544@main</a>)</li>\n</ul>\n<h3>Media</h3>\n<ul>\n<li>Fixed video in picture-to-picture snaps to incorrect size (<a href=\"https://commits.webkit.org/261383@main\">261383@main</a>)</li>\n<li>Fixed a page with one document doing capture and another playing correctly handle remote commands (<a href=\"https://commits.webkit.org/261414@main\">261414@main</a>)</li>\n<li>Fixed <code>readyState</code> to change back to <code>HAVE_METADATA</code> when removing a sample at the current playtime (<a href=\"https://commits.webkit.org/261955@main\">261955@main</a>)</li>\n<li>Fixed <code>SourceBuffer.buffered</code> to return the same object if it’s not modified (<a href=\"https://commits.webkit.org/261848@main\">261848@main</a>)</li>\n<li>Fixed video’s <code>readyState</code> incorrectly switching between <code>HAVE_CURRENT_DATA</code> and <code>HAVE_METADATA</code> (<a href=\"https://commits.webkit.org/262112@main\">262112@main</a>)</li>\n<li>Skipped initial MSE buffering rate computation (<a href=\"https://commits.webkit.org/261328@main\">261328@main</a>)</li>\n</ul>\n<h3>Popover</h3>\n<ul>\n<li>Avoided conflicting interactions in the top layer (<a href=\"https://commits.webkit.org/261317@main\">261317@main</a>)</li>\n<li>Made <code>element.togglePopover()</code> more interoperable (<a href=\"https://commits.webkit.org/261386@main\">261386@main</a>, <a href=\"https://commits.webkit.org/261436@main\">261436@main</a>)</li>\n<li>Implemented popover focusing steps (<a href=\"https://commits.webkit.org/261400@main\">261400@main</a>)</li>\n<li>Implemented <code>popovertarget</code> &amp; <code>popovertargetaction</code> attributes (<a href=\"https://commits.webkit.org/261346@main\">261346@main</a>)</li>\n<li>Added an exception when calling <code>dialog.show()</code> on an open popover (<a href=\"https://commits.webkit.org/261351@main\">261351@main</a>)</li>\n</ul>\n<h3>Rendering</h3>\n<ul>\n<li>Fixed mixed characters in right-to-left SVG text (<a href=\"https://commits.webkit.org/261495@main\">261495@main</a>)</li>\n<li>Fixed <code>margin-top</code> getting ignored on elements with zero-height (and clear set) if they appear after floating elements (<a href=\"https://commits.webkit.org/261926@main\">261926@main</a>)</li>\n</ul>\n<h3>Web API</h3>\n<ul>\n<li>Added support for Apple Pay in cross-origin iframes with <code>allow=payment</code> attribute (<a href=\"https://commits.webkit.org/262616@main\">262616@main</a>)</li>\n<li>Implemented Priority Hints (<a href=\"https://commits.webkit.org/261689@main\">261689@main</a>)</li>\n<li>Changed to allow quota to be set based on disk space (<a href=\"https://commits.webkit.org/261840@main\">261840@main</a>)</li>\n<li>Changed <code>range.extractContents()</code> to abort early if there’s a <code>doctype</code> in the range (<a href=\"https://commits.webkit.org/261342@main\">261342@main</a>)</li>\n<li>Changed to include FetchMetadata on preflight requests (<a href=\"https://commits.webkit.org/261587@main\">261587@main</a>)</li>\n<li>Fixed some Scroll To Text Fragment URLs not finding existing text on the page (<a href=\"https://commits.webkit.org/261302@main\">261302@main</a>)</li>\n<li>Fixed the <code>&lt;summary&gt;</code> element not focusable with <code>tabindex</code> (<a href=\"https://commits.webkit.org/261497@main\">261497@main</a>)</li>\n<li>Fixed problems changing <code>multiple</code> state <code>&lt;select&gt;</code> element to <code>single</code> state (<a href=\"https://commits.webkit.org/261380@main\">261380@main</a>)</li>\n<li>Fixed <code>Cross-Origin-Embedder-Policy</code> incorrectly blocking iframes on cache hit (<a href=\"https://commits.webkit.org/261924@main\">261924@main</a>)</li>\n<li>Fullscreen window size is incorrect for non-video elements (<a href=\"https://commits.webkit.org/261904@main\">261904@main</a>)</li>\n<li>Optimized the HTML parser entity names table by omitting semicolons (<a href=\"https://commits.webkit.org/261734@main\">261734@main</a>)</li>\n<li>Implemented the <code>Response.json</code> static method (<a href=\"https://commits.webkit.org/261960@main\">261960@main</a>)</li>\n</ul>\n<h3>Accessibility</h3>\n<ul>\n<li>Added support for <code>code</code> ARIA role (<a href=\"https://commits.webkit.org/261640@main\">261640@main</a>)</li>\n<li>Implemented ‘generic’ role mapping (<a href=\"https://commits.webkit.org/261894@main\">261894@main</a>)</li>\n<li>Fixed standalone spin buttons to be directly incrementable and decrementable (<a href=\"https://commits.webkit.org/261396@main\">261396@main</a>)</li>\n<li>Fixed form controls taking the AX text of an ancestor label over their own inner text (<a href=\"https://commits.webkit.org/261843@main\">261843@main</a>)</li>\n</ul>\n<h3>MathML</h3>\n<ul>\n<li>Fixed not ignoring out-of-flow boxes while processing invalid MathML content (<a href=\"https://commits.webkit.org/261841@main\">261841@main</a>)</li>\n</ul>\n<h3>SVG</h3>\n<ul>\n<li>Fixed text transformation not starting on initial render (<a href=\"https://commits.webkit.org/261408@main\">261408@main</a>)</li>\n</ul>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"e22f43344f8aee3bcf173bd6b1012ebd59fc87b87d655e40a72aec973354f9bd","category":"Tech"}