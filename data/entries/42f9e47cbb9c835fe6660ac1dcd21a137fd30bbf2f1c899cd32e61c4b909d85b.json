{"title":"Navigating the New HashiCorp Enterprise License Deployment Process","link":"https://www.hashicorp.com/blog/navigating-the-new-hashicorp-enterprise-license-deployment-process","date":1627662600000,"content":"<p>We recently introduced a new licensing deployment process to the enterprise offerings of Consul, Nomad, and Vault. The changes will affect product upgrades and the server instances’ boot-up order of operations. This is a minor but important change that brings our product licensing in line with industry best practices. Further, many customers have asked for enhanced automation for license loading. We're using this change as an opportunity to simplify the license loading operation.</p>\n<p>A learning guide is available to help you install an enterprise license. Check out the <a href=\"https://learn.hashicorp.com/tutorials/nomad/hashicorp-enterprise-license?in=nomad/enterprise\">Install a HashiCorp Enterprise License</a> tutorial for detailed guidance.</p>\n<h2><a href=\"#the-new-enterprise-license-process\">»</a><a></a>The New Enterprise License Process</h2>\n<p>The new license enablement process ships with Consul Enterprise 1.10, Nomad Enterprise 1.1, and Vault Enterprise 1.8. In these product versions, HashiCorp Enterprise servers will no longer start without a license.</p>\n<p>Instead, the server boot-up process introduces a license check. When the server instance initializes the license watcher, it will read from an environment variable or file. If the license is missing, invalid, or expired, the server will immediately exit. Read on for more details on how this process functions.</p>\n<p>Vault Enterprise will retain the capability of looking up a license from storage. However, this capability will be deprecated in a future release, and customers must provide an enterprise license through the process mentioned above.</p>\n<p>In previous versions of HashiCorp enterprise products, one server could distribute a license to other servers via the Raft protocol. This method will no longer work since each server must find a valid license during the startup process.</p>\n<h2><a href=\"#license-frequently-asked-questions-faq\">»</a><a></a>License Frequently Asked Questions (FAQ)</h2>\n<p>You can find a product-specific FAQ on each of the products' documentation pages.</p>\n<ul>\n<li><a href=\"https://www.consul.io/docs/enterprise/license/faq\">Consul</a></li>\n<li><a href=\"https://www.nomadproject.io/docs/enterprise/license/faq\">Nomad</a></li>\n<li><a href=\"https://www.vaultproject.io/docs/enterprise/license/faq\">Vault</a></li>\n</ul>\n<h2><a href=\"#boot-up-process-flow\">»</a><a></a>Boot-Up Process Flow</h2>\n<p>Here is a closer look at the boot-up process, and the available options for providing a license to the server instances.</p>\n<p>As mentioned previously, the server instances expect a valid license to be available during the boot-up process.  The license order of precedence for the boot-up process is the following:</p>\n<ol>\n<li>\n<a></a>\n<a href=\"#file_path\"><code>file_path</code></a> specified in the configuration file.</li>\n<li>\n<a></a>\n<a href=\"#consul_license\"><code>CONSUL_LICENSE</code></a>, <code>NOMAD_LICENSE</code>, <code>VAULT_LICENSE</code> environment variable.</li>\n<li>\n<a></a>\n<a href=\"#consul_license_path\"><code>CONSUL_LICENSE_PATH</code></a>, <code>NOMAD_LICENSE_PATH</code>, <code>VAULT_LICENSE_PATH</code>  environment variable</li>\n</ol>\n<p>The license watcher process verifies that a valid license is available during the boot-up process by following the license order of precedence. The diagram below shows how the process works and the license search order.</p><img src=\"https://www.datocms-assets.com/2885/1627422411-boot-up-ent-license.png\" /><h2><a href=\"#request-a-trial-license\">»</a><a></a>Request a Trial License</h2>\n<p>You can download a 30-day free trial license for any HashiCorp enterprise product. Follow the links below and agree to the terms of service. Upon completing the form, you will observe a license key on the screen and receive an email containing the license.</p>\n<ul>\n<li><a href=\"https://consul.io/trial\">Consul</a></li>\n<li><a href=\"https://nomadproject.io/trial\">Nomad</a></li>\n<li><a href=\"%5Bhttps://vaultproject.io/trial%5D(http://vaultproject.io/trial)\">Vault</a></li>\n</ul>\n<p>Don’t have your enterprise license handy? Got other questions? HashiCorp Enterprise customers may contact their organization's customer success manager (CSM) or email <a href=\"mailto:support-softwaredelivery@hashicorp.com\">support-softwaredelivery@hashicorp.com</a>.</p>\n<h2><a href=\"#next-steps\">»</a><a></a>Next Steps</h2>\n<p>The license enablement process is different starting with Consul Enterprise 1.10, Nomad Enterprise 1.10, and Vault Enterprise 1.8. Read the <a href=\"https://learn.hashicorp.com/tutorials/nomad/hashicorp-enterprise-license?in=nomad/enterprise\">Install a HashiCorp Enterprise License</a> tutorial for detailed guidance on how to configure a server instance with an enterprise license.</p>\n<p>We don’t foresee an impact on other aspects of your incumbent automation tooling. If you have any specific questions, please reach out to your account team or email us on <a href=\"mailto:support-softwaredelivery@hashicorp.com\">support-softwaredelivery@hashicorp.com</a>. We are standing by to help.</p>","author":"Karl Cardenas","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"42f9e47cbb9c835fe6660ac1dcd21a137fd30bbf2f1c899cd32e61c4b909d85b","category":"Tech"}