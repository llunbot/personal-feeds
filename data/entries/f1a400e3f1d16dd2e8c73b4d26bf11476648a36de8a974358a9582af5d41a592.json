{"title":"New – Improve Amazon S3 Glacier Flexible Restore Time By Up To 85% Using Standard Retrieval Tier and S3 Batch Operations","link":"https://aws.amazon.com/blogs/aws/new-improve-amazon-s3-glacier-flexible-restore-time-by-up-to-85-using-standard-retrieval-tier-and-s3-batch-operations/","date":1691591921000,"content":"<p>Last year, <a href=\"https://aws.amazon.com/s3/storage-classes/glacier/\">Amazon S3 Glacier</a> celebrated its tenth anniversary. Amazon S3 Glacier is the leader in cloud cold storage, and I wrote about its <a href=\"https://aws.amazon.com/blogs/aws/happy-10th-anniversary-amazon-s3-glacier-a-decade-of-cold-storage-in-the-cloud/\">innovations over the last decade</a>.</p> \n<p>The Amazon S3 Glacier storage classes provide you with long-term, secure, and durable storage options to optimally archive your data at the lowest cost. The Amazon S3 Glacier storage classes (<a href=\"https://aws.amazon.com/s3/storage-classes/glacier/instant-retrieval/\">Amazon S3 Glacier Instant Retrieval</a>, <a href=\"https://aws.amazon.com/s3/storage-classes/glacier/\">Amazon S3 Glacier Flexible Retrieval</a>, and <a href=\"https://aws.amazon.com/s3/storage-classes/glacier/\">Amazon S3 Glacier Deep Archive</a>) are purpose-built for colder data, providing you with retrieval flexibility from milliseconds to days, in addition to the ability to store archive data for as low as $1 per terabyte per month.</p> \n<p>Many customers tell us that they are keeping their data for longer periods of time because they recognize its future value potential, and that they are already monetizing subsets of their archival data, or plan to use large sets of their archive data in the future. <a href=\"https://aws.amazon.com/archive/\">Modern data archiving</a> is not only about <a href=\"https://d1.awsstatic.com/AWS%20Cloud%20Storage/Use-AWS-Cloud-Storage-to%20gain-economic-and-operational-advantages.pdf\">optimizing storage costs</a> for cold data; it’s also about setting up mechanisms so that when you need to put that data to work for your business, you can access it as quickly as your business requirements demand.</p> \n<p>In 2022, AWS customers restored over 32 billion objects from Amazon S3 Glacier. Customers need to retrieve archived objects quickly when <a href=\"https://aws.amazon.com/media/tech/accelerated-video-transcoding/\">transcoding media</a>, <a href=\"https://aws.amazon.com/backup-restore/\">restoring operational backups</a>, <a href=\"https://aws.amazon.com/generative-ai/\">training machine learning (ML) models</a>, or <a href=\"https://aws.amazon.com/big-data/datalakes-and-analytics/\">analyzing historical data</a>. While customers using S3 Glacier Instant Retrieval can access their data in just milliseconds, S3 Glacier Flexible Retrieval is lower cost and provides three retrieval options: expedited retrievals in 1–5 minutes, standard retrievals in 3–5 hours, and free bulk retrievals in 5–12 hours. S3 Glacier Deep Archive is our lowest cost storage class and provides data retrieval within 12 hours using the standard retrieval option or 48 hours using the bulk retrieval option.</p> \n<p>In November 2022, <a href=\"https://aws.amazon.com/about-aws/whats-new/2022/11/amazon-s3-glacier-restore-throughput-10x-large-volumes-archived-data/\">Amazon S3 Glacier improved restore throughput by up to 10 times</a> at no additional cost when retrieving large volumes of archived data in S3 Glacier Flexible Retrieval and S3 Glacier Deep Archive. With <a href=\"https://aws.amazon.com/s3/features/batch-operations/\">Amazon S3 Batch Operations</a>, you can automatically initiate requests at a faster rate, allowing you to restore billions of objects containing petabytes of data.</p> \n<p>To continue the decade-long trend of cold storage innovation, we are announcing today the general availability of <strong>faster Standard retrievals from S3 Glacier Flexible Retrieval by up to 85 percent</strong>, at no additional cost. Faster data restores automatically apply to the Standard retrieval tier when using S3 Batch Operations.</p> \n<p>Using S3 Batch Operations, you can restore archived data at scale by providing a manifest of objects to be retrieved and specifying a retrieval tier. With S3 Batch Operations, restores in the Standard retrieval tier now typically begin to return objects to you within minutes, down from 3–5 hours, so you can easily speed up your data restores from archive.</p> \n<p>Additionally, S3 Batch Operations improves overall restore throughput by applying new performance optimizations to your jobs. As a result, you can restore your data faster and process restored objects sooner. Processing restored data in parallel with ongoing restores helps you accelerate data workflows and quickly respond to business needs.</p> \n<p><strong><u>Getting Started with Faster Standard Retrievals from S3 Glacier Flexible Retrieval</u></strong><br /> To restore archived data with this performance improvement, you can use S3 Batch Operations to perform both large- and small-scale batch operations on S3 objects. S3 Batch Operations can perform a single operation on lists of S3 objects that you specify. You can use S3 Batch Operations through the <a href=\"https://console.aws.amazon.com/\">AWS Management Console</a>, <a href=\"https://aws.amazon.com/cli\">AWS Command Line Interface</a> (AWS CLI), SDKs, or REST API.</p> \n<p>To create a batch job, choose <strong>Batch Operations</strong> on the left navigation pane of the <a href=\"https://s3.console.aws.amazon.com/s3/\">Amazon S3 console</a> and choose <strong>Create job</strong>. You can select one of the manifest formats, a list of S3 objects that contains object keys that you want to retrieve. If your manifest format is a CSV file, each row in the file must include the bucket name, object key, and, optionally, the object version.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/08/03/2023-s3-glacier-batch-1.jpg\" alt width=\"2395\" height=\"1181\" /></p> \n<p>In the next step, choose the operation that you want to perform on all objects listed in the manifest. The <strong>Restore</strong> operation initiates restore requests for archived objects on a list of S3 objects that you specify. Using a restore operation results in a restore request for every object that is specified in the manifest.</p> \n<p>When you restore with the <strong>Standard retrieval</strong> tier from the S3 Glacier Flexible Retrieval storage class, you automatically get faster retrievals.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/08/03/2023-s3-glacier-batch-2.jpg\" alt width=\"1897\" height=\"1058\" /></p> \n<p>You can also create a restore job with S3InitiateRestoreObject job using the AWS CLI:</p> \n<pre><code>$aws s3control create-job \\\n     --region us-east-1 \\\n     --account-id 123456789012 \\\n     --operation '{\"S3InitiateRestoreObject\": { \"ExpirationInDays\": 1, \"GlacierJobTier\":\"STANDARD\"} }' \\\n     --report '{\"Bucket\":\"arn:aws:s3:::reports-bucket \",\"Prefix\":\"batch-op-restore-job\", \"Format\":\" S3BatchOperations_CSV_20180820\",\"Enabled\":true,\"ReportScope\":\"FailedTasksOnly\"}' \\\n     --manifest '{\"Spec\":{\"Format\":\"S3BatchOperations_CSV_20180820\", \"Fields\":[\"Bucket\",\"Key\"]},\"Location\":{\"ObjectArn\":\"arn:aws:s3:::inventory-bucket/inventory_for_restore.csv\", \"ETag\":\"&lt;ETag&gt;\"}}' \\\n     --role-arn arn:aws:iam::123456789012:role/s3batch-role</code></pre> \n<p>You can then check the status of the job submission of the requests by running the following CLI command:</p> \n<pre><code>$ aws s3control describe-job \\\n     --region us-east-1 \\\n     --account-id 123456789012 \\\n     --job-id &lt;JobID&gt; \\\n     --query 'Job'.'ProgressSummary'</code></pre> \n<p>You can view and update the job status, add notifications and logging, track job failures, and generate completion reports. S3 Batch Operations job activity is recorded as events in <a href=\"https://aws.amazon.com/cloudtrail\">AWS CloudTrail</a>. For tracking job events, you can create a custom rule in <a href=\"https://aws.amazon.com/eventbridge\">Amazon EventBridge</a> and send these events to the target notification resource of your choice, such as <a href=\"https://aws.amazon.com/sns\">Amazon Simple Notification Service</a> (Amazon SNS).</p> \n<p>When you create an S3 Batch Operations job, you can also request a completion report for all tasks or just for failed tasks. The completion report contains additional information for each task, including the object key name and version, status, error codes, and descriptions of any errors.</p> \n<p>For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/batch-ops-job-status.html\">Tracking job status and completion reports</a> in the Amazon S3 User Guide.</p> \n<p>Here is the result of a sample retrieval job with 250 objects, each sized 100 MB. As you can see from the<strong> Previous restore performance</strong> line (blue line at the right), these restores would typically finish in 3–5 hours using Standard retrievals. Now, when you use Standard retrievals with S3 Batch Operations, your job typically starts within minutes, as shown in the <strong>Improved restore performance</strong> line (orange line at the left), improving data restore time by up to 85 percent.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/08/03/2023-s3-glacier-batch-3.jpg\" alt width=\"1672\" height=\"745\" /></p> \n<p>To learn more, see <a href=\"https://aws.amazon.com/blogs/storage/restoring-archived-objects-at-scale-from-the-amazon-s3-glacier-storage-classes/\">Restoring archived objects at scale from the Amazon S3 Glacier storage classes</a> on the AWS Storage Blog and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/restoring-objects.html\">Restoring an archived object</a> in the Amazon S3 User Guide.</p> \n<p><strong><u>Now Available</u></strong><br /> Faster standard retrievals for Amazon S3 Glacier Flexible Retrieval are now available in all AWS Regions, including the AWS GovCloud (US) Regions and China Regions. This performance improvement is available to you at no additional cost. You are charged for S3 Batch Operations and data retrievals. For more information, see the <a href=\"https://aws.amazon.com/s3/pricing/?nc=sn&amp;loc=4\">S3 pricing page</a>.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/08/03/2023-s3-glacier-batch-4.jpg\" alt width=\"314\" height=\"206\" />Lastly, we published a new ebook titled “<a href=\"https://d1.awsstatic.com/AWS%20Cloud%20Storage/Maximize-the-value-of-cold-storage-with-Amazon-S3-Glacier-eBook.pdf\">Maximize the value of cold storage with Amazon S3 Glacier</a>“. Read this ebook to learn how Amazon S3 Glacier is helping organizations of all sizes and from all industries transform their data archiving to unlock business value, increase agility, and save on storage costs.</p> \n<p>To learn more, visit the <a href=\"https://aws.amazon.com/s3/storage-classes/glacier/\">S3 Glacier storage classes page</a> and <a href=\"https://aws.amazon.com/getting-started/hands-on/getting-started-using-amazon-s3-glacier-storage-classes/\">getting started guide</a>, and send feedback to <a href=\"https://repost.aws/tags/TAXOPAoohFRn26117HpzUNYQ/amazon-s3-glacier\">AWS re:Post for S3 Glacier</a> or through your usual AWS Support contacts.</p> \n<p>I’m really excited for you to start using this new feature, and I look forward to hearing about even more ways you are reinventing your business with archive data.</p> \n<p>— <a href=\"https://twitter.com/channyun\">Channy</a></p>","author":"Channy Yun","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"f1a400e3f1d16dd2e8c73b4d26bf11476648a36de8a974358a9582af5d41a592","category":"Tech"}