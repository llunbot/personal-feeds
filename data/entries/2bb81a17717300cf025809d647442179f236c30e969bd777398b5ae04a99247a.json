{"title":"ความสามารถใหม่ ๆ ใน Apache Airflow 3.0","link":"https://www.somkiat.cc/features-apache-airflow-3/","date":1736662247000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2025/01/AirflowLogo-150x150.png\" alt=\"\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2025/01/AirflowLogo-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2025/01/AirflowLogo-75x75.png 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2025/01/AirflowLogo.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2025/01/AirflowLogo-1024x396.png\" alt=\"\" width=\"635\" height=\"245\" /></a></figure>\n\n\n\n<p>พอดีต้องไปแบ่งปันความรู้เรื่องการใช้งาน <a href=\"https://airflow.apache.org/\" target=\"_blank\">Apache Airflow</a> ขั้นพื้นฐาน<br />เลยไปเห็น roadmap ของความสามารถต่าง ๆ ใน <a href=\"https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+3+Workstreams\" target=\"_blank\">Apache </a><a href=\"https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+3.0\" target=\"_blank\">Airflow</a><a href=\"https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+3+Workstreams\" target=\"_blank\"> 3.0</a><br />จึงทำการสรุปความสามารถที่น่าสนใจไว้นิดหน่อย<br />มาดูกัน</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>อย่างแรกคือ <a href=\"https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-38+Modern+Web+Application\" target=\"_blank\">Modern Web Application</a></strong></p>\n\n\n\n<p>ซึ่งในส่วนของ UI นั้นพัฒนาด้วย React, TypeScript และ Chakra UI<br />ทำการปรับปรุงเรื่องของ navigation, realtime refresh และ dark mode<br />และทำการลบ Flask AppBuilder, or FAB ออกไปจาก Airflow</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2025/01/Image-2021-02-24-at-10.18.42-AM.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2025/01/Image-2021-02-24-at-10.18.42-AM-1024x245.png\" alt=\"\" width=\"631\" height=\"150\" /></a></figure>\n\n\n\n<p><strong>เรื่องที่สองคือ <a href=\"https://cwiki.apache.org/confluence/display/AIRFLOW/AIP-63%3A+DAG+Versioning\" target=\"_blank\">DAG versioning</a></strong></p>\n\n\n\n<p>โดยปกตินั้น Airflow จะทำการ run DAG ใน code ล่าสุดเสมอ<br />ทำให้เกิดปัญหาบางอย่างขึ้นมา คือ<br />ในขณะที่ DAG กำลัง run อยู่นั้น มีการเปลี่ยนแปลงขึ้นมา<br />มักจะทำให้เกิดปัญหา หรือ ผลทำงานไม่เป็นไปตามที่คาดหวัง<br />หรือไม่รู้เลยว่า การ run แต่ละครั้งใช้ code version ไหนบ้าง<br />ดังนั้นเรื่องของ DAG versioning เป็นการเปลี่ยนแปลงที่น่าสนใจมาก ๆ</p>\n\n\n\n<p><strong>เรื่องที่สาม ในการเขียน Task สนับสนุนภาษาโปรแกรมมากขึ้น</strong></p>\n\n\n\n<p>จากเดิมที่เขียนได้เฉพาะภาษา Python เท่านั้น<br />แต่ใน version นี้มีการสร้าง Task SDK หรือ interface ขึ้นมา<br />พร้อมกับ Remote executor ขึ้นมาใหม่<br />ส่งผลให้สามารถเขียน Task ด้วยภาษาโปรแกรมอื่น ๆ ได้ เช่น</p>\n\n\n\n<ul>\n<li>JavaScript และ TypeScript</li>\n\n\n\n<li>Go</li>\n\n\n\n<li>Java</li>\n</ul>\n\n\n\n<p><strong>เรื่องที่สี่ Data Assets, Event driven scheduling</strong></p>\n\n\n\n<p>ทำให้ Airflow scheduler ทำงานแบบ event-driven<br />ซึ่งจากเดิมทำงาน time-based และ ตาม dependency ใน workflow เท่านั้น<br />หรือถ้าต้องการทำงานแบบ event-driven ได้<br />ก็ต้องใช้พวก external task sensors, sensors/deferrable operators, REST API หรือ datasets เท่านั้น</p>\n\n\n\n<p>แต่ในตัวใหม่นี้สามารถ integrate การทำงานแบบ event-driven<br />เข้ามายัง workflow ได้เลย ไม่ต้องแยก process การทำงานอีกต่อไป<br />ทำให้สามารถทำงานกับข้อมูลของระบบต่าง ๆ ได้แบบ near realtime มากยิ่งขึ้น<br />เช่น ระบบ cloud ต่าง ๆ ถ้ามีการเปลี่ยนแปลงใด ๆ<br />สามารถส่ง event trigger มายัง Airflow ได้เลย<br />เพื่อทำการ start task การทำงานแบบง่าย ๆ</p>\n\n\n\n<p>ลองศึกษาเพิ่มเติมกันดู<br />โดยจาก roadmap ตัว final น่าจะออกต้นเดือนเมษายนนี้</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"2bb81a17717300cf025809d647442179f236c30e969bd777398b5ae04a99247a","category":"Thai"}