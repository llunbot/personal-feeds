{"title":"New — Deliver Interactive Real-Time Live Streams with Amazon IVS","link":"https://aws.amazon.com/blogs/aws/new-deliver-interactive-real-time-live-streams-with-amazon-ivs/","date":1691437786000,"content":"<p>Live streaming is becoming an increasingly popular way to connect customers with their favorite influencers and brands through interactive live video experiences. Our customers, <a href=\"https://aws.amazon.com/blogs/media/prmbp-dena-amazon-ivs-for-end-to-end-live-stream-management/\">DeNA</a> and <a href=\"https://aws.amazon.com/blogs/media/rooter-enhances-live-stream-experiences-with-amazon-ivs/\">Rooter</a>, rely on <a href=\"https://aws.amazon.com/ivs/\">Amazon Interactive Video Service (Amazon IVS)</a>, a fully managed live streaming solution, to build engaging live stream and interactive video experiences for their audiences.</p> \n<p>In March we introduced <a href=\"https://aws.amazon.com/about-aws/whats-new/2023/03/amazon-ivs-multiple-hosts-live-streams/\">Amazon IVS support for multiple hosts in live streams</a> to further provide flexibility in building interactive experiences, by using a resource called stage. A stage is a virtual space where participants can exchange audio and video in real time.</p> \n<p>However, latency is still a critical component to engaging audiences and enriching the overall experience. The lower the latency, the better it is to connect with live audiences in a direct and personal way. Previously, Amazon IVS supported real-time live streaming for up to 12 hosts via stages with around 3–5 seconds latency for viewers via channels. This latency gap restricts the ability to build interactive experiences with direct engagement for wider audiences.</p> \n<p><span><strong>Introducing Amazon IVS Real-Time Streaming<br /> </strong></span>Today, I’m excited to share that with Amazon IVS Real-Time Streaming, you now can deliver real-time live streams to 10,000 viewers with up to 12 hosts from a stage, with latency that can be under 300 milliseconds from host to viewer.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/28/ivs-rts.gif\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/28/ivs-rts.gif\" alt width=\"900\" height=\"506\" /></a></p> \n<p>This feature unlocks the opportunity for you to build interactive video experiences for social media applications or for latency sensitive use cases like auctions.</p> \n<p>Now you will no longer have to compromise to achieve real-time latency for viewers. You can avoid such workarounds as using multiple AWS services or external tools. Instead, you can simply use Amazon IVS as a centralized service to deliver real-time interactive live streams, and you don’t even need to enable anything on your account to start using this feature.</p> \n<p><span><strong>Deliver Real-time Streams with The Amazon IVS Broadcast SDK</strong></span><br /> To deliver real-time streams, you need to interact with a stage resource and use the Amazon IVS Broadcast SDK available on iOS, Android, and web. With a stage, you can create a virtual space for participants to join as either viewers or hosts with real-time latency that can be under 300 ms.</p> \n<p>You can use a stage to build an experience where hosts and viewers can go live together. For example, inviting viewers to become hosts and join other hosts in a Q&amp;A session, delivering a singing competition, or having multiple guests in a talk show.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/23/ivs-rts-1.jpeg\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/23/ivs-rts-1.jpeg\" alt width=\"1025\" height=\"577\" /></a></p> \n<p>We published an overview on how to get started with a stage resource on the <a href=\"https://aws.amazon.com/blogs/media/add-multiple-hosts-to-live-streams-with-amazon-ivs/\">Add multiple hosts to live streams with Amazon IVS</a> page. Let me do a quick refresher for the overall flow and how to interact with a stage resource.</p> \n<p>First, you need to create a stage. You can do this via the console or programmatically using the Amazon IVS API. The following command is an example of how to create a stage using the <code>create-stage</code> API and AWS CLI.</p> \n<pre><code>$ aws ivs-realtime create-stage \\\n    --region us-east-1 \\\n    --name demo-realtime \\\n{\n    \"stage\": {\n        \"arn\": \"arn:aws:ivs:us-east-1:xyz:stage/mEvTj9PDyBwQ\",\n        \"name\": \"demo-realtime\",\n        \"tags\": {}\n    }\n}\n</code></pre> \n<p>A key concept for a stage resource that enables participants to join as a host or a viewer is a participation token. A participant token is an authorization token that lets your participants publish or subscribe to a stage. When you’re using the <code>create-stage</code> API, you can also generate a participation token and add additional information by using <code>attributes</code>, including custom user IDs and their display names. The API responds with stage details and participant tokens.</p> \n<pre><code>$ aws ivs-realtime create-stage \\\n    --region us-east-1 \\\n    --name demo-realtime \\\n    --participant-token-configurations userId=test-1,capabilities=PUBLISH,SUBSCRIBE,attributes={demo-attribute=test-1}\n\n{\n    \"participantTokens\": [\n        {\n            \"attributes\": {\n                \"demo-attribute\": \"test-1\"\n            },\n            \"capabilities\": [\n                \"PUBLISH\",\n                \"SUBSCRIBE\"\n            ],\n            \"participantId\": \"p7HIfs3v9GIo\",\n            \"token\": \"TOKEN\",\n            \"userId\": \"test-1\"\n        }\n    ],\n    \"stage\": {\n        \"arn\": \"arn:aws:ivs:us-east-1:xyz:stage/mEvTj9PDyBwQ\",\n        \"name\": \"demo-realtime\",\n        \"tags\": {}\n    }\n}\n</code></pre> \n<p>In addition to the <code>create-stage</code> API, you can also programmatically generate participant tokens using the API. Currently, there are two capability values for a participant token, <code>PUBLISH</code> and <code>SUBSCRIBE</code>. If you need to invite a participant to host, you need to add a <code>PUBLISH</code> capability while creating the participant token. With the <code>PUBLISH</code> attribute, you can include video and audio of your host into a stream.</p> \n<p>Here is an example on how you can generate a participant token.</p> \n<pre><code>$ aws ivs-realtime create-participant-token \\\n    --region us-east-1 \\\n\t--capabilities PUBLISH \\\n\t--stage-arn ARN \\\n\t--user-id test-2\n\n{\n    \"participantToken\": {\n        \"capabilities\": [\n            \"PUBLISH\"\n        ],\n        \"expirationTime\": \"2023-07-23T23:48:57+00:00\",\n        \"participantId\": \"86KGafGbrXpK\",\n        \"token\": \"TOKEN\",\n        \"userId\": \"test-2\"\n    }\n}\n\n</code></pre> \n<p>Once you have generated a participant token, you need to distribute it to your respective clients using, for example, a WebSocket message. Then, within your client applications using Amazon IVS Broadcast SDK, you can use this participant token to let the your users join the stage as hosts or viewers. To learn more on how you can interact with a stage resource, you can see and review the sample demo for <a href=\"https://github.com/aws-samples/amazon-ivs-real-time-for-ios-demo/\">iOS</a> or <a href=\"https://github.com/aws-samples/amazon-ivs-real-time-for-android-demo/\">Android</a>, and the supporting <a href=\"https://github.com/aws-samples/amazon-ivs-real-time-serverless-demo/\">serverless applications for real-time demo</a>.</p> \n<p>At this point, you’re able to deliver real-time live streams using a stage to 10,000 viewers. If you need to extend the stream to a wider audience, you can use your stage as the input for a channel and use the Amazon IVS Low-Latency Streaming capability. With a channel, you can deliver high concurrency video from a single source with low latency that can be under 5 seconds to millions of viewers. You can learn more on how to publish a stage to a channel on the <a href=\"https://docs.aws.amazon.com/ivs/latest/userguide/broadcast.html\">Amazon IVS Broadcast SDK</a> documentation page, which includes information for iOS, Android, and web.</p> \n<p><span><strong>Layered Encoding Feature for Amazon IVS Real-Time Streaming Capability<br /> </strong></span>End users prefer a live stream with good quality. However, the quality of the live stream depends on various factors, such as the health of their network connections and device performance.</p> \n<p>The most common scenario is that viewers will receive a single version of video that is above their optimum viewing configuration. For example, if the host can produce high-quality video, the live stream can be enjoyed by viewers with good connections, but viewers with slower connections would experience loading delays or even an inability to watch the videos. However, if the host can only produce low-quality video, viewers with good connections will get less optimal video, while viewers with slower connections will have a better experience.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/28/ivs-rts-3-4.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/28/ivs-rts-3-4.png\" alt width=\"2638\" height=\"1405\" /></a></p> \n<p>To address the issue, with this announcement we also released the layered encoding feature for Amazon IVS Real-Time Streaming capability. With layered encoding (also known as simulcast) when you publish to a stage, Amazon IVS will automatically send multiple variations of video and audio. This ensures your viewers can continue to enjoy the stream at the best quality they can receive based on their network conditions.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/26/ivs-rts-3-3.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/26/ivs-rts-3-3.png\" alt width=\"2638\" height=\"1405\" /></a></p> \n<p><span><strong>Customer Voices<br /> </strong></span>During the private preview period, we heard lots of feedback from our customers about Amazon IVS Real-Time Str<a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/30/wn-v-base-avatar.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/07/30/wn-v-base-avatar-300x300.png\" alt width=\"300\" height=\"300\" /></a>eaming.</p> \n<p><a href=\"https://www.whatnot.com/\"><strong>Whatnot</strong></a> is a live stream shopping platform and marketplace that allows collectors and enthusiasts to connect with their community to buy and sell products they’re passionate about. “Scaling live video auctions to our global community is one of our major engineering challenges. Ensuring real-time latency is fundamental to maintaining the integrity and excitement of our auction experience. By leveraging Amazon IVS Real-Time Streaming, we can confidently scale our operations worldwide, assuring a seamless and high-quality real-time video experience across our entire user base, whether on web or mobile platforms.”, Ludo Antonov, VP of Engineering.</p> \n<p><span><strong>Available Now</strong></span><br /> Amazon IVS Real-Time Streaming is available in all AWS Regions where Amazon IVS is available. To use Amazon IVS Real-Time Streaming, you pay an hourly rate for the duration that you have hosts or viewers connected to the stage resource as a participant.</p> \n<p>Learn more about benefits, use cases, how to get started, and pricing details for Amazon IVS’s Real-Time Streaming and Low-Latency Streaming capabilities on the <a href=\"https://aws.amazon.com/ivs/\">Amazon IVS page</a>.</p> \n<p>Happy streaming!<br /> — <a href=\"https://www.linkedin.com/in/donnieprakoso\">Donnie</a></p>","author":"Donnie Prakoso","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"542d99ea1c25d2328dee685a6e3e45bb8dba16d0ac61b3bcba3d950a62dc8b7a","category":"Tech"}