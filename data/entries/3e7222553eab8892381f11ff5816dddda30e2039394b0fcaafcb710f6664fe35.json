{"title":"New — File Release for Amazon FSx for Lustre","link":"https://aws.amazon.com/blogs/aws/new-file-release-for-amazon-fsx-for-lustre/","date":1691598238000,"content":"<p><a href=\"https://aws.amazon.com/fsx/lustre/\">Amazon FSx for Lustre</a> provides fully managed shared storage with the scalability and high performance of the open-source Lustre file systems to support your Linux-based workloads. FSx for Lustre is for workloads where storage speed and throughput matter. This is because FSx for Lustre helps you avoid storage bottlenecks, increase utilization of compute resources, and decrease time to value for workloads that include artificial intelligence (AI) and machine learning (ML), high performance computing (HPC), financial modeling, and media processing. FSx for Lustre integrates natively with <a href=\"https://aws.amazon.com/s3/\">Amazon Simple Storage Service (Amazon S3)</a>, synchronizing changes in both directions with automatic import and export, so that you can access your Amazon S3 data lakes through a high-performance POSIX-compliant file system on demand.</p> \n<p>Today, I’m excited to announce file release for FSx for Lustre. This feature helps you manage your data lifecycle by releasing file data that has been synchronized with Amazon S3. File release frees up storage space so that you can continue writing new data to the file system while retaining on-demand access to released files through the FSx for Lustre lazy loading from Amazon S3. You specify a directory to release from, and optionally a minimum amount of time since last access, so that only data from the specified directory, and the minimum amount of time since last access (if specified), is released. File release helps you with data lifecycle management by moving colder file data to S3 enabling you to take advantage of S3 tiering.</p> \n<p>File release tasks are initiated using the <a href=\"https://console.aws.amazon.com/\">AWS Management Console</a>, or by making an API call using the <a href=\"https://aws.amazon.com/cli/\">AWS CLI</a>, AWS SDK, or <a href=\"https://aws.amazon.com/blogs/compute/introducing-amazon-eventbridge-scheduler/\">Amazon EventBridge Scheduler</a> to schedule release tasks at regular intervals. You can choose to receive completion reports at the end of your release task if so desired.</p> \n<p><span><strong>Initiating a Release Task</strong></span><br /> As an example, let’s look at how to use the console to initiate a release task. To specify criteria for files to release (for example, directories or time since last access), we define release data repository tasks (DRTs). DRTs release all files that are synchronized with Amazon S3 and that meet the specified criteria. It’s worth noting that release DRTs are processed in sequence. This means that if you submit a release DRT while another DRT (for example, import or export) is in progress, the release DRT will be queued but not processed until after the import or export DRT has completed.</p> \n<p><strong>Note</strong>: For the data repository association to work, automatic backups for the file system must be disabled (use the <strong>Backups</strong> tab to do this). Secondly, ensure that the file system and the associated S3 bucket are in the same AWS Region.</p> \n<p>I already have an FSx for Lustre file system <strong>my-fsx-test.</strong></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/04/03/amazonfsx1-1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/04/03/amazonfsx1-1-1024x199.png\" alt width=\"1024\" height=\"199\" /></a>I <strong>create a data repository association</strong>, which is a link between a directory on the file system and an S3 bucket or prefix.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/04/03/amazonfsx2-1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/04/03/amazonfsx2-1-1024x515.png\" alt width=\"1024\" height=\"515\" /></a></p> \n<p>I specify the name of the S3 bucket or an S3 prefix to be associated with the file system.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/04/03/amazonfsx3.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/04/03/amazonfsx3-1024x688.png\" alt width=\"1024\" height=\"688\" /></a>After the data repository association has been created, I select <strong>Create release task</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/08/06/file_release_summary_screen_shot.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/08/06/file_release_summary_screen_shot-1024x517.png\" alt width=\"1024\" height=\"517\" /></a></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/08/08/newfilerelease.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/08/08/newfilerelease-1024x896.png\" alt width=\"1024\" height=\"896\" /></a></p> \n<p>The release task will release directories or files that you want to release based on your specific criteria (again, important to remember that these files or directories must be synchronized with an S3 bucket in order for the release to work). If you specified the minimum last access for release (in addition to the directory), files that have not been accessed more recently than that will be released.</p> \n<p>In my example, I chose to <strong>Disable</strong> completion reports. However, if you choose to <strong>Enable</strong> completion reports, the release task will produce a report at the end of the release task.</p> \n<p>Files that have been released can still be accessed using existing FSx for Lustre functionality to automatically retrieve data from Amazon S3 back to the file system on demand. This is because, although released, their metadata stays on the file system.</p> \n<p>File release won’t automatically prevent your file system from becoming full. It remains important to ensure that you don’t write more data than the available storage capacity before you run the next release task.</p> \n<p><span><strong>Now Available</strong></span><br /> File release on FSx for Lustre is available today in all AWS Regions where FSx for Lustre is supported, on all new or existing S3-linked file systems running Lustre version 2.12 or later. With file release on FSx for Lustre, there is no additional cost. However, if you release files that you later access again from the file system, you will incur normal Amazon S3 request and data retrieval costs where applicable when those files are read back into the file system.</p> \n<p>To learn more, visit the <a href=\"https://aws.amazon.com/fsx/lustre\">Amazon FSx for Lustre Page</a>, and please send feedback to <a href=\"https://repost.aws/tags/TA7i20Bv1fTTm-YZ0Ar4mJnA/amazon-fsx-for-lustre\">AWS re:Post for Amazon FSx for Lustre</a> or through your usual AWS support contacts.</p> \n<p>– <a href=\"https://www.linkedin.com/in/veliswa-boya/\">Veliswa</a></p>","author":"Veliswa Boya","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"3e7222553eab8892381f11ff5816dddda30e2039394b0fcaafcb710f6664fe35","category":"Tech"}