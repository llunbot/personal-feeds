{"title":"Introducing a new experience for AWS Systems Manager","link":"https://aws.amazon.com/blogs/aws/introducing-a-new-experience-for-aws-system-manager/","date":1732314979000,"content":"<p>Today, I’m excited to introduce a new and improved version of <a href=\"https://aws.amazon.com/systems-manager/\">AWS Systems Manager</a> that brings a highly requested cross-account, and cross-Region experience for managing nodes at scale.</p> \n<p>The new System Manager experience provides centralized visibility of all your managed nodes which include various infrastructure types, such as <a href=\"https://aws.amazon.com/ec2/getting-started/\">Amazon Elastic Compute Cloud (EC2)</a> instances, containers, virtual machines on other cloud providers, on-premise servers, and edge <a href=\"https://aws.amazon.com/iot/\">Internet of Things (IoT)</a> devices. They are referred to as “managed nodes” when they have the <a href=\"https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent.html\">Systems Manager Agent (SSM Agent)</a> installed and are connected to Systems Manager.</p> \n<p>If an SSM Agent stops working on a node for whatever reason, then Systems Manager loses connection to it and that node is then referred to as an “unmanaged node.” With the new update, Systems Manager can also help you to easily discover and troubleshoot unmanaged nodes. You can run and even schedule an automated diagnosis that provides you with recommended runbooks that you can execute to fix any issues and reestablish connection so they become managed nodes again.</p> \n<p>Systems Manager is also now integrated with <a href=\"https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/what-is.html\">Amazon Q Developer</a>, the most capable generative AI–powered assistant for software development. You can ask questions about your managed nodes to Amazon Q Developer using natural language and it will provide you with rapid insights plus links straight to Systems Manager where you can perform actions or continue to explore further.</p> \n<p>With this release, you can also use <a href=\"https://aws.amazon.com/organizations/\">AWS Organizations</a>, to allow a delegated administrator to centrally manage nodes across the organization thanks to the new integration with Systems Manager.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/21/StoryLane-700width-12fps.gif\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/21/StoryLane-700width-12fps.gif\" alt=\"the new systems manager experience\" width=\"700\" height=\"610\" /></a></p> \n<p>Let’s examine a quick example that helps to demonstrate some of these new capabilities.</p> \n<p>Imagine a scenario where you are a cloud platform engineer leading a migration plan aiming to replace all nodes running Windows Server 2016 Datacenter in the organization. Let’s use the new Systems Manager experience to quickly gather information about all the nodes that needs to be included in our plan.</p> \n<p><strong><span>Step 1 – Asking Amazon Q Developer<br /> </span></strong>The easiest starting point is using Amazon Q Developer to ask what you want to find using natural language. Using the AWS Console, I open the Amazon Q chatbot and type <code>Find all of my managed nodes running Microsoft Windows Server 2016 Datacenter in my organization</code>.</p> \n<p>Amazon Q quickly comes back with an answer: it tells us that there are ten nodes that fit the criteria and provides a list with an overview of each one.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/20/combined-image.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/20/combined-image.png\" width=\"448\" height=\"836\" /></a></p> \n<p>There is also a link that redirects to the new <strong>Explore nodes</strong> page in System Manager where we can learn more information. Let’s follow it.</p> \n<p><span><strong>Step 2 – Reviewing our infrastructure<br /> </strong></span>The <strong>Explore nodes</strong> page provides a comprehensive overview of all managed nodes across your organization, with options to group and filter results for quick access. In this case, we can see that the results are already filtered by <strong>Operating system name</strong> providing us with a list of all the nodes that are running <strong>Microsoft Windows Server 2016 Datacenter</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/21/marked-2-explore-nodes-deeplink.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/21/marked-2-explore-nodes-deeplink.png\" width=\"1329\" height=\"797\" /></a></p> \n<p>This is a great start! We could just finish here by downloading the report and add those nodes to our migration plan, however, this page only shows you information about your managed nodes. Could it be that there are unmanaged nodes that need to included in our plan? Let’s find out.</p> \n<p><span><strong>Step 3 – Handling unmanaged nodes</strong></span><br /> Open the menu, and navigate to the <strong>Review node insights</strong> page. Here you can see a dashboard with widgets that provide insightful interactive charts that you can use to drill down and discover more information about your nodes or even take actions. For example, the <strong>Managed node types</strong> pie chart shows the types of managed nodes we have whereas the <strong>SSM Agent versions</strong> graph provides us with an overview of all the different versions of SSM Agent running on them. You can also customize this view by adding and replacing widgets.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-dashboard-2.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-dashboard-2.png\" width=\"1417\" height=\"1161\" /></a>We want to investigate any unmanaged nodes to make sure we don’t miss any that may need to be added to our migration plan. The <strong>Node summary</strong> widget clearly shows that there are two unmanaged nodes. This could mean that these nodes don’t have the SSM Agent installed in which case we will need to investigate them manually. However, it could also just mean there are issues with the SSM agent permissions or network connectivity preventing Systems Manager from managing these nodes and treating them like any other managed node. The new Systems Manager experience allows you easily troubleshoot and remediate SSM Agents issues so let’s attempt to do this now.</p> \n<p>Start by selecting the piece of the chart displaying our unmanaged nodes. This pops up an option to initiate a comprehensive diagnosis of all our unmanaged nodes with only one click. Let’s run this.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-dashboard-unmanaged-1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-dashboard-unmanaged-1.png\" width=\"1417\" height=\"1158\" /></a></p> \n<p>The diagnosis reviews key configurations such as missing <a href=\"https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html\">virtual private cloud (VPC)</a> endpoints, misconfigured VPC DNS settings, and misconfigured instance security groups that may be preventing the SSM Agent from connecting to Systems Manager. After the scanning is complete, we can see that it displays two <strong>Misconfigured VPC endpoint </strong>findings. It also gives you a link that you can use to open a side panel containing a recommended runbook that you can execute to solve the issues as well as links to relevant documentation.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-diagnose-remediate-results-recommendation-copy.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-diagnose-remediate-results-recommendation-copy.png\" width=\"1433\" height=\"491\" /></a></p> \n<p>Choosing to execute the recommended runbook presents you with a detailed preview of the changes which include a thorough overview of the actions it’s going to take in addition to the input parameters used, a link to view a breakdown of the steps involved, and the target nodes for this execution.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-diagnose-remediate-results-runbook-preview-2.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-diagnose-remediate-results-runbook-preview-2.png\" width=\"1431\" height=\"857\" /></a></p> \n<p>Let’s choose to go ahead and select Execute. Keep in mind that this may incur costs, so make sure to review them before executing. You can keep an eye on progress on this page as it goes through the steps to attempt to fix the issues on each node.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-diagnose-automation-execution.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-diagnose-automation-execution.png\" width=\"1459\" height=\"1243\" /></a></p> \n<p>Aha! After the remediation is complete, we can see that Systems Manager has found and corrected issues with the SSM Agent with two nodes. This means that Systems Manager is able to connect with the SSM Agent running in those nodes successfully making them “managed nodes.” We can verify this by returning to the <strong>Explore nodes</strong> page and noticing that the count of “unmanaged nodes” has been reduced to zero now.</p> \n<p>Now that all of our nodes are managed, we’re ready to get a full list of all of those that need to be added to our migration plan.</p> \n<p><span><strong>Step 4 – Downloading a report<br /> </strong></span>Back on the <strong>Explore nodes</strong> page we can see that the count for nodes running Microsoft Windows Server 2016 Datacenter has gone up from ten to twelve! That means that those previously unmanaged nodes that we fixed through the automated diagnosis are indeed running our target operating system.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-explore-nodes-12-windows2016-2.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-explore-nodes-12-windows2016-2.png\" width=\"1432\" height=\"1139\" /></a></p> \n<p>This is exactly what we need so we choose to download a <strong>Report</strong>. You give it a file name, and then choose from a few options such as which columns to include. In this case, we choose to download a CSV file with a row containing the column names.</p> \n<p><span><strong><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-export-report.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/18/marked-export-report.png\" width=\"647\" height=\"538\" /></a></strong></span></p> \n<p>That’s it! We have our CSV with detailed information about the nodes that need upgrading across our entire infrastructure. And the best part? You can also use Systems Manager to automate the upgrade once you’re ready to go ahead with the migration.</p> \n<p><span><strong>Conclusion</strong></span><br /> Systems Manager is a critical tool for gaining visibility and control over your compute infrastructure and performing operational actions at scale. The new experience offers a centralized cross-account, cross-Region view of all your nodes in your AWS accounts, on-premises, and multicloud environments through a centralized dashboard, offering integration with Amazon Q Developer for natural language queries, and one-click SSM Agent troubleshooting. You can enable the new experience at no extra cost by navigating to the Systems Manager console and following the straightforward instructions.</p> \n<p>To learn more, see the <a href=\"https://console.aws.amazon.com/systems-manager/\">documentation</a> for more detail about the new Systems Manager experience.</p> \n<p>Check out this interactive demo for a <a href=\"https://aws.storylane.io/demo/e4yn5yuxsezf?embed=inline\">full visual tour of this experience</a>.</p>","author":"Matheus Guimaraes","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"e94a9d056715cd4070dad572b1487066fb15fad5e55e6841bb537394f615c115","category":"Tech"}