{"title":"SearchCode.com ย้ายฐานข้อมูลออกจาก MySQL+Redis ไปใช้ SQLite ขนาดฐานข้อมูล 6TB","link":"https://www.blognone.com/node/144745","date":1739809510000,"content":"<div><div><div><p>Ben Boyter นักพัฒนาชาวออสเตรเลียผู้สร้างเว็บ SearchCode.com ประกาศย้ายฐานข้อมูลจาก MySQL และ Redis มาเป็น SQLite ในเว็บขนาดใหญ่ที่ให้บริการคนจำนวมากเป็นผลสำเร็จ โดยฐานข้อมูลของ SearchCode มีขนาดใหญ่ถึง 6TB น่าจะเป็นฐานข้อมูล SQLite สำหรับเว็บสาธารณะที่ใหญ่ที่สุดในโลก</p>\n<p>SearchCode เปิดบริการมากว่าสิบปีแล้ว โดยเริ่มจาก stack PHP, CodeIgnitor, MySQL, Memcached, Apache, Sphinx ภายหลังเปลี่ยนไปหลายรอบ โดยใช้ Python และช่วง Covid ก็หันมาเขียนภาษา Go แทนที่ พร้อมกับเปลี่ยนตัวค้นหาที่เขียนใหม่เอง ทำให้ stack ล่าสุดกลายเป็น Go, MySQL, Redis, และ Caddy</p>\n<p>Boyter ระบุว่าต้องการเปลี่ยนแอปพลิเคชั่นให้เหลือไบนารีก้อนเดียวไม่มีการเชื่อมต่อใดๆ อีก การเปลี่ยนมาใช้ SQLite จึงตรงความต้องการ แม้ว่าจะเคยมอง <a href=\"https://github.com/etcd-io/bbolt\">bbolt ฐานข้อมูลแบบ key-value มาก่อนหน้า</a> แต่ก็ยังไม่ตรงความต้องการ และแม้ฐานข้อมูลของ SearchCode จะเรียบง่ายแต่ Boyter ก็ยังต้องการใช้ SQL อยู่</p>\n<p>ปัญหาใหญ่ที่สุดของ SQLite ที่ Boyter พบคือปัญหา <code>database is locked</code> ซึ่งแก้ได้ด้วยการแยก connection ระหว่างฝั่งเขียนและอ่านออกจากกัน โดยฝั่งเขียนต้องมี connection เดียวเท่านั้น ตอนนี้เว็บเพิ่งย้ายมาเต็มรูปแบบไม่กี่วันและยังไม่พบปัญหาอะไร</p>\n<p>ที่มา - <a href=\"https://boyter.org/posts/searchcode-bigger-sqlite-than-you/\">Boyter.org</a></p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/54f4becf1f67ffb760575736842476d3.png\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/sqlite\">SQLite</a></div><div><a href=\"/topics/database\">Database</a></div><div><a href=\"/topics/mysql\">MySQL</a></div><div><a href=\"/topics/redis\">Redis</a></div><div><a href=\"/topics/enterprise\">Enterprise</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"d144011f2626168fbb3774c6af38d4961b6af45f7e2c3ed32111d26a374efd4d","category":"Thai"}