{"title":"HCP Terraform adds granular API access for audit trails","link":"https://www.hashicorp.com/blog/hcp-terraform-adds-granular-api-access-for-audit-trails","date":1721664000000,"content":"<p>Today we’d like to share the latest improvement to HCP Terraform’s permissions capabilities: <em>read-only permission to the HCP Terraform audit trails endpoint</em>. Available now in HCP Terraform, this new feature enables organization owners to generate a dedicated API key for least-privilege access to audit trails.</p>\n\n<p><a href=\"https://developer.hashicorp.com/terraform/cloud-docs/api-docs/audit-trails\">HCP Terraform audit trails</a> let organization administrators quickly review the actions performed by members of their organization. It includes details such as who performed the action, what the action was, and when it was performed. It also contains the evaluation results of compliance-related features like <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/policy-enforcement\">policy enforcement</a> and <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/workspaces/settings/run-tasks\">run tasks</a>. When paired with the <a href=\"https://splunkbase.splunk.com/\">Splunk app</a> it provides near real-time visibility into key actions. You can quickly see which workspaces are generating the most frequent changes, which policies are being evaluated most frequently, and which users are most active.</p>\n\n<p>In the past, within HCP Terraform, organization owners were required to create an <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/api-tokens#organization-api-tokens\">organization API token</a> to grant access to the audit trail endpoint. However, the excessive permissions associated with this token meant users had to vigilantly protect these credentials.</p>\n\n<h2>The new audit token for HCP Terraform audit trails</h2>\n\n<p>The new <em>audit token</em> type simplifies and enhances privilege management within organizations by letting owners adhere to the principle of least privilege access. This type allows read-only access to the HCP Terraform audit trail endpoint. By incorporating token expiration, organization owners gain complete control over the token's entire lifecycle, letting them specify when the audit token should expire. Users also now have the capability to effortlessly regenerate the token, which is particularly useful in situations where token rotation is required following a security incident. This advancement eliminates the need for users to possess owner-level access or manage the highly privileged organization API token.</p>\n\n<h2>Creating an audit token</h2>\n\n<p>To create an audit token, navigate to the API Tokens section within the Organization Settings page. Click the <em>Generate an audit token</em> button and configure the expiration settings as needed.</p>\n<img src=\"https://www.datocms-assets.com/2885/1721403524-token_setting.gif\" alt=\"audit\" /><h2>Getting started</h2>\n\n<p>This feature is now available in HCP Terraform. Please refer to <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/api-tokens\">Terraform’s API token documentation</a> for details on how to get started.</p>\n\n<p>If you are new to Terraform, you can get started with HashiCorp-managed <a href=\"https://cloud.hashicorp.com/products/terraform\">HCP Terraform</a> for free to begin provisioning and managing your infrastructure in any environment. And don’t forget to <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/users#log-in-with-your-hashicorp-cloud-platform-account\">link your HCP Terraform and HashiCorp Cloud Platform (HCP) accounts</a> for a seamless sign-in experience.</p>\n","author":"Ryan Hall","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"f814b60e766dd47b5da81abc85b1a5e5bdb34cc17c96fa7f91bd8ccb82ed7e57","category":"Tech"}