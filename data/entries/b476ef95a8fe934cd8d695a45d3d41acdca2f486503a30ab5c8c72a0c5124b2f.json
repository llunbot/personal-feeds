{"title":"ลองเล่นกับ Bun Shell","link":"https://www.somkiat.cc/hello-bun-shell/","date":1705994377000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/01/bun-shell-150x150.png\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/01/bun-shell-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2024/01/bun-shell-75x75.png 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/01/bun-shell.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/01/bun-shell.png\" width=\"364\" height=\"319\" /></a></figure>\n\n\n\n<p>เห็นใน feed พบว่ามีการพูดถึง <a href=\"https://bun.sh/blog/the-bun-shell\" target=\"_blank\">Bun Shell</a> เยอะเลย<br />ก็เลยลองเล่นนิดหน่อย<br />ซึ่งเป็นความสามารถใหม่ ที่ทำให้เรา<br />เขียน javascript ทำงานกับ shell หรือ คำสั่งต่าง ๆ ใน command line ได้ง่าย ๆ<br />โดยเขียนในไฟล์เดียวกัน และ ภาษาเดียวกันไปเลย</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>ดังนั้นจึงมาลองเขียน code เล่นกันหน่อย</strong></p>\n\n\n\n<p>ก่อนอื่นทำการ update Bun <br />ตอนนี้ผมใช้งาน Bun 1.0.25 ดังนี้</p>\n\n\n\n[gist id=\"775246978c1394d7faf9442e0fc4b689\" file=\"1.txt\"]\n\n\n\n<p><strong>จากนั้นลองมาเขียน code เพื่อทำงานกับ Bun Shell เล่นหน่อย</strong></p>\n\n\n\n<p>สิ่งที่ต้องการเป็นดังนี้</p>\n\n\n\n<ul>\n<li>ให้ทำการแสดงขั้นตอนการทำงานของ program ออกมาที่ console ให้ sleep 1 วินาที</li>\n\n\n\n<li>ทำการดึงข้อมูลจาก REST API ด้วย fetch</li>\n\n\n\n<li>ทำการบันทึกข้อมูลที่ได้มาลงไฟล์ ซึ่งใช้การ reditect output ลงไฟล์</li>\n\n\n\n<li>ทำการอ่านข้อมูลในไฟล์ด้วยคำสั่ง cat</li>\n\n\n\n<li>ทำการเปลี่ยนแปลงค่าของ envirinment variable และดึงด้วย javascript</li>\n</ul>\n\n\n\n<p>โดยที่ code เป็นดังนี้ ดูมั่ว ๆ กันดี<br />จะดูแปลก ๆ หน่อย แต่ก็ทำได้นะครับ</p>\n\n\n\n[gist id=\"775246978c1394d7faf9442e0fc4b689\" file=\"demo.js\"]\n\n\n\n<p>ทำการ run ดูหน่อย</p>\n\n\n\n[gist id=\"775246978c1394d7faf9442e0fc4b689\" file=\"2.txt\"]\n\n\n\n<p>สามารถดู code เพิ่มเติมได้ที่ <a href=\"https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md\" target=\"_blank\">Bun Doc :: Shell</a><br />Project ที่คล้าย ๆ กัน เช่น</p>\n\n\n\n<ul>\n<li><a href=\"https://github.com/google/zx\" target=\"_blank\">zx</a></li>\n\n\n\n<li><a href=\"https://github.com/dsherret/dax\" target=\"_blank\">dax</a></li>\n\n\n\n<li><a href=\"https://github.com/wobsoriano/bnx\" target=\"_blank\">bnx</a></li>\n</ul>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"b476ef95a8fe934cd8d695a45d3d41acdca2f486503a30ab5c8c72a0c5124b2f","category":"Thai"}