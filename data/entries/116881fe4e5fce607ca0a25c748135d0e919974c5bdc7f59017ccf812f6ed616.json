{"title":"จัดการ logging ใน Spring boot ด้วย Loki","link":"https://www.somkiat.cc/logging-in-spring-boot-with-loki/","date":1712983866000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/04/spring-boot-loki-150x150.png\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/04/spring-boot-loki-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2024/04/spring-boot-loki-75x75.png 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/04/spring-boot-loki.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/04/spring-boot-loki-1024x536.png\" /></a></figure>\n\n\n\n<p>ทาง <a href=\"https://www.somkiat.cc/tag/loki/\">Grafana ได้ปล่อย Loki</a> ออกมา<br />สำหรับจัดเก็บ log ของระบบงาน และค้นหาได้ง่ายและรวดเร็วขึ้น<br />โดยสามารถใช้งาน Loki ร่วมกับระบบงานที่พัฒนาด้วย Spring boot ได้อีกด้วย<br />ซึ่งมีขั้นตอนดังนี้</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>ขั้นตอนการทำงาน</strong></p>\n\n\n\n<ul>\n<li>ทำการ start loki server ขึ้นมา จะใช้งานผ่าน port 3100</li>\n\n\n\n<li>ในฝั่งของ Spring boot ทำงานส่งข้อมูล log มายัง loki ตรง ๆ ได้เลย (push)</li>\n\n\n\n<li>โดยต้องใช้งาน depedency ชื่อว่า <a href=\"https://github.com/loki4j/loki-logback-appender\" target=\"_blank\">loki-logback-appender</a></li>\n</ul>\n\n\n\n<p>ทำการ config file ของ logback เพื่อใช้งาน loki แบบ push ได้ดังนี้</p>\n\n\n\n[gist id=\"4eafb6e98f137c5a7426f0a30018120e\" file=\"logback-spring.xml\"]\n\n\n\n<p>เพื่อส่งข้อมูล log format ที่ต้องการ ไปยัง Loki server<br />ลองใช้งานกันดูครับ<br />เป็นอีกวิธีการของการจัดการ log</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"116881fe4e5fce607ca0a25c748135d0e919974c5bdc7f59017ccf812f6ed616","category":"Thai"}