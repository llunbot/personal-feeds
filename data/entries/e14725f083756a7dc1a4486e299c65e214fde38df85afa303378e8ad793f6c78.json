{"title":"OpenAI เพิ่มฟีเจอร์ Structured Outputs ตอบตรงตาม schema ที่กำหนดเสมอ 100% ลดค่า token 50%","link":"https://www.blognone.com/node/141278","date":1722968586000,"content":"<div><div><div><p>OpenAI เพิ่มฟีเจอร์ในการเรียก ChatCompletion API ให้สามารถกำหนด format ของค่าที่คืนมาเป็นไปตาม JSON Schema ที่กำหนดได้เต็ม 100%</p>\n<p>คำสั่งบังคับให้คืนค่าตาม JSON Schema ที่กำหนดนี้สามารถใช้กับ Chat Completion ได้ทุกโมเดล อย่างไรก็ดีโมเดลที่ทาง OpenAI ทดสอบแล้วได้ผลเต็ม 100% จะเป็น <code>gpt-4o-2024-08-06</code> ที่เพิ่งออกมาวันนี้</p>\n<p>ในกรณีที่โมเดลไม่สามารถตอบกลับตาม JSON Schema ที่กำหนดได้ จะไม่คืนค่าตามปกติ แต่ใส่ข้อความมาในฟิลด์ <code>refusal</code> แทน ทำให้ผู้ใช้ตรวจสอบได้โดยง่ายว่ากำลังได้ข้อมูลตามต้องการหรือไม่</p>\n<p>กระบวนการทำให้ GPT-4o สามารถคืนค่าตาม JSON Schema ได้ 100% นี้ทำสองขั้นตอน คือ การฝึกโมเดลเพิ่มเติม ซึ่งแม้จะทำได้ดีขึ้นแต่ก็ยังมีข้อจำกัด เพราะโดยรวมสามารถตอบได้ตรง schema เพียง 93% จากนั้นทีมงานสร้างตัว decoder ใหม่ ที่ไม่ได้เลือก token ที่มีความน่าจะเป็นตามโมเดลปกติสูงสุด แต่ใส่เงื่อนไขว่าต้องเลือก token ที่จะทำให้คำตอบตรงตาม JSON Schema เท่านั้น</p>\n<p>JSON Schema ที่ใช้งานได้เป็น subset ของมาตรฐานเท่านั้น โดยหลักคือรองรับ properties ไม่เกิน 100 ตัว และสามารถสร้างออปเจกต์ไม่เกิน 5 ชั้น</p>\n<p>โมเดล <code>gpt-4o-2024-08-06</code> ยังลดค่าโทเค็นฝั่งอินพุตลง 50% เหลือ 2.5 ดอลลาร์ต่อล้านโทเค็น และฝั่งเอาท์พุตลดลง 33% เหลือ 10 ดอลลาร์ต่อล้านโทเค็น</p>\n<p>ที่มา - <a href=\"https://openai.com/index/introducing-structured-outputs-in-the-api/\">OpenAI</a></p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/11d833bd54ea2a8399606ed046e42957.png\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/openai\">OpenAI</a></div><div><a href=\"/topics/llm\">LLM</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"e14725f083756a7dc1a4486e299c65e214fde38df85afa303378e8ad793f6c78","category":"Thai"}