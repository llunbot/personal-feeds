{"title":"New – Block Public Sharing of Amazon EBS Snapshots","link":"https://aws.amazon.com/blogs/aws/new-block-public-sharing-of-amazon-ebs-snapshots/","date":1699565985000,"content":"<p>You now have the ability to disable public sharing of new, and optionally existing, <a href=\"https://aws.amazon.com/ebs/\">Amazon Elastic Block Store (Amazon EBS)</a> snapshots on a per-region, per-account basis. This provides you with another level of protection against accidental or inadvertent data leakage.</p> \n<p><span><strong>EBS Snapshot Review</strong></span><br /> You have had the power to create EBS snapshots since the<a href=\"https://aws.amazon.com/blogs/aws/amazon-elastic/\"> launch of EBS</a> in 2008, and have been able to <a href=\"https://aws.amazon.com/blogs/aws/shared-snapshots-for-ec2s-elastic-block-store-volumes/\">share them privately or publicly</a> since 2009. The vast majority of snapshots are kept private and are used for periodic backups, data migration, and disaster recovery. Software vendors use public snapshots to share trial-use software and test data.</p> \n<p><span><strong>Block Public Sharing</strong></span><br /> EBS snapshots have always been private by default, with the option to make individual snaps public as needed. If you do not currently use and do not plan to use public snapshots, you can now disable public sharing using the <a href=\"https://console.aws.amazon.com\">AWS Management Console</a>, <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (AWS CLI)</a>, or the new <code>EnableSnapshotBlockPublicAccess</code> function. Using the Console, I visit the <strong>EC2 Dashboard</strong> and click <strong>Data protection and security</strong> in the <strong>Account attributes</strong> box:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/21/bpa_box_1.png\" width=\"498\" height=\"363\" /></p> \n<p>Then I scroll down to the new <strong>Block public access for EBS snapshots</strong> section, review the current status, and click <strong>Manage</strong>:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/21/bpa_option_1.png\" width=\"800\" height=\"308\" /></p> \n<p>I click <strong>Block public access,</strong> choose <strong>Block all public sharing</strong>, and click <strong>Update</strong>:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/21/bpa_manage_1.png\" width=\"800\" height=\"451\" /></p> \n<p>This is a per-region setting, and it takes effect within minutes. I can see the updated status in the console:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/21/bpa_stat_1.png\" width=\"801\" height=\"296\" /></p> \n<p>I inspect one of my snapshots in the region, and see that I cannot share it publicly:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/21/bpa_snap_stat_2.png\" width=\"800\" height=\"956\" /></p> \n<p>As you can see, I still have the ability to share the snapshot with specific AWS accounts.</p> \n<p>If I have chosen <strong>Block all public sharing</strong>, any snapshots that I have previously shared will no longer be listed when another AWS customer calls <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeSnapshots.html\"><code>DescribeSnapshots</code></a> in pursuit of publicly accessible snapshots.</p> \n<p><span><strong>Things to Know</strong></span><br /> Here are a couple of really important things to know about this new feature:</p> \n<p><strong>Region-Level</strong> – This is a regional setting, and must be applied in each region where you want to block the ability to share snapshots publicly.</p> \n<p><strong>API Functions &amp; IAM Permissions</strong> – In addition to <code>EnableSnapshotBlockPublicAccess</code>, other functions for managing this feature include <code>DisableSnapshotBlockPublicAccess</code> and <code>GetSnapshotBlockPublicAccessState</code>. To use these functions (or their console/CLI equivalents) you must have the <code>ec2:EnableSnapshotBlockPublicAccess</code>, <code>ec2:DisableSnapshotBlockPublicAccess</code>, and <code>ec2:GetSnapshotBlockPublicAccessState</code> IAM permissions.</p> \n<p><strong>AMIs</strong> – This does not affect the ability to share Amazon Machine Images (AMIs) publicly. To learn how to manage public sharing of AMIs, visit <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/sharingamis-intro.html#block-public-access-to-amis\">Block public access to your AMIs</a>.</p> \n<p>— <a href=\"https://twitter.com/jeffbarr\">Jeff</a>;</p>","author":"Jeff Barr","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"74318aac0f127709f38c7b5ffab77ad1f3c0141f24f9bc17e12b271993817ee2","category":"Tech"}