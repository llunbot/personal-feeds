{"title":"Terraform Cloud now supports assigning agent pools at the organization level","link":"https://www.hashicorp.com/blog/terraform-cloud-now-supports-assigning-agent-pools-at-the-organization-level","date":1695139200000,"content":"<p>We are excited to announce the general availability of <em>an organization-wide default execution mode</em>; a new agent configuration method for <a href=\"https://www.hashicorp.com/products/terraform?ajs_aid=b819fe94-ab52-42b0-8dc3-183a8dacd6e9&amp;product_intent=terraform&amp;utm_medium=video&amp;utm_channel_bucket=paid&amp;utm_offer=terraform-product-page&amp;utm_content=animated&amp;utm_source=YouTube&amp;utm_campaign=FY24-optimize-cloud-spend\">HashiCorp Terraform Cloud</a> thatâ€™s also coming soon to <a href=\"https://developer.hashicorp.com/terraform/enterprise?ajs_aid=b819fe94-ab52-42b0-8dc3-183a8dacd6e9&amp;product_intent=terraform&amp;utm_source=YouTube&amp;utm_medium=video&amp;utm_offer=terraform-product-page&amp;utm_campaign=FY24-optimize-cloud-spend&amp;utm_content=animated&amp;utm_channel_bucket=paid\">Terraform Enterprise</a>.</p>\n\n<p>Terraform Cloud facilitates the management and deployment of <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/agents\">agents</a> within secure, isolated network environments. With the introduction of <a href=\"https://developer.hashicorp.com/terraform/tutorials/cloud/cloud-agents\">self-hosted agents</a> in Terraform Cloud, it became possible to deploy them in pools, creating a flexible architecture that allows a single organization to manage infrastructure across multiple private network segments.</p>\n\n<h2>Manual assignment challenges</h2>\n\n<p>Previously, the assignment of agent pools could be configured only at the workspace level. This was a multi-step process that required users to <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/agents/agent-pools#scope-an-agent-pool-to-specific-workspaces\">scope the agent pool</a> to make it accessible to some or all workspaces in the organization, and then individually <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/agents/agent-pools#configure-workspaces-to-use-the-agent\">configure the desired workspaces</a> to use the agent pool. This manual process was time-consuming, error-prone, and lacked scalability. It also introduced self-service challenges with the <a href=\"https://developer.hashicorp.com/terraform/tutorials/cloud/no-code-provisioning\">no-code provisioning</a> workflow. In environments where self-hosted agents are required, the initial provisioning run would always fail until the new workspace was updated to use an agent pool.</p>\n\n<h2>Introducing agent pools at the organization level</h2>\n\n<p>Terraform Cloud users can now set a default execution mode at the organization level. Users with organization owner permissions can specify a default agent pool using this setting and any future workspace created within the organization will automatically adopt it. Note that to avoid unintended disruptions with this new capability, all existing workspaces retain their current execution mode. Team members with workspace admin permissions can break the inheritance by reassigning their workspaces to a different agent pool based on their specific requirements. This approach fosters a self-service model and enables consistent agent pool assignment within an organization. </p>\n<img src=\"https://www.datocms-assets.com/2885/1695075354-org-execution-mode-1.png\" alt=\"Set\" /><img src=\"https://www.datocms-assets.com/2885/1695075368-org-execution-mode-2.png\" alt=\"Workspace\" /><h2>Benefits of assigning agent pools at the organization level</h2>\n\n<p>Assigning agent pools at the organization level provides several advantages including:</p>\n\n<h3>Speed</h3>\n\n<p>Manually assigning agent pools to workspaces can be a multi-step, time-consuming task, especially when dealing with a large number of workspaces. This new feature streamlines the process to save time and improve the overall effectiveness of the infrastructure management system.</p>\n\n<h3>Consistency</h3>\n\n<p>Manual assignments can result in inconsistencies in agent pool configurations across workspaces, which can pose security risks for organizations. Assigning agent pools at the organization level can help mitigate this risk by reducing the chance of human errors such as assigning the wrong agent pool or overlooking certain workspaces.</p>\n\n<h3>Scalability</h3>\n\n<p>As the number of workspaces grows over time, manually managing agent pool assignments can become increasingly complex. This new mechanism to preconfigure agent pool mappings lifts the burden from the application team to manually select the appropriate agent pool for future workspaces, improving efficiency as the organization scales.</p>\n\n<h2>Getting started</h2>\n\n<p>To learn more about assigning a default agent pool to your organization, check out the <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/workspaces/settings#execution-mode\">Terraform workspace setting documentation</a>.<span> </span></p>\n\n<p>Get started with <a href=\"https://cloud.hashicorp.com/products/terraform\">Terraform Cloud</a> for free to begin provisioning and managing your infrastructure in any environment. <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/users#log-in-with-your-hashicorp-cloud-platform-account\">Link your Terraform Cloud and HashiCorp Cloud Platform (HCP) accounts</a> together for a seamless sign-in experience.</p>\n","author":"Mitchell Ross","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"0ff38808f149425df1703f59ff0bf008c024bedc7776b6dc698d9eea469589b1","category":"Tech"}