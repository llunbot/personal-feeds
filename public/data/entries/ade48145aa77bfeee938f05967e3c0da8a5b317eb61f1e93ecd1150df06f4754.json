{"title":"Node 19.7.0 สามารถสร้าง Single Executable Application (SEA) ของระบบได้แล้ว [experiment feature]","link":"https://www.somkiat.cc/single-executable-application-in-nodejs-19/","date":1677219851000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2023/02/node19-150x150.png\" alt srcset=\"https://www.somkiat.cc/wp-content/uploads/2023/02/node19-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2023/02/node19-75x75.png 75w\" /></p>\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2023/02/node19.jpg\" alt width=\"564\" height=\"317\" /></figure>\n\n\n\n<p>ใน Node 19.7.0 ที่ออกมาเป็น current version ของ NodeJS นั้น<br />มีความสามารถที่ยังอยู่ในขั้นทดลองที่น่าสนใจคือ<br /><strong><a href=\"https://github.com/nodejs/single-executable\">Single executable app</a></strong> นั่นคือ <br />เราสามารถสร้าง single binary ของระบบที่พัฒนาได้เลย<br />ทำให้ต่อไปในการ deploy ไม่ต้องติดตั้ง NodeJS อีกแล้ว<br />เป็นอีกหนึ่งความสามารถที่น่าสนใจ<br />มาลองใช้งานกันดูหน่อย</p>\n\n\n\n<span></span>\n\n\n\n<p>ขั้นตอนการใช้งานเป็นดังนี้</p>\n\n\n\n<p><strong>ขั้นตอนที่ 1 สร้างระบบงานปกติ</strong></p>\n\n\n\n<p>โดยในตอนนี้ยังสนับสนุนเพียง CommonJS module เท่านั้น<br />ดังนั้นจึงเขียนได้แบบใช้ buildin ทั่วไป</p>\n\n\n\n[gist id=\"051041b1522c18408f8f02b3afc90f5a\" file=\"server.js\"]\n\n\n\n<p><strong>ขั้นตอนที่ 2 ทำการ copy ตัว run ของ NodeJS เข้ามา</strong></p>\n\n\n\n<p></p>\n\n\n\n<p><strong>ขั้นตอนที่ 3 ทำการ <a href=\"https://nodejs.org/api/single-executable-applications.html\" target=\"_blank\">build binary</a> ออกมา ซึ่งแบ่งเป็น MacOS และ อื่น ๆ </strong></p>\n\n\n\n<p>ในการสร้าง single binary นั้น<br />จะทำการ inject พวกไฟล์และ dependency ต่าง ๆ เข้าไป<br />ด้วยเครื่องมือชื่อว่า <a href=\"https://github.com/nodejs/postject\" target=\"_blank\">postject</a></p>\n\n\n\n[gist id=\"051041b1522c18408f8f02b3afc90f5a\" file=\"1.txt\"]\n\n\n\n<p><strong>Feature นี้ไม่ใช่แนวคิดใหม่อะไร</strong><br />เนื่องจากมีวิธีการอื่น ๆ ก่อนหน้านี้อยู่แล้ว<br />ยกตัวอย่างเช่น</p>\n\n\n\n<ul><li><a href=\"https://github.com/vercel/pkg\" target=\"_blank\">Pkg จาก Vercel</a></li><li><a href=\"https://github.com/mongodb-js/boxednode\" target=\"_blank\">Boxednode จาก MongoDB</a></li><li><a href=\"https://github.com/nexe/nexe\" target=\"_blank\">Nexe</a></li><li><a href=\"https://github.com/arcanis/node-sea\" target=\"_blank\">Node-sea</a></li><li><a href=\"https://github.com/NectarJS/nectarjs\" target=\"_blank\">NectarJS</a></li></ul>\n\n\n\n<p><strong>อ่านรายละเอียดเพิ่มเติมได้ที่ </strong></p>\n\n\n\n<p><a href=\"https://github.com/nodejs/node/issues/43432\" target=\"_blank\">Initiative: Single Executable Application #43432</a></p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"ade48145aa77bfeee938f05967e3c0da8a5b317eb61f1e93ecd1150df06f4754","category":"Thai"}