{"title":"ภาษา Go ปรับไลบรารี math/rand/v2 เปลี่ยนมาใช้ตัวสร้างเลขสุ่มปลอดภัยขึ้น แม้ช้าลงบ้าง","link":"https://www.blognone.com/node/139634","date":1715146206000,"content":"<div><div><div><p><a href=\"https://www.blognone.com/node/138103\">Go เวอร์ชั่น 1.22</a> เปลี่ยนโครงสร้างภายในของไลบรารี math/rand เป็นเวอร์ชั่น 2 โดยแกนกลางสำคัญคือการเปลี่ยนอัลกอริทึมจากเดิมที่เคยเป็น linear-feedback shift register แบบง่ายๆ ทำงานได้เร็ว มาเป็นตัวสร้างเลขสุ่มแบบ PCG และ ChaCha8 หลายเดือนหลังปรับปรุงทีมงานก็ออกมาอธิบายแนวคิดเบื้องหลัง</p>\n<p>ระบบสร้างเลขสุ่มทั้งสองแบบมีเป้าหมายคล้ายกัน คือ สถานะภายในมีขนาดใหญ่ขึ้น ทำให้กระบวนการสร้างเลขสุ่มมีคุณภาพดีขึ้น จุดที่น่าสนใจคือ ChaCha8 นั้นเป็นตัวสร้างเลขสุ่มที่ลดรูปมาจาก <a href=\"https://www.blognone.com/node/66059\">ChaCha20</a> ที่กูเกิลเสนอให้ใช้สำหรับเข้ารหัสข้อมูลเว็บในอุปกรณ์ที่พลังประมวลผลต่ำ ทุกวันนี้ ChaCha20 ยังคงมีการใช้งานเป็นวงกว้างและความปลอดภัยภัยดีพอ ทีมงาน Go นั้นอ้างอิงรายงานที่ระบุว่าการลดรอบการทำงานของ ChaCha ลงก็ยังมีความปลอดภัยเพียงพอทำให้เลือกใช้ ChaCha8 ที่ความเร็วสูงกว่า ChaCha20 หนึ่งเท่าตัว</p>\n<p>การสร้างเลขสุ่มอย่างปลอดภัยเช่นการสร้างกุญแจลับนั้นปกติแล้วควรใช้ไลบรารี crypto/rand ซึ่งจะพยายามใช้เลขสุ่มอย่างแท้จริงโดยอาศัยแหล่งความยุ่งเหยิง (entropy) จากแหล่งต่างๆ เช่นการขยับเมาส์หรือระยะเวลาเน็ตเวิร์ค แต่กระบวนการนี้ทำงานช้ามาก ChaCha8 ของ math/rand/v2 นี้ใช้ค่าเริ่มต้น (seed) เป็นค่าสุ่มอย่างปลอดภัยขนาด 300 ไบต์ แต่หลังจากนั้นก็รันอัลกอริทึมสุ่มค่าอย่างรวดเร็ว ทำให้ความเร็วของการสุ่มโดยรวมยังคงดีอยู่โดยที่มีความปลอดภัยพอสมควร แม้นักพัฒนาจะเอาไปใช้ในส่วนที่ควรใช้ crypto/rand อย่างผิดพลาดก็ยังถูกแกะได้ยาก กระบวนการสร้างเลขสุ่มที่ปลอดภัยขึ้นยังช่วยในกรณีที่ระบบต้องออกหมายเลข UUID จำนวนมากๆ ซึ่งหากระบบออกเลขสุ่มไม่ดีพอก็อาจจะทำให้มีหมายเลข UUID ซ้ำกันได้</p>\n<p>ทีมงาน Go ระบุว่าการที่โปรแกรมเมอร์ใช้ตัวสุ่มค่าไม่ปลอดภัย เป็นปัญหาในวงกว้าง ไม่ใช่เฉพาะในโครงการ Go เท่านั้น จึงหวังว่าในอนาคตทุกภาษาจะพยายามปรับปรุงตัวสุ่มค่าให้ปลอดภัยขึ้นด้วยเช่นกัน</p>\n<p>ที่มา - <a href=\"https://go.dev/blog/chacha8rand?hn=1\">Go.dev</a></p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/bcaf0de4b2b9c8c67c23549fc96596b7.png\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/go\">Go</a></div><div><a href=\"/topics/cryptography\">Cryptography</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"f00aa4d1a225dbca0fdfea05471728c041809d863366edea6ccf9bcc070874f1","category":"Thai"}