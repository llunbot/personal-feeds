{"title":"[PostgreSQL] How to verify if replication catch up with master change","link":"http://visibletrap.blogspot.com/2016/09/postgresql-how-to-verify-if-replication.html","date":1472724840001,"content":"[Run on master] Check master location with<br />\n<blockquote>\nSELECT pg_current_xlog_location();</blockquote>\nÂ [Run on replica] Check replica replayed location with<br />\n<blockquote>\nSELECT pg_last_xlog_replay_location();</blockquote>\n[Run on master] Check replica status from master<br />\n<blockquote>\nSELECT client_addr, state, sent_location, write_location, flush_location, replay_location FROM pg_stat_replication;</blockquote>\n*write, flush, replay are status of replica<br />\n<br />\n[Run on replica] Check time from the latest reply<br />\n<blockquote>\nSELECT now() - pg_last_xact_replay_timestamp() AS replication_delay;</blockquote>\n<span>Credit:</span><br />\n<br />\n<ul>\n<li><span>Bullet 12th of <a href=\"https://wiki.postgresql.org/wiki/Streaming_Replication\">https://wiki.postgresql.org/wiki/Streaming_Replication</a></span></li>\n<li><span><a href=\"https://www.niwi.nz/2013/02/16/replication-status-in-postgresql/\">https://www.niwi.nz/2013/02/16/replication-status-in-postgresql/</a></span></li>\n</ul>\n","author":"Tap","siteTitle":"tAp's blog","siteHash":"ec0b5758aa5280680c8b6839677ce27021dd9d4295725ce4f0e9f298aad77c91","entryHash":"89156fe89fe62994c64964034fa57f13770ff38a48ab2e5dd51b0865e37bb35e","category":"Thai"}