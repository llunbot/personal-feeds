{"title":"Vault 1.17 brings WIF, EST support for PKI, and more","link":"https://www.hashicorp.com/blog/vault-1-17-brings-wif-est-support-for-pki-and-more","date":1718208000000,"content":"<p><a href=\"https://developer.hashicorp.com/vault/downloads\">HashiCorp Vault 1.17</a> is now generally available, with new secure workflows, better performance, and improved secrets management scalability. HashiCorp Vault provides secrets management, data encryption, identity management, and other workflow capabilities for applications on any infrastructure.</p>\n\n<p>The key feature additions to Vault 1.17 include:</p>\n\n<ul>\n<li>Workload Identity Federation (WIF) for Amazon Web Services, Microsoft Azure, and Google Cloud</li>\n<li>PKI support for IoT/EST-based devices</li>\n<li>PKI support for custom certificate metadata</li>\n</ul>\n\n<h2>Workload Identity Federation (WIF) for AWS, Azure, and Google Cloud</h2>\n\n<p><a href=\"https://www.sans.org/webcasts/destroying-long-lived-cloud-credentials-workload-identity-federation/\">Workload Identity Federation</a> (WIF) presents an opportunity to eliminate concerns around providing security credentials to Vault plugins. Using this new support for WIF, a trust relationship can be established between an external system and Vault's identity token provider to access the external system. This enables secretless configuration for plugins that integrate with external systems such as AWS, Azure, and Google Cloud.  For example, a Vault-minted identity token can be exchanged for AWS credentials provided there is a trust relationship between Vault and AWS. By enabling secretless configuration, organizations reduce security concerns from using long-lived and highly privileged security credentials.</p>\n<img src=\"https://www.datocms-assets.com/2885/1717192998-hashidays_centralizesecretssecurely.gif\" alt=\"WIF\" /><h2>PKI certificate management enhancements</h2>\n\n<p>There are two major additions to PKI certificate management in Vault 1.17:</p>\n\n<h3>Support for IoT/EST-based devices</h3>\n\n<p>Vault PKI now adds support for automating <a href=\"https://www.hashicorp.com/blog/certificate-management-with-vault\">X.509 certificates</a> based on enrollment-at-scale requirements using the <a href=\"https://en.wikipedia.org/wiki/Enrollment_over_Secure_Transport\">Enrollment over Secure Transport (EST)</a> protocol. The rapid increase in the number of connected devices and services has expanded the attack surface area for enterprises, posing significant risks. Securing communications between devices and services is critical, but manual or ad hoc certificate lifecycle management is unrealistic at scale and may introduce additional security risks due to human error. Certificate automation within Vault now offers the ability to enroll and secure applications, virtual machines, containers, network components, infrastructure, and internet of things (IoT) devices with PKI EST. Learn how to use this new feature in our <a href=\"https://developer.hashicorp.com/vault/docs/secrets/pki/est\">EST documentation</a>.</p>\n<img src=\"https://www.datocms-assets.com/2885/1718033368-est-workflow.png\" alt=\"Automated\" /><h3>Custom certificate metadata</h3>\n\n<p>Customers want the ability to store custom metadata associated with certificate signing requests that are not part of the standard certificate signing request (CSR) submitted to Vault PKI. Some customers are using manual or alternate methods for maintaining such metadata, which is not a reliable or scalable solution. With Vault 1.17, customers have the ability to submit additional custom metadata along with the CSR. Vault PKI will retain the metadata along with the issued certificate, which can then be ingested into external systems for further processing. </p>\n\n<h2>Vault Enterprise seal high availability (Seal HA)</h2>\n\n<p>Prior to this release, Vault Enterprise customers relied on a single key management system (KMS) provider to securely store the Vault seal key (AWS KMS, hardware security modules, HSMs, etc.). This could create a challenge for the customer if the seal key becomes unavailable from the KMS provider due to issues such as KMS instance deletion, compromise, or disaster. In such cases, Vault can’t be unsealed (as Vault will not have access to the seal key) resulting in a production outage. The new Vault Enterprise seal high availability feature lets customers configure independent seals secured with multiple KMS providers. This protects the continuity of business operations by giving Vault alternate configured KMS providers from which to access a seal key in case of KMS or HSM unavailability. To use this feature, administrators need to enable it via a configuration option.</p>\n\n<h2>Extend namespace and mount limits</h2>\n\n<p>For customers with very large deployments of Vault, limits on the number of namespaces and mounts a cluster can accommodate may become a bottleneck when onboarding new teams and services to Vault. Vault 1.17 introduces the ability to increase the size of specific storage entries so you can raise the capacity of mounts and the number of namespaces while keeping the rest of Vault's API at its default value. In effect, this new capability provides more room to vertically scale the cluster prior to scaling horizontally by adding more clusters.</p>\n\n<h2>Vault Secrets Operator (VSO) instant updates</h2>\n\n<p>Since the <a href=\"https://www.hashicorp.com/blog/vault-secrets-operator-a-new-method-for-kubernetes-integration\">release of Vault Secrets Operator for Kubernetes</a> in June of 2023, we continue to enhance the capability to directly connect Vault to native Kubernetes secrets, and Vault Enterprise 1.17 adds instant updates.</p>\n\n<p>Due to emergencies or security events, a secret may need to be revoked or rotated before it expires. This could result in downtime because VSO would not be aware that the secret has been changed. With Vault Enterprise 1.17, VSO users can set the instant update flag to avoid this situation. When secrets change in Vault Enterprise, instant updates will notify VSO that relevant secrets have been updated and that it should immediately refresh the secret instead of waiting for its repolling window, minimizing downtime. Instant sync currently supports KVv2 and KVv1 secrets.</p>\n\n<h2>Vault 1.17 upgrade details</h2>\n\n<p>This release also includes more new features, workflow enhancements, general improvements, and bug fixes. All of these updates can be found in the <a href=\"https://developer.hashicorp.com/vault/downloads\">Vault 1.17 changelog</a>. Please visit the <a href=\"https://developer.hashicorp.com/vault/tutorials/new-release\">Vault release highlights page</a> for step-by-step tutorials demonstrating the new features.</p>\n\n<p>As always, we recommend upgrading and testing new releases in an isolated environment. If you experience any issues, please report them on the <a href=\"https://github.com/hashicorp/vault/issues\">Vault GitHub issue tracker</a> or post to the <a href=\"https://discuss.hashicorp.com/c/vault/30\">Vault discussion forum</a>. As a reminder, if you believe you have found a security issue in Vault, please responsibly disclose it by emailing <a href=\"mailto:security@hashicorp.com\">security@hashicorp.com</a> — do not use the public issue tracker. For more information, please consult our <a href=\"https://www.hashicorp.com/security\">security policy and our PGP key</a>.</p>\n\n<p>For more information about HCP Vault and Vault Enterprise, visit <a href=\"https://www.hashicorp.com/products/vault\">the HashiCorp Vault product page</a>.</p>\n","author":"David Mills","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"2b8c551a639b46f0074d18a599364fb54094f1ba35fcdddf2ddd5a44a6edd045","category":"Tech"}