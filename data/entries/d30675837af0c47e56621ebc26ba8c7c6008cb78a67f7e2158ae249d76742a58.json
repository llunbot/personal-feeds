{"title":"นักวิจัยพบช่องโหว่รันโค้ดบนเซิร์ฟเวอร์ PyPI ได้สำเร็จ หลังเจาะระบบ cdnjs ไปก่อนหน้านี้","link":"https://www.blognone.com/node/124023","date":1627902164000,"content":"<div><div><div><p><a href=\"https://www.blognone.com/node/124006\">RyotaK นักวิจัยความปลอดภัยชาวญี่ปุ่นที่เคยรายงานช่องโหว่ของ cdnjs</a> รายงานถึงช่องโหว่ของบริการ PyPI ที่มีไว้สำหรับการแจกจ่ายแพ็กเกจภาษาไพธอน โดยช่องโหว่ในโค้ดของระบบ CI/CD ของ PyPI ทำให้ผู้ใช้มุ่งร้ายสามารถลบเอกสารโครงการที่ไม่ได้เป็นเจ้าของ หรือรันโค้ดในเซิร์ฟเวอร์ของ PyPI ได้โดยตรง</p>\n<p>ช่องโหว่ทั้งหมดมี 3 รายการ โดย 2 ช่องโหว่เป็นการลบเอกสารออกจากหน้าเว็บ PyPI เนื่องจากโค้ดส่วนลบเอกสารนั้นตรวจสอบเพียงคำขึ้นต้น (prefix) ของชื่อโครงการ ทำให้แฮกเกอร์สามารถใช้ชื่อโครงการที่ขึ้นต้นเหมือนกันเพื่อลบเอกสารโครงการอื่นได้ อีกช่องโหว่หนึ่งคือการลบ role ID ของโครงการ โดยตัว SQL ที่ใช้ไม่ได้ระบุหมายเลขประจำโครงการไปในการคิวรี</p>\n<p>แต่ส่วนที่สำคัญที่สุดเป็นระบบ CI/CD ของ PyPI เอง ที่รันเมื่อมีการยิง pull request เข้ามา และแสดงรายชื่อของ branch ด้วยคำสั่ง echo บน shell script แต่กลับไม่ป้องกันอินพุต ทำให้แฮกเกอร์สามารถตั้งชื่อ branch เป็นสคริปต์เพื่อรันโค้ดได้</p>\n<p>การโจมตีโครงสร้างไอทีผ่านระบบจัดการแพ็กเกจ หรือผ่านทางการอัพเดตซอฟต์แวร์ (supply chain attack) นับเป็นแนวทางที่ถูกโจมตีมากขึ้นเรื่อยๆ ในช่วงหลัง ช่องทางเช่นนี้สร้างความเสียหายได้เป็นวงกว้างเนื่องจากองค์กรจำนวนมากดึงซอฟต์แวร์จากระบบจัดการแพ็กเกจโดยคาดหวังว่าซอฟต์แวร์จะมาจากตัวโครงการจริงๆ</p>\n<p>ทาง PyPI แก้ไขช่องโหว่ทั้งหมดภายในวันเดียวหลัง RyotaK รายงานปัญหา</p>\n<p>ที่มา - <a href=\"https://blog.ryotak.me/post/pypi-potential-remote-code-execution-en/\">RyotaK's Blog</a></p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/d1d5f7a407fb2d0fcfd5bda1a5487e25.jpg\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/python\">Python</a></div><div><a href=\"/topics/security\">Security</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"d30675837af0c47e56621ebc26ba8c7c6008cb78a67f7e2158ae249d76742a58","category":"Thai"}