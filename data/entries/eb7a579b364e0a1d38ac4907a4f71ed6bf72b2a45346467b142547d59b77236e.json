{"title":"พบ Android 14 ช่วยประหยัดแบตเพิ่มขึ้นจริง หลังกูเกิลปรับนโยบายคุมแอพเบื้องหลัง","link":"https://www.blognone.com/node/136709","date":1699838820000,"content":"<div><div><div><p>เว็บไซต์ Android Police รายงานว่ามีผู้ใช้ Pixel 6/7 ที่อัพเกรดเป็น Android 14 รายงานว่าแบตเตอรี่ใช้ได้ยาวนานขึ้นกว่าเดิม และจัดการความร้อนของระบบได้ดีขึ้น</p>\n<p><a href=\"https://www.blognone.com/node/132940\">แนวทางของ Android 14 ที่เข้มงวดกับแอพทำงานเบื้องหลังมากขึ้น เป็นสิ่งที่กูเกิลประกาศอยู่แล้ว</a> แต่ก็มีการค้นพบว่ากูเกิลแอบปรับบางอย่างเพิ่มโดยไม่ได้ประกาศแต่แรก</p>\n<p>Mishaal Rahman นักขุดฟีเจอร์จากซอร์สโค้ดของ Android รายงานว่า Android 14 ช่วยเพิ่มการใช้งานแบตเตอรี่ขึ้นอีกพอสมควร เหตุเพราะปรับวิธีการไม่ยอมให้แอพทำงานเบื้องหลังได้มากเหมือนเดิม อุดช่องโหว่ในการทำงานของเคอร์เนลที่คุมการเกิดของโพรเซส</p>\n<p>ในยุคก่อน Android 14 มีช่องว่างที่แอพสามารถรักษาโพรเซสไม่ให้โดนฆ่าทิ้ง โดยฟอร์คโพรเซสแยกออกมาเพื่อมอนิเตอร์ว่าโพรเซสเดิมโดนฆ่าหรือไม่ หากโดนฆ่าก็จะเรียกเซอร์วิสนั้นกลับมารันใหม่</p>\n<p>เทคนิคนี้เคยถึงขั้นมีคนสร้างไลบรารีชื่อ MarsDaemon ขึ้นมารับงานมอนิเตอร์และคืนชีพโพรเซส เพื่อให้แอพเรียกใช้ต่ออีกที ไลบรารีนี้ถูกนำไปใช้โดยมัลแวร์และแอพเทาๆ จำนวนมาก ส่งผลให้ Android เปลืองแบตเกินกว่าที่ควรจะเป็น</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/db6a15846d54d2eccdc3491a28e5c92a.png\" /></p>\n<p>สิ่งที่เปลี่ยนแปลงคือ Android 14 จะแช่แข็ง (freeze) กลุ่มโพรเซส (cgroups) ที่จัดการโดยเคอร์เนลลินุกซ์ก่อนแล้วค่อยฆ่าโพรเซสทิ้ง การแช่แข็งโพรเซสทั้งกลุ่มเลยทำให้เทคนิคข้างต้นใช้งานไม่ได้อีกแล้ว</p>\n<p>Rahman บอกว่าแนวทางใหม่ของกูเกิลเป็นเรื่องดี ช่วยให้ Android 14 ประหยัดแบตขึ้นเมื่อเจอกับแอพที่ใช้เทคนิคนี้ แต่กูเกิลไม่ใช่บริษัทรายแรกที่อุดช่องโหว่นี้ เพราะผู้ผลิตรอมสายจีนจำนวนมาก (ที่เคร่งครัดเรื่องการรีดประสิทธิภาพแบต) ได้อุดรูรั่วนี้กันไปก่อนนานแล้ว</p>\n<p>นอกจากนี้ Rahman ยังอธิบายว่าเจอนโยบายใหม่อีกอย่างที่กูเกิลทำใน Android 14 คือลดระยะเวลาที่กูเกิลรอจับแอพไม่ได้ใช้งานไปแช่แข็งลง จากเดิมรอ 10 นาที ปรับเป็นรอ 10 วินาทีเท่านั้น และเพิ่มจำนวนแอพที่มีโอกาสโดนแช่แข็งจากเดิมสูงสุด 32 แอพเป็น 1024 แอพ</p>\n<blockquote><p>Android 14 seems to have quietly eliminated a trick some apps were using to keep themselves alive when the OS tried to kill them.As spotted by Greenify developer <a href=\"https://twitter.com/oasisfeng?ref_src=twsrc%5Etfw\">@oasisfeng</a>, Android now freezes a package's cgroup before killing it. Control groups (cgroups) is a Linux kernel… <a href=\"https://t.co/32HffUuVLc\">pic.twitter.com/32HffUuVLc</a></p>\n<p>— Mishaal Rahman (@MishaalRahman) <a href=\"https://twitter.com/MishaalRahman/status/1722758953300292095?ref_src=twsrc%5Etfw\">November 9, 2023</a></p></blockquote>\n<p>ที่มา - <a href=\"https://www.androidpolice.com/android-14-drastically-improves-battery-life/\">Android Police</a></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/android-14\">Android 14</a></div><div><a href=\"/topics/android\">Android</a></div><div><a href=\"/topics/operating-system\">Operating System</a></div></div></div>","author":"mk","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"eb7a579b364e0a1d38ac4907a4f71ed6bf72b2a45346467b142547d59b77236e","category":"Thai"}