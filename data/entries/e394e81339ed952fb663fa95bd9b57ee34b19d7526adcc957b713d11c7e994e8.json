{"title":"Announcing HashiCorp Vault 1.8","link":"https://www.hashicorp.com/blog/vault-1-8","date":1627488000000,"content":"<p>We are pleased to announce the general availability of <a href=\"https://www.vaultproject.io/downloads\">HashiCorp Vault 1.8</a>. Vault provides secrets management, data encryption, and identity management for any application on any infrastructure.</p>\n<p>Vault 1.8 focuses on improving Vault’s core workflows and making key features production-ready to better serve your use cases. In this release, we added a new Vault Diagnose command, made improvements to the Integrated Storage Autopilot feature, released Amazon Web Services (AWS) GA support for the Key Management secrets engine, and made many other improvements across the project.</p>\n<p>This release includes the following key features and improvements:</p>\n<ul>\n<li><strong>Vault Diagnose</strong>: Added <code>vault operator diagnose</code> command to enable faster troubleshooting and user-friendly diagnostics in situations when Vault is not starting.</li>\n<li><strong>Integrated Storage Autopilot (Enterprise)</strong>: Added support for DR secondary clusters to have their own <a href=\"https://www.vaultproject.io/docs/concepts/integrated-storage/autopilot\">Autopilot configuration</a> managed independently of their primary.</li>\n<li><strong>Key Management secrets engine for AWS (Enterprise)</strong>: <a href=\"https://www.vaultproject.io/docs/secrets/key-management/awskms\">AWS KMS</a> support is now generally available to assist with automating many lifecycle operations.</li>\n<li><strong>Expiration manager improvements</strong>: Expiration manager is used to manage the lifecycle of leases. Added ability to stop trying to revoke irrevocable leases, added reporting via CLI and API, and automation to clean up older irrevocable leases.</li>\n<li><strong>Control Group triggers (Enterprise)</strong>: Added functionality to <a href=\"https://www.vaultproject.io/docs/enterprise/control-groups\">Vault Control Groups</a> to trigger Control Group approval on a subset of operations, instead of all operations on a path where a Control Group is configured.</li>\n<li><strong>Licensing updates (Enterprise)</strong>: Added end-user license agreement (EULA) check and added support for license autoloading.</li>\n<li><strong>User interface updates (UI)</strong>: Added UI support for Microsoft SQL Server (MSSQL) and MySQL to the database secrets engine; also added the ability to mask secrets in the UI to reduce secret exposure.</li>\n</ul>\n<p>This release also includes many additional new features, workflow enhancements, general improvements, and bug fixes. The Vault 1.8 <a href=\"https://github.com/hashicorp/vault/blob/master/CHANGELOG.md\">changelog</a> and <a href=\"https://www.vaultproject.io/docs/release-notes/1.8.0\">release notes</a> list all the changes.</p>\n<h2><a href=\"#vault-diagnose\">»</a><a></a>Vault Diagnose</h2>\n<p>Troubleshooting is a fundamental task for Vault operators. However, root causing an error with Vault can be a complex task since Vault connects to so many other systems; it can be difficult to ascertain what is wrong in a timely and efficient manner.</p>\n<p>In Vault 1.8 we are introducing Vault Diagnose: <code>vault operator diagnose</code> is a new operator-centric command focused on providing a clear description of what is working in Vault, and what is not working. The command focuses on why Vault cannot serve requests, but will also warn on configurations or statuses that it deems to be unsafe in some way. To see a demo of Vault diagnose in action please watch this video:</p><p>The operator diagnose command should be used primarily when Vault is down or failing to boot correctly. The command can be used safely regardless of the state Vault is in.</p>\n<p>For more information on Vault Diagnose, please see our <a href=\"https://www.vaultproject.io/docs/commands/operator\">documentation</a> and detailed <a href=\"https://learn.hashicorp.com/tutorials/vault/troubleshooting-vault\">Learn Guide</a>.</p>\n<h2><a href=\"#integrated-storage-autopilot\">»</a><a></a>Integrated Storage Autopilot</h2>\n<p>Vault 1.7 introduced Integrated Storage Autopilot, which allows automatic, operator-friendly management of the integrated storage servers (similar to Consul’s Autopilot subsystem). Autopilot can monitor cluster node health, prevent disruption to the <a href=\"https://raft.github.io/\">Raft</a> quorum due to an unstable new node, and periodically check and automatically clean up failed servers.</p>\n<p>In Vault 1.8, we added support for disaster recovery secondary clusters to have their own Autopilot configuration, managed independently of their primary, which allows for greater control of how the clusters are managed. For more information on either of these Integrated Storage enhancements, please see our <a href=\"https://www.vaultproject.io/docs/concepts/integrated-storage/autopilot\">documentation</a> and detailed <a href=\"https://learn.hashicorp.com/tutorials/vault/raft-autopilot\">Learn Guide</a>.</p>\n<h2><a href=\"#key-management-secrets-engine\">»</a><a></a>Key Management Secrets Engine</h2>\n<p>Many cloud providers offer a Key Management Service (KMS), where encryption keys can be issued and stored for maintaining a root of trust. The Key Management secrets engine provides an API abstraction layer and offers a standardized workflow for distribution and lifecycle management of cryptographic keys in various KMS providers. It allows organizations to greatly simplify the lifecycle management of keys Vault has distributed and maintains centralized control of those keys in Vault, while still taking advantage of cryptographic capabilities native to the KMS providers.</p>\n<p>In addition to supporting Microsoft Azure Key Vault, we are happy to announce that the Key Management secrets engine is now also ready for production use with AWS KMS.  This feature lets you use Vault to manage keys in AWS KMS for automating many lifecycle operations, such as creation, reading, updating, and rotating keys. This greatly simplifies the process of bringing your own keys to a cloud provider and managing the lifecycle of those keys.</p>\n<p>For more information on the Key Management secrets engine, please see our <a href=\"https://www.vaultproject.io/docs/secrets/key-management\">documentation</a> and detailed <a href=\"https://learn.hashicorp.com/tutorials/vault/key-management-secrets\">Learn Guide</a>.</p>\n<h2><a href=\"#enterprise-licensing-update\">»</a><a></a>Enterprise Licensing Update</h2>\n<p>Vault Enterprise includes a <a href=\"https://www.vaultproject.io/docs/enterprise\">number of features</a> that go beyond what is supported in the open source version, such as replication for DR and HA, HSM auto unseal support, performance standby nodes, etc. To use these features an Enterprise license needs to be applied to a Vault cluster.</p>\n<p>Prior to Vault 1.8, Vault Enterprise features could be unlocked using special binaries that contained embedded licenses, or via a license written into Vault storage using the PUT <code>sys/license</code> API. Starting in Vault 1.8, those options still exist but will be deprecated in a future release, and the recommended mechanism for managing licenses is called <a href=\"https://www.vaultproject.io/docs/enterprise/license/autoloading\">License Autoloading</a>. As much as possible, we tried to maintain a seamless experience for existing clusters that are upgraded to 1.8, but new clusters must use autoloading. New users of 1.8 Enterprise will also notice we have added an end-user license agreement (EULA) check to ensure agreement to a EULA.</p>\n<p>For more information on Enterprise licensing and autoloading please see our <a href=\"https://www.vaultproject.io/docs/enterprise/license\">documentation</a>,  <a href=\"https://www.vaultproject.io/docs/enterprise/license/faq\">Frequently Asked Questions</a> (FAQ) page, and detailed <a href=\"https://learn.hashicorp.com/tutorials/nomad/hashicorp-enterprise-license?in=vault/enterprise\">Learn Guide</a>.</p>\n<h2><a href=\"#other-features\">»</a><a></a>Other Features</h2>\n<p>There are many new features in Vault 1.8 that have been developed over the course of the 1.7.x releases. You can learn more about how to use many of these features in detailed, hands-on Learn Guides through the <a href=\"https://learn.hashicorp.com/collections/vault/new-release\">HashiCorp Learn</a> site. We have summarized a few of the larger features below, and you can consult the changelog for full details:</p>\n<ul>\n<li><strong>Apple M1 support</strong>: Add a <a href=\"https://releases.hashicorp.com/vault/1.8.0/\">darwin/arm64 binary release</a> supporting the Apple M1 CPU.</li>\n<li><strong>Google Cloud secrets engine</strong>: The Google Cloud secrets engine can now <a href=\"https://www.vaultproject.io/docs/secrets/gcp\">manage access tokens or keys</a> for an existing service account.</li>\n<li><strong>Database secrets engine</strong>: Support for <a href=\"https://www.vaultproject.io/docs/concepts/username-templating#username-templating\">customizable usernames</a> templates has been added to several additional database secrets engines.</li>\n<li><strong>Red Hat OpenShift Helm chart certification</strong>: The Vault Helm chart has achieved Red Hat OpenShift certification to help OpenShift users source and deploy secrets from Vault. Read more on the <a href=\"https://www.hashicorp.com/blog/hashicorp-vault-achieves-red-hat-openshift-helm-certification\">announcement blog</a>.</li>\n<li><strong>ServiceNow Vault credential resolver</strong>: Operators of ServiceNow can use a Vault credential resolver (jar file), along with Vault agent, to query and retrieve secrets from Vault when performing asset discovery.</li>\n<li><strong>Active Directory secrets engine</strong>: Added a rotate-role endpoint to enable <a href=\"https://www.vaultproject.io/docs/secrets/ad\">manual or on-demand rotation</a> of Active Directory credentials managed by Vault.</li>\n</ul>\n<h2><a href=\"#upgrade-details\">»</a><a></a>Upgrade Details</h2>\n<p>Vault 1.8 introduces significant new functionality. As such, please review the <a href=\"https://www.vaultproject.io/docs/upgrading\">general upgrade instructions</a> page for details.</p>\n<p>As always, we recommend upgrading and testing this release in an isolated environment. If you experience any issues, please report them on the <a href=\"https://github.com/hashicorp/vault/issues\">Vault GitHub issue tracker</a> or post to the <a href=\"https://discuss.hashicorp.com/c/vault/30\">Vault discussion forum</a>. As a reminder, if you believe you have found a security issue in Vault, please responsibly disclose by emailing <a href=\"mailto:security@hashicorp.com\">security@hashicorp.com</a> and do not use the public issue tracker. Our security policy and our PGP key can be found <a href=\"https://www.hashicorp.com/security\">here</a>.</p>\n<p>For more information about Vault Enterprise, visit <a href=\"https://www.hashicorp.com/products/vault\">hashicorp.com/products/vault</a>. Users can download the open source version of Vault at <a href=\"http://vaultproject.io\">vaultproject.io</a>.</p>\n<p>We hope you enjoy Vault 1.8.</p>","author":"Justin Weissig","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"e394e81339ed952fb663fa95bd9b57ee34b19d7526adcc957b713d11c7e994e8","category":"Tech"}