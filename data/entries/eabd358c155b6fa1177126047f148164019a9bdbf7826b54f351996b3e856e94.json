{"title":"Amazon S3 Tables integration with Amazon SageMaker Lakehouse is now generally available","link":"https://aws.amazon.com/blogs/aws/amazon-s3-tables-integration-with-amazon-sagemaker-lakehouse-is-now-generally-available/","date":1741903424000,"content":"<p>At re:Invent 2024, we launched <a href=\"https://aws.amazon.com/blogs/aws/new-amazon-s3-tables-storage-optimized-for-analytics-workloads/\">Amazon S3 Tables</a>, the first cloud object store with built-in <a href=\"https://iceberg.apache.org/\">Apache Iceberg</a> support to streamline storing tabular data at scale, and <a href=\"https://aws.amazon.com/blogs/aws/simplify-analytics-and-aiml-with-new-amazon-sagemaker-lakehouse/\">Amazon SageMaker Lakehouse</a> to simplify analytics and AI with a unified, open, and secure data lakehouse. We also previewed S3 Tables integration with <a href=\"https://aws.amazon.com/\">Amazon Web Services (AWS)</a> analytics services for you to stream, query, and visualize S3 Tables data using <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-tables-integrating-athena.html\">Amazon Athena</a>, <a href=\"https://alpha.www.docs.aws.a2z.com/AmazonS3/latest/userguide/s3-tables-integrating-firehose.html\">Amazon Data Firehose</a>, <a href=\"https://alpha.www.docs.aws.a2z.com/AmazonS3/latest/userguide/s3-tables-integrating-emr.html\">Amazon EMR</a>, <a href=\"https://alpha.www.docs.aws.a2z.com/AmazonS3/latest/userguide/s3-tables-integrating-glue.html\">AWS Glue</a>, <a href=\"https://alpha.www.docs.aws.a2z.com/AmazonS3/latest/userguide/s3-tables-integrating-redshift.html\">Amazon Redshift</a>, and <a href=\"https://alpha.www.docs.aws.a2z.com/AmazonS3/latest/userguide/s3-tables-integrating-quicksight.html\">Amazon QuickSight</a>.</p> \n<p>Our customers wanted to simplify the management and optimization of their Apache Iceberg storage, which led to the development of S3 Tables. They were simultaneously working to break down data silos that impede analytics collaboration and insight generation using the SageMaker Lakehouse. When paired with S3 Tables and SageMaker Lakehouse in addition to built-in integration with AWS analytics services, they can gain a comprehensive platform unifying access to multiple data sources enabling both analytics and machine learning (ML) workflows.</p> \n<p>Today, we’re announcing the general availability of <strong>Amazon S3 Tables integration with Amazon SageMaker Lakehouse</strong> to provide unified S3 Tables data access across various analytics engines and tools. You can access SageMaker Lakehouse from <a href=\"https://aws.amazon.com/sagemaker/unified-studio/\">Amazon SageMaker Unified Studio</a>, a single data and AI development environment that brings together functionality and tools from AWS analytics and AI/ML services. All S3 tables data integrated with SageMaker Lakehouse can be queried from SageMaker Unified Studio and engines such as Amazon Athena, Amazon EMR, Amazon Redshift, and Apache Iceberg-compatible engines like <a href=\"https://spark.apache.org/\">Apache Spark</a> or <a href=\"https://py.iceberg.apache.org/\">PyIceberg</a>.</p> \n<p>With this integration, you can simplify building secure analytic workflows where you can read and write to S3 Tables and join with data in Amazon Redshift data warehouses and third-party and federated data sources, such as <a href=\"https://aws.amazon.com/dynamodb\">Amazon DynamoDB</a> or PostgreSQL.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/13/2025-lakehouse-integration-s3-tables-1-diagram-1.png\" alt=\"\" width=\"2664\" height=\"862\" /></p> \n<p>You can also centrally set up and manage ﬁne-grained access permissions on the data in S3 Tables along with other data in the SageMaker Lakehouse and consistently apply them across all analytics and query engines.</p> \n<p><strong><u>S3 Tables integration with SageMaker Lakehouse in action</u></strong><br /> To get started, go to the <a href=\"https://console.aws.amazon.com/s3\">Amazon S3 console</a> and choose <strong>Table buckets</strong> from the navigation pane and select <strong>Enable integration</strong> to access table buckets from AWS analytics services.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/09/2025-lakehouse-integration-s3-tables-2-s3-tables-console-1.png\" alt=\"\" width=\"2460\" height=\"1298\" /></p> \n<p>Now you can create your table bucket to integrate with SageMaker Lakehouse. To learn more, visit <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-tables-getting-started.html\">Getting started with S3 Tables</a> in the AWS documentation.</p> \n<p><strong>1. Create a table with Amazon Athena in the Amazon S3 console<br /> </strong>You can create a table, populate it with data, and query it directly from the Amazon S3 console using Amazon Athena with just a few steps. Select a table bucket and select <strong>Create table with Athena</strong>, or you can select an existing table and select <strong>Query table with Athena</strong>.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/09/2025-lakehouse-integration-s3-tables-2-1-console-create-athena.png\" alt=\"2. Create tables with Athena\" width=\"1888\" height=\"896\" /></p> \n<p>When you want to create a table with Athena, you should first specify a <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-tables-namespace.html\">namespace</a> for your table. The namespace in an S3 table bucket is equivalent to a database in AWS Glue, and you use the table namespace as the database in your Athena queries.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/09/2025-lakehouse-integration-s3-tables-2-2-console-create-namespace.png\" alt=\"\" width=\"1674\" height=\"858\" /></p> \n<p>Choose a namespace and select <strong>Create table with Athena</strong>. It goes to the <strong>Query editor</strong> in the Athena console. You can create a table in your S3 table bucket or query data in the table.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/09/2025-lakehouse-integration-s3-tables-2-3-console-athena-query.png\" alt=\"2. Query with Athena\" width=\"2226\" height=\"1136\" /></p> \n<p><strong>2. Query with SageMaker Lakehouse in the SageMaker Unified Studio<br /> </strong>Now you can access unified data across S3 data lakes, Redshift data warehouses, third-party and federated data sources in SageMaker Lakehouse directly from SageMaker Unified Studio.</p> \n<p>To get started, go to the <a href=\"https://console.aws.amazon.com/sagemaker\">SageMaker console</a> and create a SageMaker Unified Studio domain and project using a sample project profile: <strong>Data Analytics and AI-ML model development</strong>. To learn more, visit <a href=\"https://docs.aws.amazon.com/sagemaker-unified-studio/latest/adminguide/create-domain-sagemaker-unified-studio-quick.html\">Create an Amazon SageMaker Unified Studio domain</a> in the AWS documentation.</p> \n<p>After the project is created, navigate to the project overview and scroll down to project details to note down the project role Amazon Resource Name (ARN).</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/08/2025-lakehouse-integration-s3-tables-2-s3-tables-3-project-details.png\" alt=\"3. Project details in SageMaker Unified Studio\" width=\"2358\" height=\"1124\" /></p> \n<p>Go to the <a href=\"https://console.aws.amazon.com/lakeformation/home?#grant-data-permissions\">AWS Lake Formation console</a> and grant permissions for <a href=\"https://aws.amazon.com/iam/\">AWS Identity and Access Management (IAM)</a> users and roles. In the in the <strong>Principals</strong> section, select the <code>&lt;project role ARN&gt;</code> noted in the previous paragraph. Choose <strong>Named Data Catalog resources</strong> in the <strong>LF-Tags or catalog resources</strong> section and select the table bucket name you created for <strong>Catalogs</strong>. To learn more, visit <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/lf-permissions-overview.html\">Overview of Lake Formation permissions</a> in the AWS documentation.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/08/2025-lakehouse-integration-s3-tables-2-s3-tables-4-lake-formation-grant-permission.png\" alt=\"4. Grant permissions in Lake Formation console\" width=\"2268\" height=\"1496\" /></p> \n<p>When you return to SageMaker Unified Studio, you can see your table bucket project under <strong>Lakehouse</strong> in the <strong>Data</strong> menu in the left navigation pane of project page. When you choose <strong>Actions</strong>, you can select how to query your table bucket data in Amazon Athena, Amazon Redshift, or JupyterLab Notebook.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/08/2025-lakehouse-integration-s3-tables-2-s3-tables-5-s3-tables-in-unified-studio.png\" alt=\"5. S3 Tables in Unified Studio\" width=\"2184\" height=\"1044\" /></p> \n<p>When you choose <strong>Query with Athena</strong>, it automatically goes to <strong>Query Editor</strong> to run data query language (DQL) and data manipulation language (DML) queries on S3 tables using Athena.</p> \n<p>Here is a sample query using Athena:</p> \n<pre><code>select * from \"s3tablecatalog/s3tables-integblog-bucket”.”proddb\".\"customer\" limit 10;</code></pre> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/08/2025-lakehouse-integration-s3-tables-6-athena-query.png\" alt=\"6. Athena query in Unified Studio\" width=\"2544\" height=\"1322\" /></p> \n<p>To query with Amazon Redshift, you should set up <a href=\"https://aws.amazon.com/redshift/serverless\">Amazon Redshift Serverless</a> compute resources for data query analysis. And then you choose <strong>Query with Redshift</strong> and run SQL in the <strong>Query Editor</strong>. If you want to use JupyterLab Notebook, you should create a new JupyterLab space in <a href=\"https://aws.amazon.com/emr/serverless\">Amazon EMR Serverless</a>.</p> \n<p><strong>3. Join data from other sources with S3 Tables data<br /> </strong>With S3 Tables data now available in SageMaker Lakehouse, you can join it with data from data warehouses, online transaction processing (OLTP) sources like relational or non-relational database, Iceberg tables, and other third party sources to gain more comprehensive and deeper insights.</p> \n<p>For example, you can add connections to data sources such as <a href=\"https://aws.amazon.com/documentdb/\">Amazon DocumentDB</a>, Amazon DynamoDB, Amazon Redshift, PostgreSQL, MySQL, Google BigQuery, or Snowflake and combine data using SQL without extract, transform, and load (ETL) scripts.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/13/2025-lakehouse-integration-s3-tables-7-join-other-data-sources-1.png\" alt=\"\" width=\"2730\" height=\"1424\" /></p> \n<p>Now you can run the SQL query in the Query editor to join the data in the S3 Tables with the data in the DynamoDB.</p> \n<p>Here is a sample query to join between Athena and DynamoDB:</p> \n<pre><code>select * from \"s3tablescatalog/s3tables-integblog-bucket\".\"blogdb\".\"customer\", \n              \"dynamodb1\".\"default\".\"customer_ddb\" where cust_id=pid limit 10;</code></pre> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/12/2025-lakehouse-integration-s3-tables-7-join-other-data-sources-dynamodb-1.png\" alt=\"\" width=\"2526\" height=\"1182\" /></p> \n<p>To learn more about this integration, visit <a href=\"https://docs.aws.amazon.com/sagemaker-unified-studio/latest/userguide/lakehouse-s3-tables-integration.html\">Amazon S3 Tables integration with Amazon SageMaker Lakehouse</a> in the AWS documentation.</p> \n<p><strong><u>Now available</u></strong><br /> S3 Tables integration with SageMaker Lakehouse is now generally available in all AWS Regions where <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-tables-regions-quotas.html\">S3 Tables are available</a>. To learn more, visit the <a href=\"https://aws.amazon.com/s3/features/tables/\">S3 Tables product page</a> and the <a href=\"https://aws.amazon.com/sagemaker/lakehouse/\">SageMaker Lakehouse page</a>.</p> \n<p>Give S3 Tables a try in the <a href=\"https://console.aws.amazon.com/datazone/home\">SageMaker Unified Studio</a> today and send feedback to <a href=\"https://repost.aws/tags/TADSTjraA0Q4-a1dxk6eUYaw/amazon-simple-storage-service\">AWS re:Post for Amazon S3</a> and <a href=\"https://repost.aws/tags/TAT80swPyVRPKPcA0rsJYPuA/amazon-sagemaker\">AWS re:Post for Amazon SageMaker</a> or through your usual AWS Support contacts.</p> \n<p>In the annual celebration of the <a href=\"https://aws.amazon.com/blogs/aws/amazon_s3/\">launch of Amazon S3</a>, we will introduce more awesome launches for Amazon S3 and Amazon SageMaker. To learn more, join the <a href=\"https://pages.awscloud.com/NAMER-field-OE-Pi-Day-2025-interest.html\">AWS Pi Day event on March 14</a>.</p> \n<p>— <a href=\"https://twitter.com/channyun\">Channy</a></p> \n<p>—</p> \n<p>How is the News Blog doing? Take this <a href=\"https://amazonmr.au1.qualtrics.com/jfe/form/SV_eyD5tC5xNGCdCmi\">1 minute survey</a>!</p> \n<p><em>(This <a href=\"https://amazonmr.au1.qualtrics.com/jfe/form/SV_eyD5tC5xNGCdCmi\">survey</a> is hosted by an external company. AWS handles your information as described in the <a href=\"https://aws.amazon.com/privacy/\">AWS Privacy Notice</a>. AWS will own the data gathered via this survey and will not share the information collected with survey respondents.)</em></p>","author":"Channy Yun (윤석찬)","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"eabd358c155b6fa1177126047f148164019a9bdbf7826b54f351996b3e856e94","category":"Tech"}