{"title":"โปรแกรมจัดการ VM บน Azure มีช่องโหว่ กระทบลินุกซ์จำนวนมากที่รันบน Azure","link":"https://www.blognone.com/node/124774","date":1631726021000,"content":"<div><div><div><p>ทีมวิจัยจาก Wiz.io รายงานถึงช่องโหว่ของ<a href=\"https://github.com/Microsoft/omi\">โปรแกรม OMI (Open Management Infrastructure)</a> ที่ช่วยจัดการโครงสร้างใน Azure โดยไมโครซอฟต์ติดตั้ง OMI ไปกับบริการจำนวนมากที่รันลินุกซ์บน Azure รวมถึง virtual machine ที่เลือกระบบปฎิบัติการลินุกซ์</p>\n<p>ช่องโหว่ที่รายงานออกมามี 4 รายการ ที่ร้ายแรงที่สุดคือ CVE-2021-38647 ช่องโหว่รันโค้ดระยะไกล (CVSSv3 9.8 คะแนน) เนื่องจาก OMI สามารถรับคำสั่งจากภายนอกผ่านพอร์ต HTTP/HTTPS ได้ อย่างไรก็ดีไมโครซอฟท์ติดตั้ง OMI โดยไม่ได้คอนฟิกให้รับคำสั่งผ่านเน็ตเวิร์ค แต่อาศัยการเชื่อมต่อผ่าน unix socket เท่านั้น ทำให้คนร้ายจะต้องล็อกอินเข้ามาในเครื่องเสียก่อนจึงโจมตีผ่าน OMI ได้ ยกเว้น Azure Configuration Management และ System Center Operations Manager (SCOM) ที่ติดตั้ง OMI แบบรับคำสั่งผ่านเน็ตเวิร์คพอร์ต 5986 จึงควรป้องกันด้วยการปิดการเข้าถึงพอร์ตนี้ผ่านเน็ตเวิร์คโดยเร็ว</p>\n<p>ปัญหาของผู้ใช้ Azure คือไมโครซอฟท์ติดตั้ง OMI ลงในลินุกซ์โดยไม่ได้ติดตั้งผ่าน repository ซอฟต์แวร์ตามปกติ ทำให้ไม่สามารถปล่อยอัพเดตผ่านคำสั่งเช่น <code>apt upgrade</code> ได้ <a href=\"https://docs.microsoft.com/en-us/windows-server/administration/Linux-Package-Repository-for-Microsoft-Software\">ผู้ใช้จะต้องติดตั้ง repository ของไมโครซอฟท์ลงในเครื่องด้วยตัวเอง</a>จึงอัพเกรดได้</p>\n<p>ทาง Wiz แนะนำให้ผู้ใช้ปิดกั้นการเข้าถึงพอร์ต 5986, 5985, และ 1270 เพื่อป้องกันไว้ก่อน</p>\n<p>ที่มา - <a href=\"https://www.wiz.io/blog/secret-agent-exposes-azure-customers-to-unauthorized-code-execution\">Wiz.io</a>, <a href=\"https://msrc.microsoft.com/update-guide/vulnerability/CVE-2021-38647\">Microsoft</a></p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/9b8466b861bfa60c428c3a0382076ef6.png\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/microsoft-azure\">Microsoft Azure</a></div><div><a href=\"/topics/security\">Security</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"7462491fbfccd1f0c890059a601e1accfea774ff738a55e577ad5f517e74a3de","category":"Thai"}