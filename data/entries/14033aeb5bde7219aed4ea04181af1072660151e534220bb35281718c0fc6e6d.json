{"title":"Optimized for low-latency workloads, Mistral Small now available in Amazon Bedrock","link":"https://aws.amazon.com/blogs/aws/optimized-for-low-latency-workloads-mistral-small-now-available-in-amazon-bedrock/","date":1716569536000,"content":"<p>Today, I am happy to announce that the <a href=\"https://aws.amazon.com/bedrock/mistral/\">Mistral Small</a> foundation model (FM) from Mistral AI is now generally available in <a href=\"https://aws.amazon.com/bedrock/\">Amazon Bedrock</a>. This a fast-follow to our recent announcements of <a href=\"https://aws.amazon.com/blogs/aws/mistral-ai-models-now-available-on-amazon-bedrock/\">Mistral 7B and Mixtral 8x7B</a> in March, and <a href=\"https://aws.amazon.com/blogs/aws/tackle-complex-reasoning-tasks-with-mistral-large-now-available-on-amazon-bedrock/\">Mistral Large</a> in April. You can now access four high-performing models from Mistral AI in Amazon Bedrock including Mistral Small, Mistral Large, Mistral 7B, and Mixtral 8x7B, further expanding model choice.</p> \n<p>Mistral Small, developed by <a href=\"https://mistral.ai/\">Mistral AI</a>, is a highly efficient large language model (LLM) optimized for high-volume, low-latency language-based tasks. Mistral Small is perfectly suited for straightforward tasks that can be performed in bulk, such as classification, customer support, or text generation. It provides outstanding performance at a cost-effective price point.</p> \n<p>Some key features of Mistral Small you need to know about:</p> \n<ul> \n <li><strong>Retrieval-Augmented Generation (RAG) specialization ‚Äì </strong>Mistral Small ensures that important information is retained even in long context windows, which can extend up to 32K tokens.</li> \n <li><strong>Coding proficiency ‚Äì</strong> Mistral Small excels in code generation, review, and commenting, supporting major coding languages.</li> \n <li><strong>Multilingual capability ‚Äì¬†</strong>Mistral Small delivers top-tier performance in French, German, Spanish, and Italian, in addition to English. It also supports dozens of other languages.</li> \n</ul> \n<p><span><strong>Getting started with Mistral Small</strong></span><br /> I first need access to the model to get started with Mistral Small. I go to the <a href=\"https://console.aws.amazon.com/bedrock/\">Amazon Bedrock console</a>, choose <strong>Model access</strong>, and then choose <strong>Manage model access</strong>. I expand the <strong>Mistral AI</strong> section,¬†choose <strong>Mistral Small</strong>, and then choose <strong>Save changes</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/08/AWSNEWS-1990-model-access1.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/08/AWSNEWS-1990-model-access1.png\" width=\"2036\" height=\"1090\" /></a></p> \n<p>I now have model access to Mistral Small, and I can start using it in Amazon Bedrock. I refresh the <strong>Base models</strong> table to view the current status.</p> \n<p>I use the following template to build a prompt for the model to get sub-optimal outputs:</p> \n<p><code>&lt;s&gt;[INST] Instruction [/INST]</code></p> \n<p>Note that¬†<code>&lt;s&gt;</code> is a special token for beginning of string (BOS) while <code>[INST]</code> and <code>[/INST]</code> are regular strings.</p> \n<p>I try the following prompt to see a classification example:</p> \n<p><strong>Prompt:</strong></p> \n<p><code>&lt;s&gt;[INST] Classify the following email to determine if it is spam or not. Only respond with the exact words \"Spam\" or \"Not spam\".<br /> üéâ Limited time offer! Buy 2, Get 1 Free! Offer ends today! Don't miss out the CHANCE TO SAVE, please click on the link below: https://bit.ly/buy-2-get-1-free [/INST]</code></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/15/AWSNEWS-1990-text-playground4.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/15/AWSNEWS-1990-text-playground4.png\" width=\"1565\" height=\"856\" /></a></p> \n<p>Mistral 7B, Mixtral 8x7B, and Mistral Large can all correctly classify this email as ‚ÄúSpam.‚Äù Mistral Small is also able to classify this accurately, just as the larger models can. I also try several similar tasks, such as generating a Bash script from a text prompt and generating a recipe to prepare yoghurt, and get good results. For this reason, Mistral Small is the most cost-effective and efficient option of the Mistral AI models in Amazon Bedrock for such tasks.</p> \n<p>Mistral Small excels in multilingual tasks. Along with English, it delivers superior performance in French, German, Spanish, and Italian. I test the model‚Äôs understanding of the German language by asking it to give me two sentences about sustainability:</p> \n<p><strong>Prompt:</strong></p> \n<p><code>&lt;s&gt;[INST] Geben Sie mir zwei S√§tze zum Thema Nachhaltigkeit. [/INST]</code></p> \n<p><strong>Output:</strong></p> \n<p><code>1. Nachhaltigkeit bedeutet, die Bed√ºrfnisse der heutigen Generation zu befriedigen, ohne die M√∂glichkeiten k√ºnftiger Generationen zu gef√§hrden.<br /> 2. Ein nachhaltiger Lebensstil umfasst den bewussten Umgang mit Ressourcen, wie Wasser, Energie und Rohstoffen, sowie den Schutz von Umwelt und Klima.<br /> Diese S√§tze sollten Ihnen einen guten √úberblick √ºber das Thema Nachhaltigkeit geben.</code></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/15/AWSNEWS-1990-text-playground-german3.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/15/AWSNEWS-1990-text-playground-german3.png\" width=\"1572\" height=\"859\" /></a></p> \n<p><span><strong>Programmatically interact with Mistral Small</strong></span><br /> I can use <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (AWS CLI)</a> and <a href=\"https://aws.amazon.com/developer/tools/\">AWS Software Development Kit (SDK)</a> to programmatically interact with Mistral Small using Amazon Bedrock APIs. I use the following code in Python, which interacts with Amazon Bedrock Runtime APIs with AWS SDK, asking, ‚ÄúWhat is the color of the sky?‚Äù:</p> \n<pre><code>import argparse\nimport boto3\nfrom botocore.exceptions import ClientError\nimport json\n\naccept = \"application/json\"\ncontent_type = \"application/json\"\n\ndef invoke_model(model_id, input_data, region, streaming): \n  client = boto3.client('bedrock-runtime', region_name=region)\n  try:\n    if streaming:\n      response = client.invoke_model_with_response_stream(body=input_data, modelId=model_id, accept=accept, contentType=content_type)\n    else:\n      response = client.invoke_model(body=input_data, modelId=model_id, accept=accept, contentType=content_type)\n    status_code = response['ResponseMetadata']['HTTPStatusCode']\n    print(json.loads(response.get('body').read()))\n  except ClientError as e:\n    print(e)\n\nif __name__ == \"__main__\":\n  parser = argparse.ArgumentParser(description=\"Bedrock Testing Tool\")\n  parser.add_argument(\"--prompt\", type=str, help=\"prompt to use\", default=\"Hello\")\n  parser.add_argument(\"--max-tokens\", type=int, default=64)\n  parser.add_argument(\"--streaming\", choices=[\"true\", \"false\"], help=\"whether to stream or not\", default=\"false\")\n  args = parser.parse_args()\n  streaming = False\n  if args.streaming == \"true\":\n    streaming = True\n  input_data = json.dumps({\n    \"prompt\": f\"&lt;s&gt;[INST]{args.prompt}[/INST]\",\n    \"max_tokens\": args.max_tokens\n  })\n  invoke_model(model_id=\"mistral.mistral-small-2402-v1:0\", input_data=input_data, region=\"us-east-1\", streaming=streaming)</code></pre> \n<p>I get the following output:</p> \n<pre><code>{'outputs': [{'text': ' The color of the sky can vary depending on the time of day, weather,', 'stop_reason': 'length'}]}</code></pre> \n<p><span><strong>Now available</strong></span><br /> The Mistral Small model is now available in <a href=\"https://aws.amazon.com/bedrock/\">Amazon Bedrock</a> in the US East (N. Virginia) Region.</p> \n<p>To learn more, visit the <a href=\"https://aws.amazon.com/bedrock/mistral/\">Mistral AI in Amazon Bedrock product page</a>. For pricing details, review the <a href=\"https://aws.amazon.com/bedrock/pricing/\">Amazon Bedrock pricing page</a>.</p> \n<p>To get started with Mistral Small in Amazon Bedrock, visit the <a href=\"https://console.aws.amazon.com/bedrock/\">Amazon Bedrock console</a> and <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/what-is-bedrock.html\">Amazon Bedrock User Guide</a>.</p> \n<a href=\"https://www.linkedin.com/in/esrakayabali/\">‚Äî Esra</a>","author":"Esra Kayabali","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"14033aeb5bde7219aed4ea04181af1072660151e534220bb35281718c0fc6e6d","category":"Tech"}