{"title":"สวัสดี Hurl ใช้สำหรับ API testing","link":"https://www.somkiat.cc/api-testing-with-hurl/","date":1716542481000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/hurl-01-150x150.jpeg\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/05/hurl-01-150x150.jpeg 150w, https://www.somkiat.cc/wp-content/uploads/2024/05/hurl-01-75x75.jpeg 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/05/hurl-01.jpeg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/hurl-01-1024x652.jpeg\" width=\"511\" height=\"324\" /></a></figure>\n\n\n\n<p>หลังจากที่แนะนำเครื่องมือสำหรับ <strong><a href=\"https://www.somkiat.cc/tag/api-testing/\" target=\"_blank\">API testing</a></strong> ไปหลายตัว เช่น</p>\n\n\n\n<ul>\n<li>Postman + newman</li>\n\n\n\n<li>Bruno</li>\n\n\n\n<li>Hoppscotch</li>\n\n\n\n<li>HTTPie</li>\n</ul>\n\n\n\n<p>มีคนแนะนำเครื่องมืออีกตัวคือ <strong><a href=\"https://hurl.dev/\" target=\"_blank\">Hurl</a></strong><br />ซึ่งเป็น command line tool (CLI) สำหรับการทดสอบผ่าน HTTP<br />ด้วยการเขียนใน text file ปกติ<br />ดังนั้นมาลองใช้งานกันดู</p>\n\n\n\n<span></span>\n\n\n\n<p>เท่าที่เข้าไปดูความสามารถคร่าว ๆ ของ Hurl พบว่า<br />มันสามารถทำ API testing ได้แบบง่าย ๆ เลย<br />ด้วยการเขียนไฟล์นามสกุล hurl ขึ้นมา<br />จากนั้น run ผ่าน command line ได้เลย<br />แถมเขียน test case หรือ assert ได้เลย<br />รวมทั้งสามารถเขียนร้อย flow การทำงานของแต่ละ API ได้อีกด้วย<br />ด้วยการกำหนดค่าลงใน environment variable<br />เพียงแค่ไม่มี UI ให้ใช้งานแบบง่าย ๆ นั่นเอง</p>\n\n\n\n<p><strong>ดังนั้นมาดูตัวอย่างการทดสอบด้วย Hurl กันดู</strong></p>\n\n\n\n<p>ทำการทดสอบ API= <a href=\"https://jsonplaceholder.typicode.com/users\">https://jsonplaceholder.typicode.com/users</a><br />ต้องการตรวจสอบดังนี้</p>\n\n\n\n<ul>\n<li>HTTP response code = 200</li>\n\n\n\n<li>Content type จาก HTTP Response  ต้องเป็น application/json; charset=utf-8</li>\n\n\n\n<li>มีข้อมูล user จำนวน 10 คน</li>\n\n\n\n<li>ชื่อของ username ของคนแรกต้องชื่อ Bret</li>\n</ul>\n\n\n\n<p>สามารถเขียนได้ดังนี้</p>\n\n\n\n[gist id=\"ad8eb782978cacf4679665ff8ff0ab3e\" file=\"hello.hurl\"]\n\n\n\n<p>ทำการ run ใน mode testing</p>\n\n\n\n[gist id=\"ad8eb782978cacf4679665ff8ff0ab3e\" file=\"1.txt\"]\n\n\n\n<p>เพียงเท่านี้ก็สามารถใช้งานในการทำ API testing แบบง่าย ๆ ได้แล้ว<br />ซึ่ง feature มามากมาย น่าสนใจมาก ๆ<br />แต่อาาจะใช้ยากหน่อยในมุมมองของคนใช้งานทั่วไป<br />แต่จากที่ลองใช้งานไปสักพัก พบว่า มันง่าย และ เข้าใจได้ง่ายมาก ๆ<br />ลองใช้กันดูครับ</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"932e78506909f6eae08fd9cc0d8a89d315db7d796469dfa6bc891898ae520471","category":"Thai"}