{"title":"คำถามเกี่ยวกับการใช้ newman #1","link":"https://www.somkiat.cc/newman-faq-1/","date":1695706698000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2023/09/postman-newman-150x150.png\" alt loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2023/09/postman-newman-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2023/09/postman-newman-75x75.png 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2023/09/postman-newman.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2023/09/postman-newman.png\" alt width=\"726\" height=\"317\" /></a></figure>\n\n\n\n<p>มีคำถามเกี่ยวกับการใช้งาน <a href=\"https://www.npmjs.com/package/newman\" target=\"_blank\">newman</a><br />สำหรับการ run collection ของ Postman ผ่าน command line<br />จึงทำการสรุปไว้ดังนี้</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>คำถามที่ 1 ทำการ run collection อย่างไร</strong></p>\n\n\n\n<p>ขั้นตอนหลังจากที่สร้าง colelction ใน Postman แล้ว<br />เราสามารถ share หรือ export collection ออกมาได้<br />ในกรณีที่ export เป็นไฟล์ออกมา จะอยู่ในรูปแบบ JSON<br />ทำการ run ดังนี้</p>\n\n\n\n[code]\n$newman run collection.json\n[/code]\n\n\n\n<p><strong>สามารถ run โดยระบุชื่อง folder ที่ได้การได้ด้วย</strong><br />ในกรณีที่แบ่งกลุ่มของ request ด้วย folder ใน collection<br />หรือแบ่งเป็น flow/scenario นั่นเอง<br />ทำการ run ดังนี้</p>\n\n\n\n[code]\n$newman run collection.json --folder folder_name\n[/code]\n\n\n\n<p><strong><em>ถ้าจะให้ดีแยกแต่ละ flow/scenario เป็นคนละ collection ดีกว่านะ</em></strong></p>\n\n\n\n<p><strong>คำถามที่ 2 ในการจัดการเกี่ยวกับไฟล์ data ต่าง ๆ </strong></p>\n\n\n\n<p>ใน request ของ postman มักจะมีการใช้งานไฟล์ต่าง ๆ <br />เช่นใน request ต้องทำการ upload file<br />ปัญหาที่ตามมาคือ เครื่องอื่นไม่สามารถทดสอบได้<br />เนื่องจากไม่เจอไฟล์ที่เรากำหนดไว้ใน request/collection</p>\n\n\n\n<p> ปัญหานี้แก้ไขด้วยการกำหนด <a href=\"https://learning.postman.com/docs/getting-started/installation/settings/#working-directory\" target=\"_blank\">working directory</a> ของ Postman ก่อน<br />โดยเข้าไปที่ settings ได้เลย</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2023/09/working-directory-web-v10-16a.jpg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2023/09/working-directory-web-v10-16a-1024x380.jpg\" alt width=\"607\" height=\"224\" /></a></figure>\n\n\n\n<p>จากนั้นก็นำไฟล์ต่าง ๆ ที่ใช้งานไปไว้ใน working directory<br />ก็จะสามารถ run request/collection ได้แล้ว</p>\n\n\n\n<p>ส่วนใน newman ก็กำหนด working directory ได้ด้วย ดังนี้</p>\n\n\n\n[code]\n$newman run collection.json --working-dir /path/to/data\n[/code]\n\n\n\n<p><strong>คำถามที่ 3 ถ้าต้องการให้ newman ทำการหยุดทดสอบเมื่อเจอ error (Fail fast)</strong></p>\n\n\n\n<p>ถ้าต้องการ fail fast สามารถทำได้ดังนี้</p>\n\n\n\n[code]\n$newman run collection.json --bail\n[/code]\n\n\n\n<p><strong>สามารถดู option ต่าง ๆ ของ newman ได้ด้วยคำสั่ง</strong></p>\n\n\n\n[code]\n$newman run -h\n[/code]\n\n\n\n<p>ขอให้สนุกกับการทดสอบครับ</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"2c68e34b0708007b87658341a3cc88cd439064fc3c9eb297fc9ff6409d69834b","category":"Thai"}