{"title":"มาลองใช้งาน Go Workspace ใน G0 1.18 กัน","link":"https://www.somkiat.cc/go-workspace/","date":1636902395000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>November 14, 2021</time> <span><a href=\"https://www.somkiat.cc/category/programming/\" rel=\"category tag\">Programming</a></span></p></div></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/11/go-worksapce.jpeg\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/11/go-worksapce.jpeg 880w, https://www.somkiat.cc/wp-content/uploads/2021/11/go-worksapce-300x114.jpeg 300w, https://www.somkiat.cc/wp-content/uploads/2021/11/go-worksapce-768x291.jpeg 768w\" sizes=\"(max-width: 880px) 100vw, 880px\"></figure><p>เห็นว่าใน Go 1.18 นั้นกำลังพัฒนากันอยู่<br>เห็น feature ที่น่าสนใจคือ <a rel=\"noreferrer noopener\" href=\"https://go.googlesource.com/proposal/+/master/design/45713-workspace.md\" target=\"_blank\">Go Workspace สำหรับ Multi-module development</a><br>ซึ่งปกติแล้วก็ทำได้ผ่านไฟล์ <a rel=\"noreferrer noopener\" href=\"https://www.somkiat.cc/go-module-without-vcs/\" target=\"_blank\">go.mod ดังที่เคยเขียนไว้</a><br>แต่ปัญหาที่ตามมาคือ<br>ถ้าเราต้องการ develop บน local โดยใช้ multi module บนเครื่อง<br>แต่เมื่อ production ก็ไปใช้ของจริง<br>ดังนั้นจึงมีแนวคิดด้วยการสร้างไฟล์ <strong>go.work</strong> ขึ้นมา<br>เพื่อให้ง่ายต่อการพัฒนาแบบ multi-module บน local ได้ง่าย</p><p>ดังนั้นมาลองใช้งานกัน</p><p><strong>ก่อนอื่นทำการติดตั้ง Go 1.18 ซึ่งเป็น development version กันหน่อยดังนี้</strong></p><div itemprop=\"text\" id=\"gist113025897\" translate=\"no\"><template><span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"bidi-line-alert tooltipped tooltipped-e\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\"><path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path></svg></span></template><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-1-txt-L1\" data-line-number=\"1\"></td><td id=\"file-1-txt-LC1\">$go install golang.org/dl/gotip@latest</td></tr><tr><td id=\"file-1-txt-L2\" data-line-number=\"2\"></td><td id=\"file-1-txt-LC2\">$gotip download</td></tr><tr><td id=\"file-1-txt-L3\" data-line-number=\"3\"></td><td id=\"file-1-txt-LC3\">$gotip version</td></tr><tr><td id=\"file-1-txt-L4\" data-line-number=\"4\"></td><td id=\"file-1-txt-LC4\">go version devel go1.18-c239790 Sat Nov 13 03:33:55 2021 +0000 darwin/amd64</td></tr></tbody></table></div><p>เพิ่งรู้ว่ามีวิธี download Go ใน version development มาใช้ด้วย gotip !!</p><p><strong>จากนั้นทำการสร้างไฟล์ go.work ขึ้นมา</strong></p><p>เพื่อ reference หรือใช้งาน module ต่าง ๆ ที่ต้องการบน local</p><div itemprop=\"text\" id=\"gist113025897\" translate=\"no\"><template><span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"bidi-line-alert tooltipped tooltipped-e\"><svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\"><path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path></svg></span></template><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-go-work-L1\" data-line-number=\"1\"></td><td id=\"file-go-work-LC1\">go 1.18</td></tr><tr><td id=\"file-go-work-L2\" data-line-number=\"2\"></td><td id=\"file-go-work-LC2\"></td></tr><tr><td id=\"file-go-work-L3\" data-line-number=\"3\"></td><td id=\"file-go-work-LC3\">directory (</td></tr><tr><td id=\"file-go-work-L4\" data-line-number=\"4\"></td><td id=\"file-go-work-LC4\">./module01</td></tr><tr><td id=\"file-go-work-L5\" data-line-number=\"5\"></td><td id=\"file-go-work-LC5\">./module02</td></tr><tr><td id=\"file-go-work-L6\" data-line-number=\"6\"></td><td id=\"file-go-work-LC6\">)</td></tr></tbody></table></div><p>การใช้งานสามารถ run และ build ได้ปกติ<br>แต่ถ้าไม่ต้องการใช้งาน Go workspace ตอน build ก็ใช้ -workfile-off ได้</p><p>ปล. ส่วนไฟล์ go.work ก็ไม่แนะนำให้เอาเข้า version control ด้วย</p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"949f538fb9fb7e4e32b5367f38cfae0133efde1f4fb03520a40cb2f3774d124d","category":"Thai"}