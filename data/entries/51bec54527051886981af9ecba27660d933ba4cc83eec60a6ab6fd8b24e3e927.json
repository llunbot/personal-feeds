{"title":"ตอบคำถามการนำ Redis มาใช้งาน","link":"https://www.somkiat.cc/redis-usecase/","date":1699069735000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2023/11/redis-usecase-150x150.jpeg\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2023/11/redis-usecase-150x150.jpeg 150w, https://www.somkiat.cc/wp-content/uploads/2023/11/redis-usecase-75x75.jpeg 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2023/11/redis-usecase.jpeg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2023/11/redis-usecase-1024x576.jpeg\" width=\"688\" height=\"386\" /></a></figure>\n\n\n\n<p>จากการแบ่งปันเรื่อง NoSQL ซึ่งทำการแนะนำ key-value database ไป<br />นั่นก็คือ <strong><a href=\"https://redis.io/\" target=\"_blank\">Redis</a></strong> นั่นเอง และก็มีคำถามเกี่ยวกับ use case<br />สำหรับการนำ Redis มาใช้งาน ว่ามีอะไรบ้าง<br />จึงทำการสรุปคำตอบแบบคร่าว ๆ ไว้นิดหน่อยดังนี้</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>ถ้า use case ทั่วไปประกอบไปด้วย</strong></p>\n\n\n\n<ul>\n<li>caching data เพื่อลดการเข้าถึง database หลัก</li>\n\n\n\n<li>การเก็บข้อมูลที่มีอายุ (expired time) เช่น session และ token ต่าง ๆ</li>\n</ul>\n\n\n\n<p><strong>แต่ถ้าลงไปดูถึง Data structure ที่ Redis มีนั้น</strong></p>\n\n\n\n<p>ก็สามารถแบ่งแยก use case ลงไปได้อีกดังนี้</p>\n\n\n\n<ul>\n<li><strong>String</strong> =&gt; caching data, counter ต่าง ๆ พวก global id และ distributed locking</li>\n\n\n\n<li><strong>List</strong> =&gt; สำหรับจัดการข้อมูล list ที่ซ้ำ ซึ่งเก็บ list ของข้อมูล รวมทั้งนำมาใช้งาน queue ได้ เช่น lpush และ rpop เป็นต้น (FIFO) หรือไปใช้ pup/sub แทนได้</li>\n\n\n\n<li><strong>Set</strong> =&gt; สำหรับข้อมูล list ที่ไม่ซ้ำ ดังนั้นเอามาใช้งานเรื่องการ intersect และ union ข้อมูลได้เลย</li>\n\n\n\n<li><strong>SortedSet</strong> =&gt; คือ set ที่เรียงลพดับให้แล้ว ทำให้ไม่ต้องมาเรียงลำดับเองตอนใช้งาน นำมาใช้ในระบบ ranking ได้แบบง่าย ๆ เช่นพวก leader board หรือ stat/report ต่าง ๆ</li>\n\n\n\n<li><strong>Geolocation</strong> =&gt; เก็บและค้นหาข้อมูล location ได้อีกด้วย</li>\n\n\n\n<li><strong>Stream</strong> =&gt; สำหรับจัดการงาน stream data ได้เช่น log หรือ time series data ได้เลย หรือ Big data ก็ทำได้ เช่น Hyperloglog, t-digest และ Top-k เป็นต้น</li>\n\n\n\n<li>ล่าสุดสนับสนุน <strong>Vector</strong> อีกด้วย</li>\n</ul>\n\n\n\n<p>แต่สิ่งที่ต้องเข้าใจคือ Redis ทำงานบน memory เป็นหลัก<br />แต่ก็มีการ snapshot ลง file system ด้วย อยู่ที่การ config<br />ดังนั้นข้อมูลอาจจะสูญหายได้ถ้าระบบมีปัญหา<br />จึงอาจจะต้องดูว่า จะวาง architecture ของ Redis เพิ่มเติมอย่างไร<br />เช่น master-slave, sentinal และ cluster เป็นต้น</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"51bec54527051886981af9ecba27660d933ba4cc83eec60a6ab6fd8b24e3e927","category":"Thai"}