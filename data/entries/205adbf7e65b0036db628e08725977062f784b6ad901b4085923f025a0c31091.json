{"title":"Designing for the Unexpected","link":"https://alistapart.com/article/designing-for-the-unexpected/","date":1626354000000,"content":"\n<p>I’m not sure when I first heard this quote, but it’s something that has stayed with me over the years. How do you create services for situations you can’t imagine? Or design products that work on devices yet to be invented?</p>\n\n\n\n<h2>Flash, Photoshop, and responsive design</h2>\n\n\n\n<p>When I first started designing websites, my go-to software was Photoshop. I created a 960px canvas and set about creating a layout that I would later drop content in. The development phase was about attaining pixel-perfect accuracy using fixed widths, fixed heights, and absolute positioning.</p>\n\n\n\n<p>Ethan Marcotte’s talk at An Event Apart and subsequent article “<a href=\"https://alistapart.com/article/responsive-web-design/\">Responsive Web Design</a>” in <em>A List Apart </em>in 2010 changed all this. I was sold on responsive design as soon as I heard about it, but I was also terrified. The pixel-perfect designs full of magic numbers that I had previously prided myself on producing were no longer good enough.</p>\n\n\n\n<p>The fear wasn’t helped by my first experience with responsive design. My first project was to take an existing fixed-width website and make it responsive. What I learned the hard way was that you can’t just add responsiveness at the end of a project. To create fluid layouts, you need to plan throughout the design phase.</p>\n\n\n\n<h3>A new way to design</h3>\n\n\n\n<p>Designing responsive or fluid sites has always been about removing limitations, producing content that can be viewed on any device. It relies on the use of percentage-based layouts, which I initially achieved with native CSS and utility classes:</p>\n\n\n\n<pre><code>.column-span-6 {\n  width: 49%;\n  float: left;\n  margin-right: 0.5%;\n  margin-left: 0.5%;\n}\n\n\n.column-span-4 {\n  width: 32%;\n  float: left;\n  margin-right: 0.5%;\n  margin-left: 0.5%;\n}\n\n.column-span-3 {\n  width: 24%;\n  float: left;\n  margin-right: 0.5%;\n  margin-left: 0.5%;\n}</code></pre>\n\n\n\n<p>Then with Sass so I could take advantage of @includes to re-use repeated blocks of code and move back to more semantic markup:</p>\n\n\n\n<pre><code>.logo {\n  @include colSpan(6);\n}\n\n.search {\n  @include colSpan(3);\n}\n\n.social-share {\n  @include colSpan(3);\n}</code></pre>\n\n\n\n<h3>Media queries</h3>\n\n\n\n<p>The second ingredient for responsive design is media queries. Without them, content would shrink to fit the available space regardless of whether that content remained readable (The exact opposite problem occurred with the introduction of a mobile-first approach).</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image5.png?w=652\" alt=\"Wireframes showing three boxes at a large size, and three very narrow boxes at a mobile size\" /><figcaption>Components becoming too small at mobile breakpoints</figcaption></figure>\n\n\n\n<p>Media queries prevented this by allowing us to add breakpoints where the design could adapt. Like most people, I started out with three breakpoints: one for desktop, one for tablets, and one for mobile. Over the years, I added more and more for phablets, wide screens, and so on. </p>\n\n\n\n<p>For years, I happily worked this way and improved both my design and front-end skills in the process. The only problem I encountered was making changes to content, since with our Sass grid system in place, there was no way for the site owners to add content without amending the markup—something a small business owner might struggle with. This is because each row in the grid was defined using a <strong><code>div</code></strong> as a container. Adding content meant creating new row markup, which requires a level of HTML knowledge.</p>\n\n\n\n<p>Row markup was a staple of early responsive design, present in all the widely used frameworks like Bootstrap and Skeleton.</p>\n\n\n\n<pre><code>&lt;section class=\"row\"&gt;\n  &lt;div class=\"column-span-4\"&gt;1 of 7&lt;/div&gt;\n  &lt;div class=\"column-span-4\"&gt;2 of 7&lt;/div&gt;\n  &lt;div class=\"column-span-4\"&gt;3 of 7&lt;/div&gt;\n&lt;/section&gt;\n\n&lt;section class=\"row\"&gt;\n  &lt;div class=\"column-span-4\"&gt;4 of 7&lt;/div&gt;\n  &lt;div class=\"column-span-4\"&gt;5 of 7&lt;/div&gt;\n  &lt;div class=\"column-span-4\"&gt;6 of 7&lt;/div&gt;\n&lt;/section&gt;\n\n&lt;section class=\"row\"&gt;\n  &lt;div class=\"column-span-4\"&gt;7 of 7&lt;/div&gt;\n&lt;/section&gt;</code></pre>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image10.png?w=451\" alt=\"Wireframe showing three rows of boxes\" /><figcaption>Components placed in the rows of a Sass grid</figcaption></figure>\n\n\n\n<p>Another problem arose as I moved from a design agency building websites for small- to medium-sized businesses, to larger in-house teams where I worked across a suite of related sites. In those roles I started to work much more with reusable components. </p>\n\n\n\n<p>Our reliance on media queries resulted in components that were tied to common viewport sizes. If the goal of component libraries is reuse, then this is a real problem because you can only use these components if the devices you’re designing for correspond to the viewport sizes used in the pattern library—in the process not really hitting that “devices that don’t yet exist”<em>  </em>goal.</p>\n\n\n\n<p>Then there’s the problem of space. Media queries allow components to adapt based on the viewport size, but what if I put a component into a sidebar, like in the figure below?</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image8.png?w=960\" alt=\"Wireframes showing different configurations of boxes at three different sizes\" /><figcaption>Components responding to the viewport width with media queries</figcaption></figure>\n\n\n\n<h3>Container queries: our savior or a false dawn?</h3>\n\n\n\n<p>Container queries have long been touted as an improvement upon media queries, but at the time of writing are unsupported in most browsers. There are JavaScript workarounds, but they can create dependency and compatibility issues. The basic theory underlying container queries is that elements should change based on the size of their parent container and not the viewport width, as seen in the following illustrations.</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image11.png?w=951\" alt=\"Wireframes showing different configurations of boxes at different sizes\" /><figcaption>Components responding to their parent container with container queries</figcaption></figure>\n\n\n\n<p>One of the biggest arguments in favor of container queries is that they help us create components or design patterns that are truly reusable because they can be picked up and placed anywhere in a layout. This is an important step in moving toward a form of component-based design that works at any size on any device.</p>\n\n\n\n<p>In other words, responsive components to replace responsive layouts.</p>\n\n\n\n<p>Container queries will help us move from designing pages that respond to the browser or device size to designing components that can be placed in a sidebar or in the main content, and respond accordingly.</p>\n\n\n\n<p>My concern is that we are still using layout to determine when a design needs to adapt. This approach will always be restrictive, as we will still need pre-defined breakpoints. For this reason, my main question with container queries is, How would we decide when to change the CSS used by a component? </p>\n\n\n\n<p>A component library removed from context and real content is probably not the best place for that decision. </p>\n\n\n\n<p>As the diagrams below illustrate, we can use container queries to create designs for specific container widths, but what if I want to change the design based on the image size or ratio?</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image4.png?w=905\" alt=\"Wireframes showing different layouts at 600px and 400px\" /><figcaption>Cards responding to their parent container with container queries</figcaption></figure>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image7.png?w=960\" alt=\"Wireframes showing different configurations of content at the same size\" /><figcaption>Cards responding based on their own content</figcaption></figure>\n\n\n\n<p>In this example, the dimensions of the container are not what should dictate the design; rather, the image is.</p>\n\n\n\n<p>It’s hard to say for sure whether container queries will be a success story until we have solid cross-browser support for them. Responsive component libraries would definitely evolve how we design and would improve the possibilities for reuse and design at scale. But maybe we will always need to adjust these components to suit our content.</p>\n\n\n\n<h3>CSS is changing</h3>\n\n\n\n<p>Whilst the container query debate rumbles on, there have been numerous advances in CSS that change the way we think about design. The days of fixed-width elements measured in pixels and floated <strong><code>div</code></strong> elements used to cobble layouts together are long gone, consigned to history along with table layouts. Flexbox and CSS Grid have revolutionized layouts for the web. We can now create elements that wrap onto new rows when they run out of space, not when the device changes.</p>\n\n\n\n<pre><code>.wrapper {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 450px);\n  gap: 10px;\n}</code></pre>\n\n\n\n<p>The <strong><code>repeat()</code></strong> function paired with <strong><code>auto-fit</code></strong> or <strong><code>auto-fill</code></strong> allows us to specify how much space each column should use while leaving it up to the browser to decide when to spill the columns onto a new line. Similar things can be achieved with Flexbox, as elements can wrap over multiple rows and “flex” to fill available space. </p>\n\n\n\n<pre><code>.wrapper {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.child {\n  flex-basis: 32%;\n  margin-bottom: 20px;\n}</code></pre>\n\n\n\n<p>The biggest benefit of all this is you don’t need to wrap elements in container rows. Without rows, content isn’t tied to page markup in quite the same way, allowing for removals or additions of content without additional development.</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image13.png?w=451\" alt=\"A wireframe showing seven boxes in a larger container\" /><figcaption>A traditional Grid layout without the usual row containers</figcaption></figure>\n\n\n\n<p>This is a big step forward when it comes to creating designs that allow for evolving content, but the real game changer for flexible designs is CSS Subgrid. </p>\n\n\n\n<p>Remember the days of crafting perfectly aligned interfaces, only for the customer to add an unbelievably long header almost as soon as they're given CMS access, like the illustration below?</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image1.png?w=932\" alt=\"\" /><figcaption><em>Cards unable to respond to a sibling’s content changes</em></figcaption></figure>\n\n\n\n<p>Subgrid allows elements to respond to adjustments in their own content and in the content of sibling elements, helping us create designs more resilient to change.</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image9.png?w=932\" alt=\"Wireframes showing several boxes with the contents aligned across boxes\" /><figcaption>Cards responding to content in sibling cards</figcaption></figure>\n\n\n\n<pre><code>.wrapper {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n     grid-template-rows: auto 1fr auto;\n  gap: 10px;\n}\n\n.sub-grid {\n  display: grid;\n  grid-row: span 3;\n  grid-template-rows: subgrid; /* sets rows to parent grid */\n}</code></pre>\n\n\n\n<p>CSS Grid allows us to separate layout and content, thereby enabling flexible designs. Meanwhile, Subgrid allows us to create designs that can adapt in order to suit morphing content. Subgrid at the time of writing is only supported in Firefox but the above code can be implemented behind an @supports feature query. </p>\n\n\n\n<h3>Intrinsic layouts </h3>\n\n\n\n<p>I’d be remiss not to mention <a href=\"https://aneventapart.com/news/post/designing-intrinsic-layouts-aea-video\"><em>intrinsic layouts</em></a>, the term created by Jen Simmons to describe a mixture of new and old CSS features used to create layouts that respond to available space. </p>\n\n\n\n<p>Responsive layouts have flexible columns using percentages. Intrinsic layouts, on the other hand, use the <strong>fr</strong> unit to create flexible columns that won’t ever shrink so much that they render the content illegible.</p>\n\n\n\n<p><strong><em><code>fr</code></em></strong><em> units is a way to say I want you to distribute the extra space in this way, but...don’t ever make it smaller than the content that’s inside of it.</em></p>\n\n\n\n<p><em>—Jen Simmons, “Designing Intrinsic Layouts”</em></p>\n\n\n\n<p>Intrinsic layouts can also utilize a mixture of fixed and flexible units, allowing the content to dictate the space it takes up.</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image12.png?w=960\" alt=\"A slide from a presentation showing two boxes with max content and one with auto\" /><figcaption>Slide from “Designing Intrinsic Layouts” by Jen Simmons</figcaption></figure>\n\n\n\n<p>What makes intrinsic design stand out is that it not only creates designs that can withstand future devices but also helps scale design without losing flexibility. Components and patterns can be lifted and reused without the prerequisite of having the same breakpoints or the same amount of content as in the previous implementation. </p>\n\n\n\n<p>We can now create designs that adapt to the space they have, the content within them, and the content around them. With an intrinsic approach, we can construct responsive components without depending on container queries.</p>\n\n\n\n<h3>Another 2010 moment?</h3>\n\n\n\n<p>This intrinsic approach should in my view be every bit as groundbreaking as responsive web design was ten years ago. For me, it’s another “everything changed” moment. </p>\n\n\n\n<p>But it doesn’t seem to be moving quite as fast; I haven’t yet had that same career-changing moment I had with responsive design, despite <a href=\"https://aneventapart.com/news/post/everything-you-know-about-web-design-just-changed-by-jen-simmons\">the widely shared and brilliant talk</a> that brought it to my attention. </p>\n\n\n\n<p>One reason for that could be that I now work in a large organization, which is quite different from the design agency role I had in 2010. In my agency days, every new project was a clean slate, a chance to try something new. Nowadays, projects use existing tools and frameworks and are often improvements to existing websites with an existing codebase. </p>\n\n\n\n<p>Another could be that I feel more prepared for change now. In 2010 I was new to design in general; the shift was frightening and required a lot of learning. Also, an intrinsic approach isn’t exactly all-new; it’s about using existing skills and existing CSS knowledge in a different way. </p>\n\n\n\n<h3>You can’t framework your way out of a content problem</h3>\n\n\n\n<p>Another reason for the slightly slower adoption of intrinsic design could be the lack of quick-fix framework solutions available to kick-start the change. </p>\n\n\n\n<p>Responsive grid systems were all over the place ten years ago. With a framework like Bootstrap or Skeleton, you had a responsive design template at your fingertips.</p>\n\n\n\n<p>Intrinsic design and frameworks do not go hand in hand quite so well because the benefit of having a selection of units is a hindrance when it comes to creating layout templates. The beauty of intrinsic design is combining different units and experimenting with techniques to get the best for your content.</p>\n\n\n\n<p>And then there are design tools. We probably all, at some point in our careers, used Photoshop templates for desktop, tablet, and mobile devices to drop designs in and show how the site would look at all three stages.</p>\n\n\n\n<p>How do you do that now, with each component responding to content and layouts flexing as and when they need to? This type of design must happen in the browser, which personally I’m a big fan of. </p>\n\n\n\n<p>The debate about “whether designers should code” is another that has rumbled on for years. When designing a digital product, we should, at the very least, design for a best- and worst-case scenario when it comes to content. To do this in a graphics-based software package is far from ideal. In code, we can add longer sentences, more radio buttons, and extra tabs, and watch in real time as the design adapts. Does it still work? Is the design too reliant on the current content?</p>\n\n\n\n<p>Personally, I look forward to the day intrinsic design is the standard for design, when a design component can be truly flexible and adapt to both its space and content with no reliance on device or container dimensions.</p>\n\n\n\n<h2>Content first </h2>\n\n\n\n<p>Content is not constant. After all, to design for the unknown or unexpected we need to account for content changes like our earlier Subgrid card example that allowed the cards to respond to adjustments to their own content and the content of sibling elements.</p>\n\n\n\n<p>Thankfully, there’s more to CSS than layout, and plenty of properties and values can help us put content first. Subgrid and pseudo-elements like <strong><code>::first-line</code></strong> and <strong><code>::first-letter</code></strong> help to separate design from markup so we can create designs that allow for changes.</p>\n\n\n\n<p>Instead of old markup hacks like this—</p>\n\n\n\n<pre><code>&lt;p&gt;\n  &lt;span class=\"first-line\"&gt;First line of text with different styling&lt;/span&gt;...\n&lt;/p&gt;</code></pre>\n\n\n\n<p>—we can target content based on where it appears.</p>\n\n\n\n<pre><code>.element::first-line {\n  font-size: 1.4em;\n}\n\n.element::first-letter {\n  color: red;\n}</code></pre>\n\n\n\n<p>Much bigger additions to CSS include l<a href=\"https://www.w3.org/TR/css-logical-1/\">ogical properties, which </a>change the way we construct designs using logical dimensions (start and end) instead of physical ones (left and right), something CSS Grid also does with functions like <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/min()\"><strong><code>min()</code></strong></a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/max()\"><code><strong>max()</strong></code></a><strong><code>,</code></strong> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/clamp()\"><strong><code>clamp()</code></strong></a>.</p>\n\n\n\n<p>This flexibility allows for directional changes according to content, a common requirement when we need to present content in multiple languages. In the past, this was often achieved with Sass mixins but was often limited to switching from left-to-right to right-to-left orientation.</p>\n\n\n\n<p>In the Sass version, directional variables need to be set.</p>\n\n\n\n<pre><code>$direction: rtl;\n$opposite-direction: ltr;\n\n$start-direction: right;\n$end-direction: left;</code></pre>\n\n\n\n<p>These variables can be used as values—</p>\n\n\n\n<pre><code>body {\n  direction: $direction;\n  text-align: $start-direction;\n}</code></pre>\n\n\n\n<p>—or as properties.</p>\n\n\n\n<pre><code>margin-#{$end-direction}: 10px;\npadding-#{$start-direction}: 10px;</code></pre>\n\n\n\n<p>However, now we have native logical properties, removing the reliance on both Sass (or a similar tool) and pre-planning that necessitated using variables throughout a codebase. These properties also start to break apart the tight coupling between a design and strict physical dimensions, creating more flexibility for changes in language and in direction.</p>\n\n\n\n<pre><code>margin-block-end: 10px;\npadding-block-start: 10px;</code></pre>\n\n\n\n<p>There are also native start and end values for properties like <strong><code>text-align</code></strong>, which means we can replace <strong><code>text-align: right</code></strong> with <strong><code>text-align: start</code></strong>.</p>\n\n\n\n<p>Like the earlier examples, these properties help to build out designs that aren’t constrained to one language; the design will reflect the content’s needs.</p>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image14.png?w=960\" alt=\"Wireframe showing different text alignment options\" /></figure>\n\n\n\n<h3>Fixed and fluid </h3>\n\n\n\n<p>We briefly covered the power of combining fixed widths with fluid widths with intrinsic layouts. The <strong><code>min()</code></strong> and <strong><code>max()</code></strong> functions are a similar concept, allowing you to specify a fixed value with a flexible alternative. </p>\n\n\n\n<p>For <strong><code>min()</code></strong> this means setting a fluid minimum value and a maximum fixed value.</p>\n\n\n\n<pre><code>.element {\n  width: min(50%, 300px);\n}</code></pre>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image6.png?w=960\" alt=\"Wireframe showing a 300px box inside of an 800px box, and a 200px box inside of a 400px box\" /></figure>\n\n\n\n<p>The element in the figure above will be 50% of its container as long as the element’s width doesn’t exceed 300px.</p>\n\n\n\n<p>For <strong><code>max()</code></strong> we can set a flexible max value and a minimum fixed value.</p>\n\n\n\n<pre><code>.element {\n  width: max(50%, 300px);\n}</code></pre>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image3.png?w=960\" alt=\"Wireframe showing a 400px box inside of an 800px box, and a 300px box inside of a 400px box\" /></figure>\n\n\n\n<p>Now the element will be 50% of its container as long as the element’s width is at least 300px. This means we can set limits but allow content to react to the available space. </p>\n\n\n\n<p>The <strong><code>clamp()</code></strong> function builds on this by allowing us to set a preferred value with a third parameter. Now we can allow the element to shrink or grow if it needs to without getting to a point where it becomes unusable.</p>\n\n\n\n<pre><code>.element {\n  width: clamp(300px, 50%, 600px);\n}</code></pre>\n\n\n\n<figure><img src=\"https://alistapart.com/wp-content/uploads/2021/07/image2.png?w=960\" alt=\"Wireframe showing an 800px box inside of a 1400px box, a 400px box inside of an 800px box, and a 300px box inside of a 400px box\" /></figure>\n\n\n\n<p>This time, the element’s width will be 50% (the preferred value) of its container but never less than 300px and never more than 600px.</p>\n\n\n\n<p>With these techniques, we have a content-first approach to responsive design. We can separate content from markup, meaning the changes users make will not affect the design. We can start to future-proof designs by planning for unexpected changes in language or direction. And we can increase flexibility by setting desired dimensions alongside flexible alternatives, allowing for more or less content to be displayed correctly.</p>\n\n\n\n<h2>Situation first</h2>\n\n\n\n<p>Thanks to what we’ve discussed so far, we can cover device flexibility by changing our approach, designing around content and space instead of catering to devices. But what about that last bit of Jeffrey Zeldman’s quote, “...situations you haven’t imagined”?</p>\n\n\n\n<p>It’s a very different thing to design for someone seated at a desktop computer as opposed to someone using a mobile phone and moving through a crowded street in glaring sunshine. Situations and environments are hard to plan for or predict because they change as people react to their own unique challenges and tasks.</p>\n\n\n\n<p>This is why choice is so important. One size never fits all, so we need to design for multiple scenarios to create equal experiences for all our users.</p>\n\n\n\n<p>Thankfully, there is a lot we can do to provide choice.</p>\n\n\n\n<h3>Responsible design </h3>\n\n\n\n<blockquote><p>“There are parts of the world where mobile data is prohibitively expensive, and where there is little or no broadband infrastructure.”</p><p>“<a href=\"https://www.smashingmagazine.com/2019/07/web-on-50mb-budget/\">I Used the Web for a Day on a 50 MB Budget</a>”</p><p>Chris Ashton</p></blockquote>\n\n\n\n<p>One of the biggest assumptions we make is that people interacting with our designs have a good wifi connection and a wide screen monitor. But in the real world, our users may be commuters traveling on trains or other forms of transport using smaller mobile devices that can experience drops in connectivity. There is nothing more frustrating than a web page that won’t load, but there are ways we can help users use less data or deal with sporadic connectivity.</p>\n\n\n\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/srcset\"><strong><code>srcset</code></strong></a> attribute allows the browser to decide which image to serve. This means we can create smaller ‘cropped’ images to display on mobile devices in turn using less bandwidth and less data.</p>\n\n\n\n<pre><code>&lt;img \n  src=\"image-file.jpg\"\n  srcset=\"large.jpg 1024w,\n             medium.jpg 640w,\n             small.jpg 320w\"\n     alt=\"Image alt text\" /&gt;</code></pre>\n\n\n\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types/preload\"><strong><code>preload</code></strong></a> attribute can also help us to think about how and when media is downloaded. It can be used to tell a browser about any critical assets that need to be downloaded with high priority, improving perceived performance and the user experience. </p>\n\n\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"style.css\"&gt; &lt;!--Standard stylesheet markup--&gt;\n&lt;link rel=\"preload\" href=\"style.css\" as=\"style\"&gt; &lt;!--Preload stylesheet markup--&gt;</code></pre>\n\n\n\n<p>There’s also native <a href=\"https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading\">lazy loading</a>, which indicates assets that should only be downloaded when they are needed.</p>\n\n\n\n<pre><code>&lt;img src=\"image.png\" loading=\"lazy\" alt=\"…\"&gt;</code></pre>\n\n\n\n<p>With <strong><code>srcset</code></strong>, <strong><code>preload</code></strong>, and lazy loading, we can start to tailor a user’s experience based on the situation they find themselves in. What none of this does, however, is allow the user themselves to decide what they want downloaded, as the decision is usually the browser’s to make. </p>\n\n\n\n<p>So how can we put users in control?</p>\n\n\n\n<h3>The return of media queries </h3>\n\n\n\n<p>Media queries have always been about much more than device sizes. They allow content to adapt to different situations, with screen size being just one of them.</p>\n\n\n\n<p>We’ve long been able to check for media types like print and speech and features such as hover, resolution, and color. These checks allow us to provide options that suit more than one scenario; it’s less about one-size-fits-all and more about serving adaptable content. </p>\n\n\n\n<p>As of this writing, the <a href=\"https://www.w3.org/TR/mediaqueries-5/\"><em>Media Queries Level 5</em> spec</a> is still under development. It introduces some really exciting queries that in the future will help us design for multiple other unexpected situations.</p>\n\n\n\n<p>For example, there’s a light-level feature that allows you to modify styles if a user is in sunlight or darkness. Paired with <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/--*\">custom properties</a>, these features allow us to quickly create designs or themes for specific environments.</p>\n\n\n\n<pre><code>@media (light-level: normal) {\n  --background-color: #fff;\n  --text-color: #0b0c0c;  \n}\n\n@media (light-level: dim) {\n  --background-color: #efd226;\n  --text-color: #0b0c0c;\n}</code></pre>\n\n\n\n<p>Another key feature of the <em>Level 5</em> spec is personalization. Instead of creating designs that are the same for everyone, users can choose what works for them. This is achieved by using features like <strong><code>prefers-reduced-data</code></strong>, <strong><code>prefers-color-scheme</code></strong>, and <strong><code>prefers-reduced-motion</code></strong>, the latter two of which already enjoy broad browser support. These features tap into preferences set via the operating system or browser so people don’t have to spend time making each site they visit more usable. </p>\n\n\n\n<p>Media queries like this go beyond choices made by a browser to grant more control to the user.</p>\n\n\n\n<h2>Expect the unexpected</h2>\n\n\n\n<p>In the end, the one thing we should always expect is for things to change. Devices in particular change faster than we can keep up, with foldable screens already on the market.</p>\n\n\n\n<p>We can’t design the same way we have for this ever-changing landscape, but we can design for content. By putting content first and allowing that content to adapt to whatever space surrounds it, we can create more robust, flexible designs that increase the longevity of our products. </p>\n\n\n\n<p>A lot of the CSS discussed here is about moving away from layouts and putting content at the heart of design. From responsive components to fixed and fluid units, there is so much more we can do to take a more intrinsic approach. Even better, we can test these techniques during the design phase by designing in-browser and watching how our designs adapt in real-time.</p>\n\n\n\n<p>When it comes to unexpected situations, we need to make sure our products are usable when people need them, whenever and wherever that might be. We can move closer to achieving this by involving users in our design decisions, by creating choice via browsers, and by giving control to our users with user-preference-based media queries. </p>\n\n\n\n<p>Good design for the unexpected should allow for change, provide choice, and give control to those we serve: our users themselves.</p>\n","author":"","siteTitle":"A List Apart: The Full Feed","siteHash":"09b09f389b84b264a6ebab120b6208479961d3fe7df4850a75b103b2b9c8a950","entryHash":"205adbf7e65b0036db628e08725977062f784b6ad901b4085923f025a0c31091","category":"Tech"}