{"title":"มาดูการแบ่ง Services จาก SoundCloud","link":"https://www.somkiat.cc/note-services-architecture-from-soundcloud/","date":1636082504000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>November 5, 2021</time> <span><a href=\"https://www.somkiat.cc/category/architecture-2/\" rel=\"category tag\">Architecture</a></span></p></div></header><div><p>ว่าง ๆ มาดู <strong><a href=\"https://developers.soundcloud.com/blog/service-architecture-2\" target=\"_blank\" rel=\"noreferrer noopener\">Service architecture ของ SoundCloud</a></strong> กันหน่อย<br>โดยที่มีการปรับปรุงมาอย่างต่อเนื่อง<br>พยายามที่จะแก้ไขปัญหาต่าง ๆ ที่พบเจอ<br>เพื่อช่วยให้ส่งมอบและดูแลระบบงานได้ดียิ่งขึ้น<br>เป็นการเดินทางที่น่าสนใจ</p><p><strong>ทาง SoundCloud แบ่ง service ออกเป็น 3 กลุ่ม</strong></p><ul><li><strong>Edge service</strong> จะเป็นพวก API gateway และ BFF (Backend For Frontend) สำหรับทำงานตามความต้องการจากฝั่งผู้ใช้งาน</li><li><strong>Value-Added service</strong> (VAS) เป็น layer ตรงกลางที่นำข้อมูลจาก service ต่าง ๆ มาประมวลผล หรือ aggregation/orchestrate layer เพื่อให้เหมาะสมต่อผู้ใช้งานนั้น ๆ เป็น service ที่มีความเฉพาะเจาะจงต่อ business domain นั้น ๆ</li><li><strong>Foundation service</strong> เป็น low-level services ที่ทำงานเฉพาะเจาะจงไปเลย มีหน้าที่รับชอบหนึ่ง ๆ ไปเลย เกิดมาเพื่อการ reuse โดยเฉพาะ</li></ul><p>แสดงดังรูป</p><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/11/Top_Level_Architecture.png\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/11/Top_Level_Architecture.png 960w, https://www.somkiat.cc/wp-content/uploads/2021/11/Top_Level_Architecture-300x242.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/11/Top_Level_Architecture-768x619.png 768w\" sizes=\"(max-width: 960px) 100vw, 960px\"></figure><p><strong>เป้าหมายหลัก ๆ ของการแบ่งตามนี้คือ แยกการทำงานออกตามหน้าที่อย่างชัดเจน</strong></p><p>รวมทั้งช่วยเพิ่ม productivity ของการส่งมอบระบบงานอีกด้วย<br>แน่นอนว่า มันก็มีข้อเสียเช่นกัน ประกอบไปด้วย</p><ul><li>การเพิ่ม layer ใหม่ขึ้นมา ก็คือความซับซ้อน และ ค่าใช้จ่ายในการดูแลรักษาที่เพิ่มขึ้น รวมทั้ง infrastructure ที่เพิ่มขึ้น monitoring ที่เพิ่มขึ้น</li><li>เป็นการเพิ่ม network latency อีกด้วย</li><li>อาจจะก่อให้เกิดการเรียก service มั่วไปหมดได้ หรือเกิด depednency hell นั่นเอง</li></ul></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"a26a573ab3bbbc0d21159212983c0838dcb90f28d22f5fd0b68794c891cbce0f","category":"Thai"}