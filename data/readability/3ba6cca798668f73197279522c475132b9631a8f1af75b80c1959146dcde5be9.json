{"title":"‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ run GitHub Action ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á local ‡∏î‡πâ‡∏ß‡∏¢ Act","link":"https://www.somkiat.cc/run-github-action-on-local-with-act/","date":1628856506000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>August 13, 2021</time> <span><a href=\"https://www.somkiat.cc/category/programming/\" rel=\"category tag\">Programming</a>, <a href=\"https://www.somkiat.cc/category/tools/\" rel=\"category tag\">Tools</a></span></p></div></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/08/githubActionsAndDocker.png\" alt=\"\" width=\"568\" height=\"291\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/08/githubActionsAndDocker.png 820w, https://www.somkiat.cc/wp-content/uploads/2021/08/githubActionsAndDocker-300x154.png 300w, https://www.somkiat.cc/wp-content/uploads/2021/08/githubActionsAndDocker-768x394.png 768w\" sizes=\"(max-width: 568px) 100vw, 568px\"></figure><p>‡∏´‡∏•‡∏±‡∏á ‡πÜ ‡∏°‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô GitHub Actions ‡πÄ‡∏¢‡∏≠‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô<br>‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç pipeline ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£<br>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏¢‡∏±‡∏á‡∏°‡∏µ limit ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£ run ‡∏≠‡∏µ‡∏Å‡∏î‡πâ‡∏ß‡∏¢<br>‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏•‡∏á‡πÑ‡∏õ<br>‡∏à‡∏∂‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ run GitHub Actions ‡∏ö‡∏ô local ‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤<br>‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∑‡∏≠ <strong><a rel=\"noreferrer noopener\" href=\"https://github.com/nektos/act\" target=\"_blank\">Act</a></strong></p><p><strong><em>‡∏õ‡∏•. ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ run Act ‡∏ô‡∏±‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Docker deamon ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏°‡∏≠‡∏ô‡∏∞ !!</em></strong></p><p><strong>‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å ‡πÜ</strong></p><p>‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Act<br>‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå pipeline ‡∏Ç‡∏≠‡∏á GitHub Actions<br>‡πÇ‡∏î‡∏¢‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á pipeline ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤ Go ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</p><div itemprop=\"text\" id=\"gist111223067\" translate=\"no\"><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-go-yml-L1\" data-line-number=\"1\"></td><td id=\"file-go-yml-LC1\"><span>name</span>: <span>Demo with Go</span></td></tr><tr><td id=\"file-go-yml-L2\" data-line-number=\"2\"></td><td id=\"file-go-yml-LC2\"></td></tr><tr><td id=\"file-go-yml-L3\" data-line-number=\"3\"></td><td id=\"file-go-yml-LC3\"><span>on</span>:</td></tr><tr><td id=\"file-go-yml-L4\" data-line-number=\"4\"></td><td id=\"file-go-yml-LC4\"><span>push</span>:</td></tr><tr><td id=\"file-go-yml-L5\" data-line-number=\"5\"></td><td id=\"file-go-yml-LC5\"><span>branches</span>: <span>[ main ]</span></td></tr><tr><td id=\"file-go-yml-L6\" data-line-number=\"6\"></td><td id=\"file-go-yml-LC6\"></td></tr><tr><td id=\"file-go-yml-L7\" data-line-number=\"7\"></td><td id=\"file-go-yml-LC7\"><span>jobs</span>:</td></tr><tr><td id=\"file-go-yml-L8\" data-line-number=\"8\"></td><td id=\"file-go-yml-LC8\"></td></tr><tr><td id=\"file-go-yml-L9\" data-line-number=\"9\"></td><td id=\"file-go-yml-LC9\"><span>build</span>:</td></tr><tr><td id=\"file-go-yml-L10\" data-line-number=\"10\"></td><td id=\"file-go-yml-LC10\"><span>runs-on</span>: <span>ubuntu-latest</span></td></tr><tr><td id=\"file-go-yml-L11\" data-line-number=\"11\"></td><td id=\"file-go-yml-LC11\"><span>steps</span>:</td></tr><tr><td id=\"file-go-yml-L12\" data-line-number=\"12\"></td><td id=\"file-go-yml-LC12\">- <span>uses</span>: <span>actions/checkout@v2</span></td></tr><tr><td id=\"file-go-yml-L13\" data-line-number=\"13\"></td><td id=\"file-go-yml-LC13\"></td></tr><tr><td id=\"file-go-yml-L14\" data-line-number=\"14\"></td><td id=\"file-go-yml-LC14\">- <span>name</span>: <span>Set up Go</span></td></tr><tr><td id=\"file-go-yml-L15\" data-line-number=\"15\"></td><td id=\"file-go-yml-LC15\"><span>uses</span>: <span>actions/setup-go@v2</span></td></tr><tr><td id=\"file-go-yml-L16\" data-line-number=\"16\"></td><td id=\"file-go-yml-LC16\"><span>with</span>:</td></tr><tr><td id=\"file-go-yml-L17\" data-line-number=\"17\"></td><td id=\"file-go-yml-LC17\"><span>go-version</span>: <span>1.16</span></td></tr><tr><td id=\"file-go-yml-L18\" data-line-number=\"18\"></td><td id=\"file-go-yml-LC18\"></td></tr><tr><td id=\"file-go-yml-L19\" data-line-number=\"19\"></td><td id=\"file-go-yml-LC19\">- <span>name</span>: <span>Build</span></td></tr><tr><td id=\"file-go-yml-L20\" data-line-number=\"20\"></td><td id=\"file-go-yml-LC20\"><span>run</span>: <span>go build -v ./...</span></td></tr><tr><td id=\"file-go-yml-L21\" data-line-number=\"21\"></td><td id=\"file-go-yml-LC21\"></td></tr><tr><td id=\"file-go-yml-L22\" data-line-number=\"22\"></td><td id=\"file-go-yml-LC22\">- <span>name</span>: <span>Test</span></td></tr><tr><td id=\"file-go-yml-L23\" data-line-number=\"23\"></td><td id=\"file-go-yml-LC23\"><span>run</span>: <span>go test -v ./...</span></td></tr></tbody></table></div><p><strong>‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ run ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ</strong></p><div itemprop=\"text\" id=\"gist111223067\" translate=\"no\"><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-1-txt-L1\" data-line-number=\"1\"></td><td id=\"file-1-txt-LC1\">$act -l</td></tr><tr><td id=\"file-1-txt-L2\" data-line-number=\"2\"></td><td id=\"file-1-txt-LC2\"></td></tr><tr><td id=\"file-1-txt-L3\" data-line-number=\"3\"></td><td id=\"file-1-txt-LC3\">ID Stage Name</td></tr><tr><td id=\"file-1-txt-L4\" data-line-number=\"4\"></td><td id=\"file-1-txt-LC4\">build 0 build</td></tr><tr><td id=\"file-1-txt-L5\" data-line-number=\"5\"></td><td id=\"file-1-txt-LC5\"></td></tr><tr><td id=\"file-1-txt-L6\" data-line-number=\"6\"></td><td id=\"file-1-txt-LC6\">$act -j build</td></tr><tr><td id=\"file-1-txt-L7\" data-line-number=\"7\"></td><td id=\"file-1-txt-LC7\"></td></tr><tr><td id=\"file-1-txt-L8\" data-line-number=\"8\"></td><td id=\"file-1-txt-LC8\">[Demo with Go/build] üöÄ Start image=catthehacker/ubuntu:act-latest</td></tr><tr><td id=\"file-1-txt-L9\" data-line-number=\"9\"></td><td id=\"file-1-txt-LC9\">[Demo with Go/build] üê≥ docker run image=catthehacker/ubuntu:act-latest platform= entrypoint=[\"/usr/bin/tail\" \"-f\" \"/dev/null\"] cmd=[]</td></tr><tr><td id=\"file-1-txt-L10\" data-line-number=\"10\"></td><td id=\"file-1-txt-LC10\">[Demo with Go/build] üê≥ docker exec cmd=[mkdir -m 0777 -p /var/run/act] user=root</td></tr><tr><td id=\"file-1-txt-L11\" data-line-number=\"11\"></td><td id=\"file-1-txt-LC11\">[Demo with Go/build] ‚≠ê Run actions/checkout@v2</td></tr><tr><td id=\"file-1-txt-L12\" data-line-number=\"12\"></td><td id=\"file-1-txt-LC12\">[Demo with Go/build] ‚úÖ Success - actions/checkout@v2</td></tr><tr><td id=\"file-1-txt-L13\" data-line-number=\"13\"></td><td id=\"file-1-txt-LC13\">[Demo with Go/build] ‚≠ê Run Set up Go</td></tr><tr><td id=\"file-1-txt-L14\" data-line-number=\"14\"></td><td id=\"file-1-txt-LC14\">INFO[0002] ‚òÅ git clone 'https://github.com/actions/setup-go' # ref=v2</td></tr><tr><td id=\"file-1-txt-L15\" data-line-number=\"15\"></td><td id=\"file-1-txt-LC15\">[Demo with Go/build] üê≥ docker cp src=/Users/somkiat/.cache/act/actions-setup-go@v2/ dst=/var/run/act/actions/actions-setup-go@v2/</td></tr><tr><td id=\"file-1-txt-L16\" data-line-number=\"16\"></td><td id=\"file-1-txt-LC16\">[Demo with Go/build] üê≥ docker exec cmd=[mkdir -p /var/run/act/actions/actions-setup-go@v2/] user=</td></tr><tr><td id=\"file-1-txt-L17\" data-line-number=\"17\"></td><td id=\"file-1-txt-LC17\">[Demo with Go/build] üê≥ docker exec cmd=[node /var/run/act/actions/actions-setup-go@v2/dist/index.js] user=</td></tr><tr><td id=\"file-1-txt-L18\" data-line-number=\"18\"></td><td id=\"file-1-txt-LC18\">| Setup go stable version spec 1.16</td></tr><tr><td id=\"file-1-txt-L19\" data-line-number=\"19\"></td><td id=\"file-1-txt-LC19\"></td></tr><tr><td id=\"file-1-txt-L20\" data-line-number=\"20\"></td><td id=\"file-1-txt-LC20\">....</td></tr><tr><td id=\"file-1-txt-L21\" data-line-number=\"21\"></td><td id=\"file-1-txt-LC21\">....</td></tr><tr><td id=\"file-1-txt-L22\" data-line-number=\"22\"></td><td id=\"file-1-txt-LC22\"></td></tr><tr><td id=\"file-1-txt-L23\" data-line-number=\"23\"></td><td id=\"file-1-txt-LC23\">[Demo with Go/build] ‚ùì ::endgroup::</td></tr><tr><td id=\"file-1-txt-L24\" data-line-number=\"24\"></td><td id=\"file-1-txt-LC24\">[Demo with Go/build] ‚úÖ Success - Set up Go</td></tr><tr><td id=\"file-1-txt-L25\" data-line-number=\"25\"></td><td id=\"file-1-txt-LC25\">[Demo with Go/build] ‚≠ê Run Build</td></tr><tr><td id=\"file-1-txt-L26\" data-line-number=\"26\"></td><td id=\"file-1-txt-LC26\">[Demo with Go/build] üê≥ docker exec cmd=[bash --noprofile --norc -e -o pipefail /Users/somkiat/data/learning/github-actions/demo_act/workflow/2] user=</td></tr><tr><td id=\"file-1-txt-L27\" data-line-number=\"27\"></td><td id=\"file-1-txt-LC27\">| go: downloading github.com/gorilla/mux v1.8.0</td></tr><tr><td id=\"file-1-txt-L28\" data-line-number=\"28\"></td><td id=\"file-1-txt-LC28\">| github.com/gorilla/mux</td></tr><tr><td id=\"file-1-txt-L29\" data-line-number=\"29\"></td><td id=\"file-1-txt-LC29\">| demo</td></tr><tr><td id=\"file-1-txt-L30\" data-line-number=\"30\"></td><td id=\"file-1-txt-LC30\">[Demo with Go/build] ‚úÖ Success - Build</td></tr><tr><td id=\"file-1-txt-L31\" data-line-number=\"31\"></td><td id=\"file-1-txt-LC31\">[Demo with Go/build] ‚≠ê Run Test</td></tr><tr><td id=\"file-1-txt-L32\" data-line-number=\"32\"></td><td id=\"file-1-txt-LC32\">actions/demo_act/workflow/3] user=</td></tr><tr><td id=\"file-1-txt-L33\" data-line-number=\"33\"></td><td id=\"file-1-txt-LC33\">| go: downloading github.com/stretchr/testify v1.7.0</td></tr><tr><td id=\"file-1-txt-L34\" data-line-number=\"34\"></td><td id=\"file-1-txt-LC34\">| go: downloading gopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c</td></tr><tr><td id=\"file-1-txt-L35\" data-line-number=\"35\"></td><td id=\"file-1-txt-LC35\">| go: downloading github.com/davecgh/go-spew v1.1.0</td></tr><tr><td id=\"file-1-txt-L36\" data-line-number=\"36\"></td><td id=\"file-1-txt-LC36\">| go: downloading github.com/pmezard/go-difflib v1.0.0</td></tr><tr><td id=\"file-1-txt-L37\" data-line-number=\"37\"></td><td id=\"file-1-txt-LC37\">| === RUN TestAPIServer_HandleHello</td></tr><tr><td id=\"file-1-txt-L38\" data-line-number=\"38\"></td><td id=\"file-1-txt-LC38\">| --- PASS: TestAPIServer_HandleHello (0.00s)</td></tr><tr><td id=\"file-1-txt-L39\" data-line-number=\"39\"></td><td id=\"file-1-txt-LC39\">| PASS</td></tr><tr><td id=\"file-1-txt-L40\" data-line-number=\"40\"></td><td id=\"file-1-txt-LC40\">| ok demo\t0.006s</td></tr><tr><td id=\"file-1-txt-L41\" data-line-number=\"41\"></td><td id=\"file-1-txt-LC41\">[Demo with Go/build] ‚úÖ Success - Test</td></tr></tbody></table></div><p>‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ run ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß<br>‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏°‡∏≤‡∏Å ‡πÜ</p><p>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á <a href=\"https://github.com/up1/demo-github-action-local\" target=\"_blank\" rel=\"noreferrer noopener\">source code</a></p></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"3ba6cca798668f73197279522c475132b9631a8f1af75b80c1959146dcde5be9","category":"Thai"}