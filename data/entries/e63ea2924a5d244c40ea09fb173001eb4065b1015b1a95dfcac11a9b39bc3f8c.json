{"title":"Tackle complex reasoning tasks with Mistral Large, now available on Amazon Bedrock","link":"https://aws.amazon.com/blogs/aws/tackle-complex-reasoning-tasks-with-mistral-large-now-available-on-amazon-bedrock/","date":1712119069000,"content":"<p><em>Update 4/3/2024: We have updated this post to add information about the new Paris Region availability for Amazon Bedrock, and provided a new resource link for guidance on inference requests.</em></p> \n<p>Last month, we announced the availability of two high-performing <a href=\"https://aws.amazon.com/bedrock/mistral/\">Mistral AI models, Mistral 7B and Mixtral 8x7B on Amazon Bedrock</a>. Mistral 7B, as the ﬁrst foundation model of Mistral, supports English text generation tasks with natural coding capabilities. Mixtral 8x7B is a popular, high-quality, sparse Mixture-of-Experts (MoE) model, that is ideal for text summarization, question and answering, text classification, text completion, and code generation.</p> \n<p>Today, we’re announcing the availability of Mistral Large on Amazon Bedrock. Mistral Large is ideal for complex tasks that require substantial reasoning capabilities, or ones that are highly specialized, such as Synthetic Text Generation or Code Generation.</p> \n<p>At the AWS Paris Summit today, we also announced that Amazon Bedrock is now available in the Paris AWS Region, adding to the list of exciting news.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/03/Paris-summit.jpg\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/03/Paris-summit.jpg\" width=\"800\" height=\"600\" /></a></p> \n<p>What you need to know about Mistral Large:</p> \n<ul> \n <li>It’s natively fluent in English, French, Spanish, German, and Italian, with a nuanced understanding of grammar and cultural context.</li> \n <li>It has a 32K token context window allowing precise information recall from large documents.</li> \n <li>Its precise instruction-following enables you to design your moderation policies – the folks at Mistral AI used it to set up the system-level moderation of their beta assistant demonstrator <a href=\"https://chat.mistral.ai/\">le Chat</a>. Your first interaction with Large Language Models (LLMs) revolves around prompts, so the art of crafting effective prompts is essential for generating desirable responses from LLMs. <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/model-parameters-mistral.html#model-parameters-mistral-request-response\">In this Amazon Bedrock guide</a> we provide further details on how to make inference requests to Mistral AI models.</li> \n</ul> \n<p><span><strong>Getting started with Mistral Large</strong></span><br /> To get started with Mistral Large on Bedrock, you first need to get access to the model. On the Amazon Bedrock console, select <strong>Model access</strong>, and then select <strong>Manage model access</strong>. Next, select Mistral Large, and then select <strong>Save changes</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/29/Model-access-Mistral-Large-screenshot2.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/29/Model-access-Mistral-Large-screenshot2.png\" alt=\"Model-access-Mistral-Large-screenshot2\" width=\"2218\" height=\"966\" /></a></p> \n<p>Once you have access to Mistral Large, you can use the model on Bedrock. Refresh the base models table to view the updated status.<strong><br /> </strong></p> \n<p>To see the <strong>complex reasoning</strong> aspect of Mistral Large in action I tried the following prompt in the <strong>Playgrounds</strong> section:</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/29/Playground-screenshot-Mistral-Large.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/29/Playground-screenshot-Mistral-Large.png\" alt=\"Playground-screenshot-Mistral-Large\" width=\"2224\" height=\"1402\" /></a></p> \n<p><strong>Prompt</strong></p> \n<p><code>&lt;s&gt;[INST]Calculate the difference in payment dates between the two customers whose payment amounts are closest to each other in the given dataset: '{ \"transaction_id\":{\"0\":\"T1001\",\"1\":\"T1002\",\"2\":\"T1003\",\"3\":\"T1004\",\"4\":\"T1005\"}, \"customer_id\":{\"0\":\"C001\",\"1\":\"C002\",\"2\":\"C003\",\"3\":\"C002\",\"4\":\"C001\"}, \"payment_amount\":{\"0\":125.5,\"1\":89.99,\"2\":120.0,\"3\":54.3,\"4\":210.2}, \"payment_date\":{\"0\":\"2021-10-05\",\"1\":\"2021-10-06\",\"2\":\"2021-10-07\",\"3\":\"2021-10-05\",\"4\":\"2021-10-08\"}, \"payment_status\":{\"0\":\"Paid\",\"1\":\"Unpaid\",\"2\":\"Paid\",\"3\":\"Paid\",\"4\":\"Pending\"} }'[/INST]</code></p> \n<p><strong>Output</strong></p> \n<p><code>To find the difference in payment dates between the two customers whose payment amounts are closest to each other, we first need to parse the given dataset. We can use the pandas library in Python to convert the dataset into a DataFrame for easier manipulation. Here's the Python code to achieve this: ```python import pandas as pd from datetime import datetime # Given dataset data = { \"transaction_id\": [\"T1001\", \"T1002\", \"T1003\", \"T1004\", \"T1005\"], \"customer_id\": [\"C001\", \"C002\", \"C003\", \"C002\", \"C001\"], \"payment_amount\": [125.5, 89.99, 120.0, 54.3, 210.2], \"payment_date\": [\"2021-10-05\", \"2021-10-06\", \"2021-10-07\", \"2021-10-05\", \"2021-10-08\"], \"payment_status\": [\"Paid\", \"Unpaid\", \"Paid\", \"Paid\", \"Pending\"] } # Convert dataset to DataFrame df = pd.DataFrame(data) # Convert payment_date column to datetime format df[\"payment_date\"] = pd.to_datetime(df[\"payment_date\"]) # Calculate the difference between all pairs of payment amounts amount_diffs = df[\"payment_amount\"].sub(df[\"payment_amount\"], axis=0).abs().combine_first(df[\"payment_amount\"].sub(df[\"payment_amount\"], axis=1).abs()) # Find the minimum difference min_diff = amount_diffs.min().min() # Find the indices of the two customers with the closest payment amounts closest_indices = amount_diffs[amount_diffs == min_diff].stack().index.tolist() # Get the customer indices customer_index1, customer_index2 = closest_indices[0] # Get the payment dates</code></p> \n<p>Earlier in this post I mentioned that Mistral Large is natively fluent in several languages, with a nuanced understanding of grammar and cultural context. I tested the model’s understanding of the French language:</p> \n<p><strong>Prompt</strong></p> \n<p><code>&lt;s&gt;[INST]Lequel est le plus lourd une livre de fer ou un kilogramme de plume[/INST]</code></p> \n<p><strong>Output</strong></p> \n<p><code>Une livre de fer pèse environ 0.453 kilogramme, tandis qu'un kilogramme de plumes pèse 1 kilogramme. Donc, un kilogramme de plumes est plus lourd qu'une livre de fer. Cependant, il est important de noter que le volume occupé par un kilogramme de plumes serait beaucoup plus grand que le volume occupé par une livre de fer, car les plumes sont beaucoup moins denses que le fer.</code></p> \n<p><span><strong>Programmatically interact with Mistral Large<br /> </strong></span>You can also use <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (CLI)</a> and <a href=\"https://aws.amazon.com/developer/tools/\">AWS Software Development Kit (SDK)</a> to make various calls using Amazon Bedrock APIs. Following, is a sample code in Python that interacts with Amazon Bedrock Runtime APIs with AWS SDK. If you specify in the prompt that “You will only respond with a JSON object with the key X, Y, and Z.”, you can use JSON format output in easy downstream tasks:</p> \n<pre><code>import boto3\nimport json\n\nbedrock = boto3.client(service_name=\"bedrock-runtime\", region_name='us-east-1')\n\nprompt = \"\"\"\n&lt;s&gt;[INST]You are a summarization system that can provide summaries with associated confidence \nscores. In clear and concise language, provide three short summaries of the following essay, \nalong with their confidence scores. You will only respond with a JSON object with the key Summary \nand Confidence. Do not provide explanations.[/INST]\n# Essay: \nThe generative artificial intelligence (AI) revolution is in full swing, and customers of all sizes and across industries are taking advantage of this transformative technology to reshape their businesses. From reimagining workflows to make them more intuitive and easier to enhancing decision-making processes through rapid information synthesis, generative AI promises to redefine how we interact with machines. It’s been amazing to see the number of companies launching innovative generative AI applications on AWS using Amazon Bedrock. Siemens is integrating Amazon Bedrock into its low-code development platform Mendix to allow thousands of companies across multiple industries to create and upgrade applications with the power of generative AI. Accenture and Anthropic are collaborating with AWS to help organizations—especially those in highly-regulated industries like healthcare, public sector, banking, and insurance—responsibly adopt and scale generative AI technology with Amazon Bedrock. This collaboration will help organizations like the District of Columbia Department of Health speed innovation, improve customer service, and improve productivity, while keeping data private and secure. Amazon Pharmacy is using generative AI to fill prescriptions with speed and accuracy, making customer service faster and more helpful, and making sure that the right quantities of medications are stocked for customers.\n\nTo power so many diverse applications, we recognized the need for model diversity and choice for generative AI early on. We know that different models excel in different areas, each with unique strengths tailored to specific use cases, leading us to provide customers with access to multiple state-of-the-art large language models (LLMs) and foundation models (FMs) through a unified service: Amazon Bedrock. By facilitating access to top models from Amazon, Anthropic, AI21 Labs, Cohere, Meta, Mistral AI, and Stability AI, we empower customers to experiment, evaluate, and ultimately select the model that delivers optimal performance for their needs.\n\nAnnouncing Mistral Large on Amazon Bedrock\nToday, we are excited to announce the next step on this journey with an expanded collaboration with Mistral AI. A French startup, Mistral AI has quickly established itself as a pioneering force in the generative AI landscape, known for its focus on portability, transparency, and its cost-effective design requiring fewer computational resources to run. We recently announced the availability of Mistral 7B and Mixtral 8x7B models on Amazon Bedrock, with weights that customers can inspect and modify. Today, Mistral AI is bringing its latest and most capable model, Mistral Large, to Amazon Bedrock, and is committed to making future models accessible to AWS customers. Mistral AI will also use AWS AI-optimized AWS Trainium and AWS Inferentia to build and deploy its future foundation models on Amazon Bedrock, benefitting from the price, performance, scale, and security of AWS. Along with this announcement, starting today, customers can use Amazon Bedrock in the AWS Europe (Paris) Region. At launch, customers will have access to some of the latest models from Amazon, Anthropic, Cohere, and Mistral AI, expanding their options to support various use cases from text understanding to complex reasoning.\n\nMistral Large boasts exceptional language understanding and generation capabilities, which is ideal for complex tasks that require reasoning capabilities or ones that are highly specialized, such as synthetic text generation, code generation, Retrieval Augmented Generation (RAG), or agents. For example, customers can build AI agents capable of engaging in articulate conversations, generating nuanced content, and tackling complex reasoning tasks. The model’s strengths also extend to coding, with proficiency in code generation, review, and comments across mainstream coding languages. And Mistral Large’s exceptional multilingual performance, spanning French, German, Spanish, and Italian, in addition to English, presents a compelling opportunity for customers. By offering a model with robust multilingual support, AWS can better serve customers with diverse language needs, fostering global accessibility and inclusivity for generative AI solutions.\n\nBy integrating Mistral Large into Amazon Bedrock, we can offer customers an even broader range of top-performing LLMs to choose from. No single model is optimized for every use case, and to unlock the value of generative AI, customers need access to a variety of models to discover what works best based for their business needs. We are committed to continuously introducing the best models, providing customers with access to the latest and most innovative generative AI capabilities.\n\n“We are excited to announce our collaboration with AWS to accelerate the adoption of our frontier AI technology with organizations around the world. Our mission is to make frontier AI ubiquitous, and to achieve this mission, we want to collaborate with the world’s leading cloud provider to distribute our top-tier models. We have a long and deep relationship with AWS and through strengthening this relationship today, we will be able to provide tailor-made AI to builders around the world.”\n\n– Arthur Mensch, CEO at Mistral AI.\n\nCustomers appreciate choice\nSince we first announced Amazon Bedrock, we have been innovating at a rapid clip—adding more powerful features like agents and guardrails. And we’ve said all along that more exciting innovations, including new models will keep coming. With more model choice, customers tell us they can achieve remarkable results:\n\n“The ease of accessing different models from one API is one of the strengths of Bedrock. The model choices available have been exciting. As new models become available, our AI team is able to quickly and easily evaluate models to know if they fit our needs. The security and privacy that Bedrock provides makes it a great choice to use for our AI needs.”\n\n– Jamie Caramanica, SVP, Engineering at CS Disco.\n\n“Our top priority today is to help organizations use generative AI to support employees and enhance bots through a range of applications, such as stronger topic, sentiment, and tone detection from customer conversations, language translation, content creation and variation, knowledge optimization, answer highlighting, and auto summarization. To make it easier for them to tap into the potential of generative AI, we’re enabling our users with access to a variety of large language models, such as Genesys-developed models and multiple third-party foundational models through Amazon Bedrock, including Anthropic’s Claude, AI21 Labs’s Jurrassic-2, and Amazon Titan. Together with AWS, we’re offering customers exponential power to create differentiated experiences built around the needs of their business, while helping them prepare for the future.”\n\n– Glenn Nethercutt, CTO at Genesys.\n\nAs the generative AI revolution continues to unfold, AWS is poised to shape its future, empowering customers across industries to drive innovation, streamline processes, and redefine how we interact with machines. Together with outstanding partners like Mistral AI, and with Amazon Bedrock as the foundation, our customers can build more innovative generative AI applications.\n\nDemocratizing access to LLMs and FMs\nAmazon Bedrock is democratizing access to cutting-edge LLMs and FMs and AWS is the only cloud provider to offer the most popular and advanced FMs to customers. The collaboration with Mistral AI represents a significant milestone in this journey, further expanding Amazon Bedrock’s diverse model offerings and reinforcing our commitment to empowering customers with unparalleled choice through Amazon Bedrock. By recognizing that no single model can optimally serve every use case, AWS has paved the way for customers to unlock the full potential of generative AI. Through Amazon Bedrock, organizations can experiment with and take advantage of the unique strengths of multiple top-performing models, tailoring their solutions to specific needs, industry domains, and workloads. This unprecedented choice, combined with the robust security, privacy, and scalability of AWS, enables customers to harness the power of generative AI responsibly and with confidence, no matter their industry or regulatory constraints.\n\"\"\"\n\nbody = json.dumps({\n    \"prompt\": prompt,\n    \"max_tokens\": 512,\n    \"top_p\": 0.8,\n    \"temperature\": 0.5,\n})\n\n# modelId = \"mistral.mistral-large-instruct-v0:2\"\nmodelId = \"mistral.mistral-large-2402-v1:0\"\n\naccept = \"application/json\"\ncontentType = \"application/json\"\n\nresponse = bedrock.invoke_model(\n    body=body,\n    modelId=modelId,\n    accept=accept,\n    contentType=contentType\n)\n\nprint(json.loads(response.get('body').read()))\n\n</code></pre> \n<p>You can get JSON formatted output as like:</p> \n<pre><code>{\n  \"Summary 1\": \"The generative AI revolution is transforming businesses with the help of Amazon Bedrock, which offers access to multiple state-of-the-art large language models and foundation models. Mistral AI's latest model, Mistral Large, is now available on Amazon Bedrock, providing exceptional language understanding and generation capabilities.\",\n  \"Confidence 1\": 0.95,\n  \"Summary 2\": \"Amazon Bedrock is a unified service that provides customers with access to top models from various AI companies, including Amazon, Anthropic, AI21 Labs, Cohere, Meta, Mistral AI, and Stability AI. The recent addition of Mistral Large to the platform enhances the range of top-performing LLMs available to customers.\",\n  \"Confidence 2\": 0.92,\n  \"Summary 3\": \"Mistral Large, the latest model from Mistral AI, offers exceptional language understanding and generation capabilities, making it ideal for complex tasks that require reasoning or specialized knowledge. Its multilingual performance and coding proficiency make it a valuable addition to Amazon Bedrock's diverse model offerings.\",\n  \"Confidence 3\": 0.90\n}</code></pre> \n<p>To learn more prompting capabilities in Mistral AI models, visit <a href=\"https://docs.mistral.ai/guides/prompting-capabilities/\">Mistral AI documentation</a>.</p> \n<p><span><strong>Now Available</strong></span><br /> Mistral Large, along with other Mistral AI models (Mistral 7B and Mixtral 8x7B), is <a href=\"https://aws.amazon.com/bedrock/mistral/\">available today on Amazon Bedrock</a> in the US East (N. Virginia), US West (Oregon), and Europe (Paris) Regions; check the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html\">full Region list</a> for future updates.</p> \n<p>Share and learn with our generative AI community at <a href=\"https://community.aws/generative-ai\">community.aws</a>. Give Mistral Large a try in the <a href=\"https://console.aws.amazon.com/bedrock\">Amazon Bedrock console</a> today and send feedback to <a href=\"https://repost.aws/tags/TAQeKlaPaNRQ2tWB6P7KrMag/amazon-bedrock\">AWS re:Post for Amazon Bedrock</a> or through your usual AWS Support contacts.</p> \n<p><a href=\"https://aws.amazon.com/blogs/machine-learning/aws-and-mistral-ai-commit-to-democratizing-generative-ai-with-a-strengthened-collaboration/\">Read about our collaboration with Mistral AI</a> and what it means for our customers.</p> \n<p>– <a href=\"https://www.linkedin.com/in/veliswa-boya/\">Veliswa</a>.</p>","author":"Veliswa Boya","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"e63ea2924a5d244c40ea09fb173001eb4065b1015b1a95dfcac11a9b39bc3f8c","category":"Tech"}