{"title":"รวมฟีเจอร์ใหม่ C# 10 ลดโค้ดที่ไม่จำเป็น ควบคุมออปเจกต์และสตริงได้มากขึ้น","link":"https://www.blognone.com/node/125746","date":1636433171000,"content":"<div><div><div><p>เมื่อคืนนี้<a href=\"https://www.blognone.com/node/125735\">ไมโครซอฟท์ปล่อย .NET 6 ตัวจริง</a> โดยส่วนสำคัญส่วนหนึ่งคือตัวภาษา C# ที่ปรับเป็นเวอร์ชั่น 10 ที่มีการปรับปรุงภาษาหลายส่วน ฟีเจอร์สำคัญๆ ที่ปรับเปลี่ยนมาได้แก่</p>\n<ul>\n<li><strong>ประกาศ using แบบ global</strong>: แทนที่จะประกาศใช้ namespace ทุกไฟล์ สามารถประกาศครั้งเดียวทั้งโครงการได้</li>\n<li><strong>ใช้ namespace อัตโนมัติ (implicit using)</strong>: สามารถคอนฟิกแต่ละโปรเจคให้เพิ่ม namespace อัตโนมัติได้เอง</li>\n<li><strong>ประกาศ namespace ทั้งไฟล์</strong>: ในกรณีที่ทั้งไฟล์มี namespace เดียว สามารถประกาศ namespace แบบเดียวกับ using ทำให้ไม่ต้องวางโค้ดในปีกกาลงไปอีกชั้น</li>\n<li><strong>คาดเดาชนิดตัวแปรอัตโนมัติ</strong>: หากข้อมูลเพียงพอให้คอมไฟล์เลอร์ทำนายชนิดตัวแปรที่ฟังก์ชั่น lambda คืนค่าอัตโนมัติ ในเวอร์ชั่นนี้โปรแกรมเมอร์ไม่ต้องระบุชนิดตัวแปรที่จะคืนค่าแล้ว</li>\n<li><strong>รองรับ attribute กับ lambda</strong>: สามารถใช้ attribute กับ lambda ได้แบบเดียวกับฟัง์ชั่นปกติ</li>\n<li><strong>constructor แบบไม่มีพารามิเตอร์สำหรับ struct</strong>: เดิม C# หากสร้าง struct โดยไม่มีพารามิเตอร์ ฟิลด์ต่างๆ จะถูกกำหนดเป็นค่าเริ่มต้นเองโดยไม่สามารถแก้ไขได้ แต่ในเวอร์ชั่นนี้จะสามารถเขียน constructor แบบไม่มีพารามิเตอร์ได้เองแล้ว</li>\n<li><strong>record struct</strong>: จาก <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/tutorials/records\">C# 9 ที่เพิ่ม record classses</a> สำหรับการเปรียบเทียบค่ากัน (value-based equality) ในเวอร์ชั่นนี้สามารถประกาศแบบ struct ได้ด้วย</li>\n<li><strong>ควบคุมการเติมค่าในสตริง (interpolarted string)</strong>: การใช้สตริงที่มีตัวแปรต้องแทนค่าไปภายใน เช่น <code>$\"Hello {args[0]}, how are you?\"</code> เดิมคอมไพล์เลอร์จะเป็นผู้แปลงโค้ดให้เรียกฟังก์ชั่น <code>string.Format</code> เอง ซึ่งบางกรณีการแทนค่าในสตริงนั้นเปลืองซีพียู และไม่จำเป็นเสมอไป (เช่น การเรียกฟังก์ชั่นดีบั๊ก) ใน C# 10 จะเปิดให้ฟังก์ชั่นควบคุมการแทนค่าในสตริงได้</li>\n</ul>\n<p>สำหรับการเปลี่ยนแปลงทั้งหมดอ่านได้ใน<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-10\">เอกสาร C# ของไมโครซอฟท์</a></p>\n<p>ที่มา - <a href=\"https://devblogs.microsoft.com/dotnet/welcome-to-csharp-10/\">Microsoft Dev Blog</a></p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/702512a75084e5914d9cbb14692b4573.png\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/c-sharp\">C#</a></div><div><a href=\"/topics/net\">.NET</a></div><div><a href=\"/topics/programming\">Programming</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"b3bef30bcd3a4b6d2be17fef5049acaa269480d75ff5e698148cba3f3eb27062","category":"Thai"}