{"title":"DeepSeek-R1 now available as a fully managed serverless model in Amazon Bedrock","link":"https://aws.amazon.com/blogs/aws/deepseek-r1-now-available-as-a-fully-managed-serverless-model-in-amazon-bedrock/","date":1741636875000,"content":"<p>As of January 30, DeepSeek-R1 models became <a href=\"https://aws.amazon.com/blogs/aws/deepseek-r1-models-now-available-on-aws/\">available in Amazon Bedrock</a> through the <a href=\"https://aws.amazon.com/bedrock/marketplace/\">Amazon Bedrock Marketplace</a> and <a href=\"https://aws.amazon.com/bedrock/custom-model-import/\">Amazon Bedrock Custom Model Import</a>. Since then, thousands of customers have deployed these models in Amazon Bedrock. Customers value the robust guardrails and comprehensive tooling for safe AI deployment. Today, we’re making it even easier to use <a href=\"https://aws.amazon.com/bedrock/deepseek\">DeepSeek in Amazon Bedrock</a> through an expanded range of options, including a new serverless solution.</p> \n<p>The fully managed DeepSeek-R1 model is now generally available in Amazon Bedrock. <a href=\"https://aws.amazon.com/\">Amazon Web Services (AWS)</a> is the first cloud service provider (CSP) to deliver DeepSeek-R1 as a fully managed, generally available model. You can accelerate innovation and deliver tangible business value with DeepSeek on AWS without having to manage infrastructure complexities. You can power your <a href=\"https://aws.amazon.com/generative-ai/\">generative AI</a> applications with DeepSeek-R1’s capabilities using a <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/getting-started-api.html\">single API</a> in the Amazon Bedrock’s fully managed service and get the benefit of its extensive features and tooling.</p> \n<p>According to <a href=\"https://www.deepseek.com/\">DeepSeek</a>, their model is publicly available under MIT license and offers strong capabilities in reasoning, coding, and natural language understanding. These capabilities power intelligent decision support, software development, mathematical problem-solving, scientific analysis, data insights, and comprehensive knowledge management systems.</p> \n<p>As is the case for all AI solutions, give careful consideration to data privacy requirements when implementing in your production environments, check for bias in output, and monitor your results. When implementing publicly available models like DeepSeek-R1, consider the following:</p> \n<ul> \n <li><strong>Data security</strong> – You can access the <a href=\"https://aws.amazon.com/bedrock/security-compliance/\">enterprise-grade security</a>, monitoring, and cost control features of Amazon Bedrock that are essential for <a href=\"https://aws.amazon.com/ai/responsible-ai/\">deploying AI responsibly at scale</a>, all while retaining complete control over your data. Users’ inputs and model outputs aren’t shared with any model providers. You can use these <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/security.html\">key security features</a> by default, including data encryption at rest and in transit, fine-grained access controls, secure connectivity options, and download <a href=\"https://aws.amazon.com/compliance/services-in-scope/\">various compliance certifications</a> while communicating with the DeepSeek-R1 model in Amazon Bedrock.</li> \n <li><strong>Responsible AI</strong> – You can implement safeguards customized to your application requirements and responsible AI policies with <a href=\"https://aws.amazon.com/bedrock/guardrails/\">Amazon Bedrock Guardrails</a>. This includes key features of content filtering, sensitive information filtering, and customizable security controls to prevent hallucinations using contextual grounding and <a href=\"https://aws.amazon.com/blogs/aws/prevent-factual-errors-from-llm-hallucinations-with-mathematically-sound-automated-reasoning-checks-preview/\">Automated Reasoning checks</a>. This means you can control the interaction between users and the DeepSeek-R1 model in Bedrock with your defined set of policies by filtering undesirable and harmful content in your generative AI applications.</li> \n <li><strong>Model evaluation </strong>– You can evaluate and compare models to identify the optimal model for your use case, including DeepSeek-R1, in a few steps through either automatic or human evaluations by using <a href=\"https://aws.amazon.com/blogs/aws/amazon-bedrock-model-evaluation-is-now-generally-available/\">Amazon Bedrock model evaluation tools</a>. You can choose automatic evaluation with predefined metrics such as accuracy, robustness, and toxicity. Alternatively, you can choose human evaluation workflows for subjective or custom metrics such as relevance, style, and alignment to brand voice. Model evaluation provides built-in curated datasets, or you can bring in your own datasets.</li> \n</ul> \n<p>We strongly recommend integrating Amazon Bedrock Guardrails and using Amazon Bedrock model evaluation features with your DeepSeek-R1 model to add robust protection for your generative AI applications. To learn more, visit <a href=\"https://aws.amazon.com/blogs/machine-learning/protect-your-deepseek-model-deployments-with-amazon-bedrock-guardrails/\">Protect your DeepSeek model deployments with Amazon Bedrock Guardrails</a> and <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/evaluation.html\">Evaluate the performance of Amazon Bedrock resources</a>.</p> \n<p><u><strong>Get started with the DeepSeek-R1 model in Amazon Bedrock</strong></u><br /> If you’re new to using DeepSeek-R1 models, go to the <a href=\"https://us-west-2.console.aws.amazon.com/bedrock/home?region=us-west-2#modelaccess\">Amazon Bedrock console</a>, choose <strong>Model access</strong> under <strong>Bedrock configurations</strong> in the left navigation pane. To access the fully managed DeepSeek-R1 model, request access for <strong>DeepSeek-R1</strong> in <strong>DeepSeek</strong>. You’ll then be granted access to the model in Amazon Bedrock.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/11/2025-deepseek-r1-on-bedrock-1-model-access-1.jpg\" alt=\"1. Access DeepSeek-R1 model\" width=\"2022\" height=\"1038\" /></p> \n<p>Next, to test the DeepSeek-R1 model in Amazon Bedrock, choose <strong>Chat/Text </strong>under <strong>Playgrounds </strong>in the left menu pane. Then choose <strong>Select model </strong>in the upper left, and select <strong>DeepSeek</strong> as the category and <strong>DeepSeek-R1 </strong>as the model. Then choose <strong>Apply</strong>.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/11/2025-deepseek-r1-on-bedrock-2-select-model.jpg\" alt=\"2. Select DeepSeek-R1 model\" width=\"1763\" height=\"1135\" /></p> \n<p>Using the selected <strong>DeepSeek-R1</strong> model, I run the following prompt example:</p> \n<p><code>A family has $5,000 to save for their vacation next year. They can place the money in a savings account earning 2% interest annually or in a certificate of deposit earning 4% interest annually but with no access to the funds until the vacation. If they need $1,000 for emergency expenses during the year, how should they divide their money between the two options to maximize their vacation fund?</code></p> \n<p>This prompt requires a complex chain of thought and produces very precise reasoning results.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/11/2025-deepseek-r1-on-bedrock-3-chat-playground-1.gif\" alt=\"3. Test DeepSeek-R1 in the Chat Playground\" width=\"800\" height=\"422\" /></p> \n<p>To learn more about usage recommendations for prompts, refer to the <a href=\"https://api-docs.deepseek.com/guides/reasoning_model.html\">DeepSeek-R1 model prompt guide</a>.</p> \n<p>By choosing <strong>View API request</strong>, you can also access the model using code examples in the <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (AWS CLI)</a> and <a href=\"https://aws.amazon.com/developer/tools/\">AWS SDK</a>. You can use <code>us.deepseek.r1-v1:0</code> as the model ID.</p> \n<p>Here is a sample of the AWS CLI command:</p> \n<pre><code>aws bedrock-runtime invoke-model \\\n       --model-id us.deepseek.r1-v1:0 \\\n       --body \"{\\\"prompt\\\": \\\"&lt;｜begin_of_sentence｜&gt;&lt;｜User｜&gt;Type_Your_Prompt_Here&lt;｜Assistant｜&gt;&lt;think&gt;\\n\\\", \\\"max_tokens\\\": 512, \\\"temperature\\\": 0.5, \\\"top_p\\\": 0.9}\" \\\n       --cli-binary-format raw-in-base64-out \\\n       --region us-west-2 \\\n       invoke-model-output.txt</code></pre> \n<p>The model supports both the <code>InvokeModel</code> and <code>Converse</code> API. The following Python code examples show how to send a text message to the DeepSeek-R1 model using the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/conversation-inference.html\">Amazon Bedrock Converse API</a> for text generation. To learn more, visit <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/model-parameters-deepseek.html\">DeepSeek model inference parameters and responses</a> in the AWS documentation.</p> \n<pre><code>import boto3\nfrom botocore.exceptions import ClientError\n\n# Create a Bedrock Runtime client in the AWS Region you want to use.\nclient = boto3.client(\"bedrock-runtime\", region_name=\"us-west-2\")\n\n# Set the model ID, e.g., DeepSeek-R1 Model.\nmodel_id = \"us.deepseek.r1-v1:0\"\n\n# Start a conversation with the user message.\nuser_message = \"Type_Your_Prompt_Here\"\nconversation = [\n    {\n        \"role\": \"user\",\n        \"content\": [{\"text\": user_message}],\n    }\n]\n\ntry:\n    # Send the message to the model, using a basic inference configuration.\n    response = client.converse(\n        modelId=model_id,\n        messages=conversation,\n        inferenceConfig={\"maxTokens\": 512, \"temperature\": 0.5, \"topP\": 0.9},\n    )\n\n    # Extract and print the response text.\n    response_text = response[\"output\"][\"message\"][\"content\"][0][\"text\"]\n    print(response_text)\n\nexcept (ClientError, Exception) as e:\n    print(f\"ERROR: Can't invoke '{model_id}'. Reason: {e}\")\n    exit(1)</code></pre> \n<p>To enable Amazon Bedrock Guardrails on the DeepSeek-R1 model, select <strong>Guardrails </strong>under <strong>Safeguards </strong>in the left navigation pane, and create a guardrail by configuring as many filters as you need. For example, if you filter for “politics” word, your guardrails will recognize this word in the prompt and show you the blocked message.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/11/2025-deepseek-r1-on-bedrock-4-guardrails.png\" alt=\"\" width=\"2552\" height=\"1396\" /></p> \n<p>You can test the guardrail with different inputs to assess the guardrail’s performance. You can refine the guardrail by setting denied topics, word filters, sensitive information filters, and blocked messaging until it matches your needs.</p> \n<p>To learn more about Amazon Bedrock Guardrails, visit <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails.html\">Stop harmful content in models using Amazon Bedrock Guardrails</a> in the AWS documentation or other <a href=\"https://aws.amazon.com/blogs/machine-learning/category/artificial-intelligence/amazon-machine-learning/amazon-bedrock/amazon-bedrock-guardrails/\">deep dive blog posts about Amazon Bedrock Guardrails</a> on the AWS Machine Learning Blog channel.</p> \n<p>Here’s a <a href=\"https://www.youtube.com/watch?v=W3FbSYFevZ4\">demo walkthrough</a> highlighting how you can take advantage of the fully managed DeepSeek-R1 model in Amazon Bedrock:</p> \n<p></p> \n<p><u><strong>Now available</strong></u><br /> DeepSeek-R1 is now available fully managed in Amazon Bedrock in the US East (N. Virginia), US East (Ohio), and US West (Oregon) AWS Regions through <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/cross-region-inference.html\">cross-Region inference</a>. Check the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html\">full Region list</a> for future updates. To learn more, check out the <a href=\"https://aws.amazon.com/bedrock/deepseek\">DeepSeek in Amazon Bedrock product page</a> and the <a href=\"https://aws.amazon.com/bedrock/pricing/\">Amazon Bedrock pricing page</a>.</p> \n<p>Give the DeepSeek-R1 model a try in the <a href=\"https://console.aws.amazon.com/bedrock\">Amazon Bedrock console</a> today and send feedback to <a href=\"https://repost.aws/tags/TAQeKlaPaNRQ2tWB6P7KrMag/amazon-bedrock\">AWS re:Post for Amazon Bedrock</a> or through your usual AWS Support contacts.</p> \n<p>— <a href=\"https://twitter.com/channyun\">Channy</a></p> \n<p><em><strong>Updated on March 10, 2025</strong> — Fixed screenshots of model selection and model ID.</em></p> \n<p><em><strong>Updated on March 13, 2025</strong> — Added guide links of <a href=\"https://api-docs.deepseek.com/guides/reasoning_model.html\">DeepSeek-R1 model prompts</a> and <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/model-parameters-deepseek.html\">model inference parameters and responses</a>.</em></p>","author":"Channy Yun (윤석찬)","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"8ad81cad2c6846246cb19bffa10a9a6cd9c112dbe97923d40d40577843f1a6f1","category":"Tech"}