{"title":"Release Notes for Safari Technology Preview 171","link":"https://webkit.org/blog/14200/release-notes-for-safari-technology-preview-171/","date":1685566133000,"content":"<p><a href=\"https://webkit.org/blog/6017/introducing-safari-technology-preview/\">Safari Technology Preview</a> Release 171 is now <a href=\"https://webkit.org/downloads/\">available for download</a> for macOS Monterey 12.3 or later and macOS Ventura. If you already have Safari Technology Preview installed, you can update it in the Software Update pane of System Preferences on macOS Monterey, or System Settings under General → Software Update on macOS Ventura.</p>\n<p>This release includes WebKit changes between: <a href=\"https://github.com/WebKit/WebKit/compare/ab0f8a142a9441282025b9a77c4c37cf453a794b...1be5261428234b2357b74bb5de686c7bce227953\">263538@main…264301@main</a>.</p>\n<h3>Web Inspector</h3>\n<ul>\n<li>Console tab\n<ul>\n<li>Added showing the <code>target</code> of a <code>WeakRef</code> (<a href=\"https://commits.webkit.org/264171@main\">264171@main</a>)</li>\n<li>Fixed timestamps taking up different amounts of space (<a href=\"https://commits.webkit.org/264161@main\">264161@main</a>)</li>\n</ul>\n</li>\n<li>Sources tab\n<ul>\n<li>Fixed Step Over behaving like resume when stepping over a function with a falsy conditional breakpoint (<a href=\"https://commits.webkit.org/264160@main\">264160@main</a>)</li>\n</ul>\n</li>\n<li>Storage tab\n<ul>\n<li>Fixed truncated localStorage editing giving the illusion of a proper edit and the truncated string being saved (<a href=\"https://commits.webkit.org/264166@main\">264166@main</a>)</li>\n</ul>\n</li>\n<li>Fixed popovers so that only one can be displayed at a time (<a href=\"https://commits.webkit.org/264159@main\">264159@main</a>)</li>\n</ul>\n<h3>CSS</h3>\n<ul>\n<li>Added support for <code>@font-face { src: tech() }</code> and <code>@supports font-tech()</code> (<a href=\"https://commits.webkit.org/263725@main\">263725@main</a>)</li>\n<li>Added support for <code>@font-face</code> <code>size-adjust</code> descriptor (<a href=\"https://commits.webkit.org/263604@main\">263604@main</a>)</li>\n<li>Fixed ascent for flex items that are scroll containers to be clamped to the border box (<a href=\"https://commits.webkit.org/263974@main\">263974@main</a>)</li>\n<li>Fixed <code>text-shadow</code> and <code>box-shadow</code> with <code>currentcolor</code> (<a href=\"https://commits.webkit.org/264120@main\">264120@main</a>)</li>\n<li>Fixed the containing block for items in a masonry columns grid to be the logical width of the grid’s content box (<a href=\"https://commits.webkit.org/264011@main\">264011@main</a>)</li>\n<li>Fixed not adding extra grid gap at the bottom of masonry rows (<a href=\"https://commits.webkit.org/263657@main\">263657@main</a>)</li>\n<li>Fixed computing masonry item offsets (<a href=\"https://commits.webkit.org/263709@main\">263709@main</a>)</li>\n<li>Fixed <code>image-set</code> to accept zero resolution and clamp negative resolutions used in <code>calc</code> expressions (<a href=\"https://commits.webkit.org/264298@main\">264298@main</a>)</li>\n<li>Fixed container query length units to use the content box instead of the border box (<a href=\"https://commits.webkit.org/263595@main\">263595@main</a>)</li>\n<li>Fixed CSS Masonry Layout to ensure grid size updates on resize (<a href=\"https://commits.webkit.org/263712@main\">263712@main</a>)</li>\n<li>Fixed <code>overflow: clip</code> fails when intrusive float is present (<a href=\"https://commits.webkit.org/264101@main\">264101@main</a>)</li>\n<li>Removed parsing support of <code>left</code> and <code>right</code> values for <code>caption-side</code> (<a href=\"https://commits.webkit.org/264262@main\">264262@main</a>)</li>\n<li>Renamed <code>text-box-trim</code> value <code>normal</code> to <code>none</code> (<a href=\"https://commits.webkit.org/263702@main\">263702@main</a>)</li>\n<li>Renamed <code>leading-trim</code> to <code>text-box-trim</code> to match the latest spec (<a href=\"https://commits.webkit.org/263587@main\">263587@main</a>)</li>\n<li>Renamed <code>text-edge</code> to <code>text-box-edge</code> to match the latest spec (<a href=\"https://commits.webkit.org/263612@main\">263612@main</a>)</li>\n<li>Fixed the bug that <code>@supports selector()</code> fails for all <code>-webkit-</code> prefixed pseudo elements (<a href=\"https://commits.webkit.org/264090@main\">264090@main</a>)</li>\n</ul>\n<h3>CSS Counter Styles</h3>\n<ul>\n<li>Added support for extending ethiopic counter styles (<a href=\"https://commits.webkit.org/263602@main\">263602@main</a>)</li>\n<li>Added support for extending CJK counter styles (<a href=\"https://commits.webkit.org/263542@main\">263542@main</a>, <a href=\"https://commits.webkit.org/263544@main\">263544@main</a>)</li>\n</ul>\n<h3>Web Animations</h3>\n<ul>\n<li>Removed animation support for <code>zoom</code> (<a href=\"https://commits.webkit.org/263908@main\">263908@main</a>)</li>\n</ul>\n<h3>Rendering</h3>\n<ul>\n<li>Fixed images with <code>decoding=\"async\"</code> flickering while zooming in (<a href=\"https://commits.webkit.org/264433@main\">264433@main</a>)</li>\n<li>Fixed handling multi-column intrinsic inline-size changes (<a href=\"https://commits.webkit.org/264292@main\">264292@main</a>)</li>\n<li>Fixed SVG use element doesn’t render if it references a subsequent element after a style resolution (<a href=\"https://commits.webkit.org/264085@main\">264085@main</a>)</li>\n<li>Fixed <code>alt</code> texts rendered horizontally in vertical writing mode (<a href=\"https://commits.webkit.org/263776@main\">263776@main</a>)</li>\n<li>Fixed OffscreenCanvas rendering hiding the border from the element (<a href=\"https://commits.webkit.org/263731@main\">263731@main</a>)</li>\n<li>Complex text path: Make tab glyph invisible after advancing (<a href=\"https://commits.webkit.org/263929@main\">263929@main</a>)</li>\n<li>Fixed text not wrapping in a nested grid (<a href=\"https://commits.webkit.org/264252@main\">264252@main</a>)</li>\n<li>Changed to respect style containment on list items (<a href=\"https://commits.webkit.org/264273@main\">264273@main</a>)</li>\n<li>Fixed negative shadow repaint issue (<a href=\"https://commits.webkit.org/263899@main\">263899@main</a>)</li>\n<li>Fixed width of textarea with overflow hidden including scrollbar thickness (<a href=\"https://commits.webkit.org/264095@main\">264095@main</a>)</li>\n<li>Fixed <code>textarea</code>’s logical height with <code>overflow: auto</code> to not include scrollbar-thickness (<a href=\"https://commits.webkit.org/264251@main\">264251@main</a>)</li>\n</ul>\n<h3>JavaScript</h3>\n<ul>\n<li>Cached default <code>Intl</code> <code>NumberFormat</code> (<a href=\"https://commits.webkit.org/264057@main\">264057@main</a>)</li>\n<li>Cached lookups of ProxyObject’s traps (<a href=\"https://commits.webkit.org/263944@main\">263944@main</a>)</li>\n<li>Changed to not use Strong&lt;&gt; in VM and simplify jsString (<a href=\"https://commits.webkit.org/264099@main\">264099@main</a>)</li>\n<li>Changed to not use Vector as intermediate transfer buffer for typed array (<a href=\"https://commits.webkit.org/263942@main\">263942@main</a>)</li>\n<li>Disabled <code>Array#group</code> and <code>Array#groupToMap</code> (<a href=\"https://commits.webkit.org/263922@main\">263922@main</a>)</li>\n<li>Fixed <code>definePropertyOnReceiver()</code> to account for <code>put_by_val_with_this</code> bytecode op (<a href=\"https://commits.webkit.org/263559@main\">263559@main</a>)</li>\n<li>Fixed <code>/\\p{Number}--]/v;</code> to be a syntax error (<a href=\"https://commits.webkit.org/264175@main\">264175@main</a>)</li>\n<li>Fixed <code>JSON.parse</code> to use simple recursion until it hits a soft-recursion threshold (<a href=\"https://commits.webkit.org/263744@main\">263744@main</a>)</li>\n<li>Fixed StringConstructor constant function inlining in the case of <code>[[Construct]]</code> (<a href=\"https://commits.webkit.org/264191@main\">264191@main</a>)</li>\n<li>Fixed Stringifier to quickly get names even if it involves accessors (<a href=\"https://commits.webkit.org/263619@main\">263619@main</a>)</li>\n<li>Optimized Dictionary access (<a href=\"https://commits.webkit.org/264040@main\">264040@main</a>)</li>\n<li>Optimized <code>JSON.stringify</code> integer serialization (<a href=\"https://commits.webkit.org/263765@main\">263765@main</a>)</li>\n</ul>\n<h3>Popover</h3>\n<ul>\n<li>Changed to not throw when popover or dialog is in requested state (<a href=\"https://commits.webkit.org/263957@main\">263957@main</a>)</li>\n<li>Changed to only use the invoker to establish popover hierarchy (<a href=\"https://commits.webkit.org/264002@main\">264002@main</a>)</li>\n<li>Changed to use the <code>&lt;dialog&gt;</code> focus algorithm for dialog popovers (<a href=\"https://commits.webkit.org/263749@main\">263749@main</a>)</li>\n<li>Changed  <code>hidePopover</code>  to restore focus only when focus was in the popover (<a href=\"https://commits.webkit.org/263645@main\">263645@main</a>)</li>\n<li>Reset the invoker in <code>showPopover()</code> (<a href=\"https://commits.webkit.org/264006@main\">264006@main</a>)</li>\n</ul>\n<h3>Web API</h3>\n<ul>\n<li>Added more explicit error messages for <code>new URL(url, base)</code> Constructor (<a href=\"https://commits.webkit.org/264129@main\">264129@main</a>)</li>\n<li>Added <code>value</code> argument to URLSearchParams’s <code>has()</code> and <code>delete()</code> (<a href=\"https://commits.webkit.org/263726@main\">263726@main</a>)</li>\n<li>Added support for <code>AbortSignal.any()</code> (<a href=\"https://commits.webkit.org/264163@main\">264163@main</a>)</li>\n<li>Added support for <code>ServiceWorkerRegistration.getNotifications()</code> (<a href=\"https://commits.webkit.org/264169@main\">264169@main</a>)</li>\n<li>Added support for the <code>&lt;search&gt;</code> element (<a href=\"https://commits.webkit.org/264110@main\">264110@main</a>)</li>\n<li>Exposed <code>DeviceMotionEvent</code> and <code>DeviceOrientationEvent</code> on the global <code>Window</code> object on macOS (<a href=\"https://commits.webkit.org/264271@main\">264271@main</a>)</li>\n<li>Changed <code>document.body.onerror</code> setter to setup a five-parameter listener (<a href=\"https://commits.webkit.org/264190@main\">264190@main</a>)</li>\n<li>Changed the HTML parser to allow <code>&lt;hr&gt;</code> to be used inside <code>&lt;select&gt;</code> as a separator per a recent HTML Standard change the WebKit team contributed, which makes it easier to add a visual separator on macOS (<a href=\"https://commits.webkit.org/263624@main\">263624@main</a>)</li>\n<li>Changed to not escape <code>&lt;</code>, <code>&gt;</code>, <code>&amp;</code>, and <code>nbsp</code> inside a <code>&lt;noscript&gt;</code> element when scripting is enabled (<a href=\"https://commits.webkit.org/263633@main\">263633@main</a>)</li>\n<li>Changed to respect <code>Content-Type</code> from internal headers instead of caching it in body (<a href=\"https://commits.webkit.org/264054@main\">264054@main</a>)</li>\n<li>Changed to allow relative URLs and http(s) scheme in the <code>WebSocket</code> constructor (<a href=\"https://commits.webkit.org/263968@main\">263968@main</a>)</li>\n<li>Changed <code>WebSocket</code>‘s <code>binaryType</code> setter to not throw (<a href=\"https://commits.webkit.org/263963@main\">263963@main</a>)</li>\n<li>Fixed firing a <code>controllerchange</code> event on clients when a service worker gets deleted (<a href=\"https://commits.webkit.org/264255@main\">264255@main</a>)</li>\n<li>Fixed running a service worker before firing its activate event (<a href=\"https://commits.webkit.org/264242@main\">264242@main</a>)</li>\n<li>Fixed <code>document.write</code> of template producing multiple text nodes (<a href=\"https://commits.webkit.org/263841@main\">263841@main</a>)</li>\n<li>Fixed event dispatching on disabled form controls (<a href=\"https://commits.webkit.org/264098@main\">264098@main</a>)</li>\n<li>Fixed a bug in the preload scanner with nested templates (<a href=\"https://commits.webkit.org/263850@main\">263850@main</a>)</li>\n<li>Fixed node depth computation for shadow nodes in <code>ResizeObserver</code> (<a href=\"https://commits.webkit.org/263920@main\">263920@main</a>)</li>\n<li>Fixed revealing the focused input element in an event loop task instead of a post layout task (<a href=\"https://commits.webkit.org/263665@main\">263665@main</a>)</li>\n<li>Fixed <code>&lt;input type=\"date\"&gt;</code> with an invalid date to return an empty string for the value instead of the default value (<a href=\"https://commits.webkit.org/263784@main\">263784@main</a>)</li>\n<li>Fixed sanitizing email input when the <code>multiple</code> attribute is set (<a href=\"https://commits.webkit.org/263555@main\">263555@main</a>)</li>\n<li>Fixed selecting a link and pasting plain text changes text in the link, but not the link href (<a href=\"https://commits.webkit.org/263539@main\">263539@main</a>)</li>\n<li>Fixed <code>StorageManager.persist()</code> (<a href=\"https://commits.webkit.org/263930@main\">263930@main</a>)</li>\n<li>Fixed <code>input.validity</code> reporting <code>valid: true</code> for partially completed dates and times (<a href=\"https://commits.webkit.org/263748@main\">263748@main</a>)</li>\n<li>Fixed Compression Streams not handling large outputs during the flush stage (<a href=\"https://commits.webkit.org/263997@main\">263997@main</a>)</li>\n<li>Mapped <code>align=\"abscenter\"</code> to <code>vertical-align: middle</code> (<a href=\"https://commits.webkit.org/263852@main\">263852@main</a>)</li>\n</ul>\n<h3>Media</h3>\n<ul>\n<li>Added support for <code>getDisplayMedia</code> video track clone resizing (<a href=\"https://commits.webkit.org/263750@main\">263750@main</a>)</li>\n<li>Exposed <code>aspectRatio</code> and <code>frameRate</code> in RTCPeerConnection remote MediaStreamTrack settings (<a href=\"https://commits.webkit.org/263849@main\">263849@main</a>)</li>\n<li>Fixed camera and microphone to all have <code>groupIds</code> (<a href=\"https://commits.webkit.org/264112@main\">264112@main</a>)</li>\n</ul>\n<h3>Accessibility</h3>\n<ul>\n<li>Fixed the HTML <code>&lt;menu&gt;</code> element to map to <code>role=list</code> (<a href=\"https://commits.webkit.org/264077@main\">264077@main</a>)</li>\n<li>Fixed <code>aria-describedby</code> to be equivalent to <code>aria-description</code> and override it when both are present (<a href=\"https://commits.webkit.org/263813@main\">263813@main</a>)</li>\n<li>Fixed slot elements not computing a label for <code>aria-labelledby</code> (<a href=\"https://commits.webkit.org/263644@main\">263644@main</a>)</li>\n<li>Fixed slotted elements inside <code>&lt;dialog&gt;</code> and <code>aria-modal</code> not being accessible (<a href=\"https://commits.webkit.org/263561@main\">263561@main</a>)</li>\n</ul>\n<h3>SVG</h3>\n<ul>\n<li>Fixed <code>&lt;marker orient=\"-1\"&gt;</code> to orient correctly (<a href=\"https://commits.webkit.org/264053@main\">264053@main</a>)</li>\n<li>Fixed <code>overflow=\"visible\"</code> having no effect on the dimension of a <code>use</code> element unless its dimensions are specified (<a href=\"https://commits.webkit.org/263977@main\">263977@main</a>)</li>\n</ul>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"05d840e76d0a9337cc2d6f54a7c0429856ded8db41bbdc2ac7680f3b06cc6893","category":"Tech"}