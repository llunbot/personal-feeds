{"title":"Knowledge Bases for Amazon Bedrock now supports additional data connectors (in preview)","link":"https://aws.amazon.com/blogs/aws/knowledge-bases-for-amazon-bedrock-now-supports-additional-data-connectors-in-preview/","date":1720626191000,"content":"<p>Using <a href=\"https://aws.amazon.com/bedrock/knowledge-bases/\">Knowledge Bases for Amazon Bedrock</a>, foundation models (FMs) and agents can retrieve contextual information from your company’s private data sources for Retrieval Augmented Generation (RAG). RAG helps FMs deliver more relevant, accurate, and customized responses.</p> \n<p>Over the past months, we’ve continuously added choices of embedding models, vector stores, and FMs to Knowledge Bases.</p> \n<p>Today, I’m excited to share that in addition to <a href=\"https://aws.amazon.com/s3/\">Amazon Simple Storage Service (Amazon S3)</a>, you can now connect your web domains, Confluence, Salesforce, and SharePoint as data sources to your RAG applications (in preview).</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/07/10/screenshot-connectors-20240710-1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/07/10/screenshot-connectors-20240710-1.png\" alt=\"Select Web Crawler as data source\" width=\"1420\" height=\"1638\" /></a></p> \n<p><strong><u>New data source connectors for web domains, Confluence, Salesforce, and SharePoint<br /> </u></strong>By including your web domains, you can give your RAG applications access to your public data, such as your company’s social media feeds, to enhance the relevance, timeliness, and comprehensiveness of responses to user inputs. Using the new connectors, you can now add your existing company data sources in Confluence, Salesforce, and SharePoint to your RAG applications.</p> \n<p>Let me show you how this works. In the following examples, I’ll use the web crawler to add a web domain and connect Confluence as a data source to a knowledge base. Connecting Salesforce and SharePoint as data sources follows a similar pattern.</p> \n<p><strong><u>Add a web domain as a data source<br /> </u></strong>To give it a try, navigate to the <a href=\"https://console.aws.amazon.com/bedrock/home\">Amazon Bedrock console</a> and create a knowledge base. Provide the knowledge base details, including name and description, and create a new or use an existing service role with the relevant <a href=\"https://aws.amazon.com/iam/\">AWS Identity and Access Management (IAM)</a> permissions.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/20/2024-kb-connectors-02.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/20/2024-kb-connectors-02.png\" alt=\"Create knowledge base\" width=\"1156\" height=\"873\" /></a></p> \n<p>Then, choose the data source you want to use. I select <strong>Web Crawler</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/07/10/screenshot-connectors-20240710-2.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/07/10/screenshot-connectors-20240710-2.png\" alt=\"Connect additional data sources with Knowledge Bases for Amazon Bedrock\" width=\"1438\" height=\"1632\" /></a></p> \n<p>In the next step, I configure the web crawler. I enter a name and description for the web crawler data source. Then, I define the source URLs. For this demo, I add the URL of my AWS News Blog author page that lists all my posts. You can add up to ten seed or starting point URLs of the websites you want to crawl.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/20/2024-kb-connectors-04.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/20/2024-kb-connectors-04.png\" alt=\"Configure Web Crawler as data source\" width=\"1154\" height=\"932\" /></a></p> \n<p>Optionally, you can configure custom encryption settings and the data deletion policy that defines whether the vector store data will be retained or deleted when the data source is deleted. I keep the default advanced settings.</p> \n<p>In the sync scope section, you can configure the level of sync domains you want to use, the maximum number of URLs to crawl per minute, and regular expression patterns to include or exclude certain URLs.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/28/2024-bedrock-kb-connectors-webcrawler-sync.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/28/2024-bedrock-kb-connectors-webcrawler-sync.png\" alt=\"Define sync scope\" width=\"1165\" height=\"939\" /></a></p> \n<p>After you’re done with the web crawler data source configuration, complete the knowledge base setup by selecting an embeddings model and configuring your vector store of choice. You can check the knowledge base details after creation to monitor the data source sync status. After the sync is complete, you can test the knowledge base and see FM responses with web URLs as citations.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/28/2024-bedrock-kb-connectors-webcrawler-retrieval.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/28/2024-bedrock-kb-connectors-webcrawler-retrieval.png\" alt=\"Test your knowledge base\" width=\"1316\" height=\"924\" /></a></p> \n<p>To create data sources programmatically, you can use the <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (AWS CLI)</a> or <a href=\"https://aws.amazon.com/developer/tools/\">AWS SDKs</a>. For code examples, check out the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/service_code_examples.html\">Amazon Bedrock User Guide</a>.</p> \n<p><strong><u>Connect Confluence as a data source<br /> </u></strong>Now, let’s select Confluence as a data source in the knowledge base setup.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/07/10/screenshot-connectors-20240710-1-1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/07/10/screenshot-connectors-20240710-1-1.png\" alt=\"Connect Confluence as a data source with Knowledge Bases for Amazon Bedrock\" width=\"800\" height=\"923\" /></a></p> \n<p>To configure Confluence as a data source, I provide a name and description for the data source again, and choose the hosting method, and enter the Confluence URL.</p> \n<p>To connect to Confluence, you can choose between base and OAuth 2.0 authentication. For this demo, I choose <strong>Base authentication</strong>, which expects a user name (your Confluence user account email address) and password (Confluence API token). I store the relevant credentials in <a href=\"https://aws.amazon.com/secrets-manager/\">AWS Secrets Manager</a> and choose the secret.</p> \n<p><strong>Note</strong>: Make sure that the secret name starts with “AmazonBedrock-” and your IAM service role for Knowledge Bases has permissions to access this secret in Secrets Manager.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/29/2024-bedrock-kb-connectors-confluence-setup.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/29/2024-bedrock-kb-connectors-confluence-setup.png\" alt=\"Configure Confluence as a data source\" width=\"1117\" height=\"1146\" /></a></p> \n<p>In the metadata settings, you can control the scope of content you want to crawl using regular expression include and exclude patterns and configure the content chunking and parsing strategy.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/29/2024-bedrock-kb-connectors-confluence-metadata.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/29/2024-bedrock-kb-connectors-confluence-metadata.png\" alt=\"Configure Confluence as a data source\" width=\"1102\" height=\"800\" /></a></p> \n<p>After you’re done with the Confluence data source configuration, complete the knowledge base setup by selecting an embeddings model and configuring your vector store of choice.</p> \n<p>You can check the knowledge base details after creation to monitor the data source sync status. After the sync is complete, you can test the knowledge base. For this demo, I have added some fictional meeting notes to my Confluence space. Let’s ask about the action items from one of the meetings!</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/29/2024-bedrock-kb-connectors-confluence-retrieval.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/06/29/2024-bedrock-kb-connectors-confluence-retrieval.png\" alt=\"Confluence as a data source for Knowledge Bases\" width=\"1569\" height=\"971\" /></a></p> \n<p>For instructions on how to connect Salesforce and SharePoint as a data source, check out the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base.html\">Amazon Bedrock User Guide</a>.</p> \n<p><strong><u>Things to know</u></strong></p> \n<ul> \n <li><strong>Inclusion and exclusion filters –</strong> All data sources support inclusion and exclusion filters so you can have granular control over what data is crawled from a given source.</li> \n <li><strong>Web Crawler –</strong> Remember that you must only use the web crawler on your own web pages or web pages that you have authorization to crawl.</li> \n</ul> \n<p><strong><u>Now available<br /> </u></strong>The new data source connectors are available today in all AWS Regions where Knowledge Bases for Amazon Bedrock is available. Check the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/knowledge-base-supported.html\">Region list</a> for details and future updates. To learn more about Knowledge Bases, visit the <a href=\"https://aws.amazon.com/bedrock/knowledge-bases/\">Amazon Bedrock product page</a>. For pricing details, review the <a href=\"https://aws.amazon.com/bedrock/pricing/\">Amazon Bedrock pricing page</a>.</p> \n<p>Give the new data source connectors a try in the <a href=\"https://console.aws.amazon.com/bedrock\">Amazon Bedrock console</a> today, send feedback to <a href=\"https://repost.aws/tags/TAQeKlaPaNRQ2tWB6P7KrMag/amazon-bedrock\">AWS re:Post for Amazon Bedrock</a> or through your usual AWS contacts, and engage with the generative AI builder community at <a href=\"https://community.aws/generative-ai?trk=4a84f0b4-a654-4729-9e51-6d6dc54134f2&amp;sc_channel=el\">community.aws</a>.</p> \n<p>— <a href=\"https://www.linkedin.com/in/antje-barth/\" target=\"_blank\">Antje</a></p>","author":"Antje Barth","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"63947d8644918ef22f561e0f0d5b5b0b7f75d0a5865429976ff10de83a92aef9","category":"Tech"}