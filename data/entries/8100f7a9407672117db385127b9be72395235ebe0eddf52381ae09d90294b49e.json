{"title":"Spring Boot 3.4 :: MockBean และ SpyBean ถูก deprecated แล้วนะ เปลี่ยนได้แล้ว","link":"https://www.somkiat.cc/spring-boot-deprecated-mockbean-and-spybean/","date":1723445987000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/08/spring-bbot-deprecated-01-150x150.jpg\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/08/spring-bbot-deprecated-01-150x150.jpg 150w, https://www.somkiat.cc/wp-content/uploads/2024/08/spring-bbot-deprecated-01-75x75.jpg 75w\" /></p>\n<p>ใน Spring Boot 3.4 ที่กำลังจะออกมานั้น<br />ทำการแจ้ง <strong><a href=\"https://github.com/spring-projects/spring-boot/issues/39860\" target=\"_blank\">deprecated @MockBean และ @SpyBean</a></strong> แล้ว<br />ซึ่งมาจากการเปลี่ยนแปลงของ Spring framework 6.2 นั่นเอง<br />นั่นหมายความว่าใน version  ต่อไปจากนี้จะมีการลบออกไป<br />ดังนั้นนักพัฒนาระบบงานด้วย Spring Boot และเขียน Test ด้วย<br />ต้องเตรียมรับมือกับการเปลี่ยนแปลงครั้งนี้เช่นกัน</p>\n\n\n\n<span></span>\n\n\n\n<p>การแจ้งเตือนใน IntelliJ IDEA เป็นดังนี้</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/08/spring-bbot-deprecated-01.jpg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/08/spring-bbot-deprecated-01.jpg\" width=\"670\" height=\"328\" /></a></figure>\n\n\n\n<p><strong>โดยการเปลี่ยนแปลงนี้ สามารถใช้งานของใหม่ได้ดังนี้</strong></p>\n\n\n\n<p>ในการทดสอบด้วย SpringBootTest <br />สามารถจำลองด้วย @MockitoBean และ @MockitoSpyBean ได้เลย <br />มาจากเทคนิค <a href=\"https://spring.io/blog/2024/04/16/spring-framework-6-2-0-m1-overriding-beans-in-tests\" target=\"_blank\">override bean ใน test</a> นั่นเอง <br /><br />ถ้าในการทำ unit test สามารถใช้ผ่าน @TestBean ได้เลย <br />เป็นการเปลี่ยนแปลงใหม่ใน Spring framework 6.2<br />ช่วยให้สามารถ override bean ต่าง ๆ ได้ง่ายขึ้น<br />และไม่ผูกติดกับ library ใด ๆ เช่น Mockito เป็นต้น</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"8100f7a9407672117db385127b9be72395235ebe0eddf52381ae09d90294b49e","category":"Thai"}