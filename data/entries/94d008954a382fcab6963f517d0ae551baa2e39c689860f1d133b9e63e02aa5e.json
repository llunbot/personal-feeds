{"title":"Make creative borders with background-clip border-area","link":"https://webkit.org/blog/16214/background-clip-border-area/","date":1732114815000,"content":"<p>How’d you like to use CSS to easily create a border from an image or gradient? Like this…</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/gradient-button.png\" alt=\"A large button with the words &quot;Let's go&quot;. There's a thick border on the button. The border plus the test are filled with a gradient — fading from green to teal to purple to magenta.\" width=\"2560\" height=\"1440\" srcset=\"https://webkit.org/wp-content/uploads/gradient-button.png 2560w, https://webkit.org/wp-content/uploads/gradient-button-300x169.png 300w, https://webkit.org/wp-content/uploads/gradient-button-1024x576.png 1024w, https://webkit.org/wp-content/uploads/gradient-button-768x432.png 768w, https://webkit.org/wp-content/uploads/gradient-button-1536x864.png 1536w, https://webkit.org/wp-content/uploads/gradient-button-2048x1152.png 2048w\" /></figure>\n<p>For years, we’ve had the ability to create a border using <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/border-image\"><code>border-image</code></a> — where an image gets sliced up into nine pieces and reassembled to separately construct the corners and sides of a box. Now with  <code>background-clip: border-area</code>, we can instead apply a background image to a border. It can simply fill the whole border in one piece.</p>\n<p><a href=\"https://caniuse.com/mdn-css_properties_background-clip_border-area\">Support</a> for <code>background-clip: border-area</code> is available today in <a href=\"https://developer.apple.com/safari/resources/\">Safari Technology Preview</a> and in Safari 18.2 beta.</p>\n<h3>Walking through a basic example</h3>\n<p>Here’s how it works. First, we’ll create a basic header in HTML, and use typical CSS to style our headline and page.</p>\n<pre><code><span>&lt;<span>header</span>&gt;</span>\n  <span>&lt;<span>h1</span>&gt;</span>Woodworking<span>&lt;/<span>h1</span>&gt;</span>\n<span>&lt;/<span>header</span>&gt;</span>\n</code></pre>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/woodworking-step-1.png\" alt=\"The word &quot;woodworking&quot; in brown, centered on the page.\" width=\"996\" height=\"554\" srcset=\"https://webkit.org/wp-content/uploads/woodworking-step-1.png 996w, https://webkit.org/wp-content/uploads/woodworking-step-1-300x167.png 300w, https://webkit.org/wp-content/uploads/woodworking-step-1-768x427.png 768w\" /></figure>\n<p>Now, let’s add a border to the <code>&lt;header&gt;</code> box.</p>\n<pre><code><span>header</span> {\n  <span>border-width</span>: <span>30px</span>;\n  <span>border-style</span>: <span>solid</span>;\n}\n</code></pre>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/woodworking-step-2.png\" alt=\"The same word, &quot;woodworking&quot; — now with a thick border drawn around the word.\" width=\"996\" height=\"554\" srcset=\"https://webkit.org/wp-content/uploads/woodworking-step-2.png 996w, https://webkit.org/wp-content/uploads/woodworking-step-2-300x167.png 300w, https://webkit.org/wp-content/uploads/woodworking-step-2-768x427.png 768w\" /><figcaption>Since we only specified width and style for our border, the color is still set to its initial value — `border-color:currentColor`. This makes it the same color as the text, in this case, `#69341e` brown.</figcaption></figure>\n<p>Next, we’ll add a background image to the box.</p>\n<pre><code><span>header</span> {\n  <span>background-image</span>: <span>url(\"wooden-table.jpg\")</span>;\n  <span>background-size</span>: <span>cover</span>;\n  <span>background-origin</span>: <span>border-box</span>;\n}\n</code></pre>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/woodworking-step-3.png\" alt=\"The same box, now with a photo of wood behind the word, filling the box. The text is basically unreadable, brown on brown.\" width=\"996\" height=\"554\" srcset=\"https://webkit.org/wp-content/uploads/woodworking-step-3.png 996w, https://webkit.org/wp-content/uploads/woodworking-step-3-300x167.png 300w, https://webkit.org/wp-content/uploads/woodworking-step-3-768x427.png 768w\" /></figure>\n<p>By applying <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-size\"><code>background-size: cover</code></a> we tell the browser to resize the image so it fills the whole box, while maintaining its natural aspect ratio. It “covers” the box, leaving no empty space, cropping off extra in one direction if necessary.</p>\n<p>We also must remember to apply <a href=\"https://developer.mozilla.org/docs/Web/CSS/background-origin\"><code>background-origin: border-box</code></a> to make the background image extend fully to the outer edge of the border, instead of only extending to the edges of the padding box and repeating. If we forget this step, we’ll get unexpected buggy-looking results. (For more about why, see the <a href=\"https://webkit.org/blog/16214/get-creative-with-fancy-borders/#:~:text=background%2Dorigin:%20padding%2Dbox%20vs%20border%20box\">explanation at the end of this article</a>.)</p>\n<p>Now, to get the effect we want, we’ll do two things — 1) make the border transparent so we can see the background image underneath the border, and 2) clip the background to <em>only</em> appear in the area defined by the border, and not inside the padding or content boxes.</p>\n<pre><code><span>header</span> {\n  <span>border-color</span>: <span>transparent</span>;\n  <span>background-clip</span>: <span>border-area</span>;\n}\n</code></pre>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/woodworking-step-4.png\" alt=\"The same box, but now the photo of wood makes up the border. The text is now readable, seen on the original background color. \" width=\"996\" height=\"554\" srcset=\"https://webkit.org/wp-content/uploads/woodworking-step-4.png 996w, https://webkit.org/wp-content/uploads/woodworking-step-4-300x167.png 300w, https://webkit.org/wp-content/uploads/woodworking-step-4-768x427.png 768w\" /><figcaption>Try <a href=\"https://codepen.io/jensimmons/pen/rNXZvQG/6395513c7333e8412eeca7e9ea5abae7?editors=1100\">this demo</a> in Safari Technology Preview.</figcaption></figure>\n<p>Fantastic! We created a border out of a whole image! Let’s put together all the code for this effect:</p>\n<pre><code><span>header</span> {\n  <span>border-width</span>: <span>30px</span> <span>solid</span> <span>transparent</span>;\n  <span>background-image</span>: <span>url(\"wooden-table.jpg\")</span>;\n  <span>background-size</span>: <span>cover</span>;\n  <span>background-origin</span>: <span>border-box</span>;\n  <span>background-clip</span>: <span>border-area</span>;\n}\n</code></pre>\n<h3>Many possibilities</h3>\n<p>We can further control the background’s size, repeat, and position by using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/background#constituent_properties\">background properties</a>. And we can create many different kinds of backgrounds using <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-image\">background-image</a> — with image files, linear gradients or radial gradients.</p>\n<p>This also works with any kind of border. With <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/border-style\">border-style</a> we can change the type of border to dotted, dashed, double, or more. Of course, we can change the thickness with <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/border-width\">border-width</a> and use <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius\">border-radius</a> to round the corners. We can define borders on just certain sides of the box — anything possible today with borders works with this technique.</p>\n<p>Plus, with the ability to add multiple backgrounds to a box, you can also include a background for the content or padding box, clip the background to the text, and more. Let’s dig into the possibilities with more examples.</p>\n<h3>Gradient border for an illustration</h3>\n<p>We can put a fancy border on an illustration while using padding to add a bit of extra space between the content and the border.</p>\n<pre><code><span>&lt;<span>figure</span>&gt;</span>\n  <span>&lt;<span>img</span> <span>src</span>=<span>\"illustration.png\"</span> <span>alt</span>=<span>\"[include alt text]\"</span>&gt;</span>\n<span>&lt;/<span>figure</span>&gt;</span>\n</code></pre>\n<p>Let’s apply a gradient background to the <code>figure</code>, and remember to use <code>background-origin: border-box</code> to make the background extend behind the border. We’ll add a 30px wide transparent border. And clip the background to the border to create the magic.</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/gradient-border-illustration.png\" alt=\"Illustration of abstract shapes with a thick border that fades from orange to red, top to bottom.\" width=\"2560\" height=\"1440\" srcset=\"https://webkit.org/wp-content/uploads/gradient-border-illustration.png 2560w, https://webkit.org/wp-content/uploads/gradient-border-illustration-300x169.png 300w, https://webkit.org/wp-content/uploads/gradient-border-illustration-1024x576.png 1024w, https://webkit.org/wp-content/uploads/gradient-border-illustration-768x432.png 768w, https://webkit.org/wp-content/uploads/gradient-border-illustration-1536x864.png 1536w, https://webkit.org/wp-content/uploads/gradient-border-illustration-2048x1152.png 2048w\" /><figcaption>Try <a href=\"https://codepen.io/jensimmons/pen/PoMBrad/7507537897f6ab033d213c62ecef2270?editors=1100\">this demo</a> in Safari Technology Preview.</figcaption></figure>\n<pre><code><span>@supports</span> (<span>background-clip</span>: <span>border-area</span>) {\n  <span>figure</span> {\n    <span>background-image</span>: <span>linear-gradient</span>(<span>in</span> <span>hsl</span>, <span>#dc9323</span>, <span>#7f416a</span>);\n    <span>background-origin</span>: <span>border-box</span>;\n    <span>border</span>: <span>30px</span> <span>solid</span> <span>transparent</span>; \n    <span>background-clip</span>: <span>border-area</span>;\n    <span>padding</span>: <span>6px</span>;\n  }\n}\n</code></pre>\n<p>We can put all the styles for the border in a Feature Query to ensure they only apply when <code>background-clip: border-area</code> is supported by the browser. If it’s not supported, there won’t be a border. Or, if we’d like, we can provide a solid-color border for browsers without support.</p>\n<pre><code><span>@supports</span> <span>not</span> (<span>background-clip</span>: <span>border-area</span>) {\n  <span>figure</span> {\n    <span>border</span>: <span>30px</span> <span>solid</span> <span>#a8363d</span>;\n    <span>padding</span>: <span>6px</span>;\n  }\n}\n</code></pre>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/gradient-border-illustration-fallback-1.png\" alt=\"Same illustration with same thick border — but this time, solid red, not a gradient border\" width=\"996\" height=\"1320\" srcset=\"https://webkit.org/wp-content/uploads/gradient-border-illustration-fallback-1.png 996w, https://webkit.org/wp-content/uploads/gradient-border-illustration-fallback-1-226x300.png 226w, https://webkit.org/wp-content/uploads/gradient-border-illustration-fallback-1-773x1024.png 773w, https://webkit.org/wp-content/uploads/gradient-border-illustration-fallback-1-768x1018.png 768w\" /></figure>\n<p>This is the kind of graphic design feature that can easily be applied today as a progressive enhancement — one that takes effect in browsers with support, with a fallback for those that don’t.</p>\n<h3>Gradient button border and text</h3>\n<p>So how do we code the demo from the beginning of this article? In the future, it might just be the most-popular use case for <code>background-clip: border-area</code>.</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/gradient-button.png\" alt=\"A large button with the words &quot;Let's go&quot;. There's a thick border on the button. The border plus the test are filled with a gradient — fading from green to teal to purple to magenta.\" width=\"2560\" height=\"1440\" srcset=\"https://webkit.org/wp-content/uploads/gradient-button.png 2560w, https://webkit.org/wp-content/uploads/gradient-button-300x169.png 300w, https://webkit.org/wp-content/uploads/gradient-button-1024x576.png 1024w, https://webkit.org/wp-content/uploads/gradient-button-768x432.png 768w, https://webkit.org/wp-content/uploads/gradient-button-1536x864.png 1536w, https://webkit.org/wp-content/uploads/gradient-button-2048x1152.png 2048w\" /><figcaption>Try <a href=\"https://codepen.io/jensimmons/pen/XWvBOVO/1ad28d1e67a5f8aacf48e4ca937bf998?editors=1100\">this demo</a> in Safari Technology Preview.</figcaption></figure>\n<p>The border is filled with a linear gradient background “image”, using the same technique described above. If that’s all we wanted to do, we would use this code:</p>\n<pre><code><span>button</span> {\n  <span>border</span>: <span>10px</span> <span>solid</span> <span>transparent</span>;\n  <span>background-image</span>: <span>linear-gradient</span>(<span>to</span> <span>bottom</span> <span>right</span> <span>in</span> <span>hsl</span>, <span>green</span>, <span>purple</span>);\n  <span>background-origin</span>: <span>border-box</span>;\n  <span>background-clip</span>: <span>border-area</span>;\n}\n</code></pre>\n<p>But the border isn’t the only thing that has a background gradient. The text does as well. To accomplish this, we’ll define the linear-gradient background <em>twice</em> on the <code>button</code> — once to be the background of the border, and again to be the background of the text. And we’ll define two values for <code>background-clip</code> — once to tell the browser to clip the first background to the <code>border-area</code>, and again to clip the second background to the <code>text</code>.</p>\n<pre><code><span>button</span> {\n  <span>background-image</span>: <span>linear-gradient</span>(<span>to</span> <span>bottom</span> <span>right</span> <span>in</span> <span>hsl</span>, <span>green</span>, <span>purple</span>), \n                    <span>linear-gradient</span>(<span>to</span> <span>bottom</span> <span>right</span> <span>in</span> <span>hsl</span>, <span>green</span>, <span>purple</span>);\n  <span>background-clip</span>:  <span>border-area</span>, \n                    <span>text</span>;\n}\n</code></pre>\n<p>We also need to set our text <code>color</code> to transparent, just like how we set the border color to transparent — making both the text and border “invisible”, so their backgrounds can shine through.</p>\n<p>Here’s everything put together:</p>\n<pre><code><span>button</span> {\n  <span>color</span>: <span>transparent</span>;\n  <span>border</span>: <span>10px</span> <span>solid</span> <span>transparent</span>;\n  <span>border-radius</span>: <span>100px</span>;\n  <span>background-image</span>:  <span>linear-gradient</span>(<span>to</span> <span>bottom</span> <span>right</span> <span>in</span> <span>hsl</span>, <span>green</span>, <span>purple</span>), \n                     <span>linear-gradient</span>(<span>to</span> <span>bottom</span> <span>right</span> <span>in</span> <span>hsl</span>, <span>green</span>, <span>purple</span>);\n  <span>background-origin</span>: <span>border-box</span>;\n  <span>background-clip</span>:   <span>border-area</span>, \n                     <span>text</span>;\n}\n</code></pre>\n<p>You can also <a href=\"https://codepen.io/jensimmons/pen/XWvBOVO?editors=1100\">see the full demo</a> to dig into how we used Feature Queries to structure fallbacks for browsers without support.</p>\n<h3>background-clip: text</h3>\n<p>Oh, did you not know you can use <code>background-clip</code> to fill text with a background image or gradient? This ability was <a href=\"https://webkit.org/blog/164/background-clip-text/\">first invented</a> by the folks at Apple and shipped in Safari 3.2 in 2008 (and later forked into Blink). After it was <a href=\"https://drafts.csswg.org/css-backgrounds-4/#background-clip\">drafted</a> at the CSS Working Group, it was unprefixed in Safari 5 in 2010, added to Firefox in 2016, unprefixed in Chrome/Edge 120 in December 2023, and unprefixed in Samsung Internet in May 2024.</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/fallcolors-light.png\" alt=\"The words &quot;fall colors&quot; in large print, where each letter is filled with part of a photograph of fall leaves.\" width=\"2608\" height=\"918\" srcset=\"https://webkit.org/wp-content/uploads/fallcolors-light.png 2608w, https://webkit.org/wp-content/uploads/fallcolors-light-300x106.png 300w, https://webkit.org/wp-content/uploads/fallcolors-light-1024x360.png 1024w, https://webkit.org/wp-content/uploads/fallcolors-light-768x270.png 768w, https://webkit.org/wp-content/uploads/fallcolors-light-1536x541.png 1536w, https://webkit.org/wp-content/uploads/fallcolors-light-2048x721.png 2048w\" /><figcaption>Try <a href=\"https://codepen.io/jensimmons/pen/XWvxoaj?editors=1100\">this demo</a> in Safari Technology Preview.</figcaption></figure>\n<p>The idea is just the same. Put a background on the box. Clip that background to fill only where the text lives. And make the background visible by making the text itself transparent.</p>\n<p>Since there are still browsers without <a href=\"https://caniuse.com/background-clip-text\">support</a> for the unprefixed version, it’s important to include the prefixed version and/or wrap this code in a feature query — otherwise if <code>background-clip: text</code> is not supported when <code>color: transparent</code> is applied, the text will become completely invisible.</p>\n<pre><code><span>@supports</span> (<span>background-clip</span>: <span>text</span>) <span>or</span> (<span>-webkit-background-clip</span>: <span>text</span>) {\n  <span>h1</span> {\n    <span>background-image</span>: <span>url('leaves.png')</span>;\n    <span>background-size</span>: <span>cover</span>;\n    <span>background-position</span>: <span>center</span>;\n    <span>-webkit-background-clip</span>: <span>text</span>; <span>/* to support Blink browsers */</span>\n    <span>background-clip</span>: <span>text</span>;\n    <span>color</span>: <span>transparent</span>;\n  }\n}\n</code></pre>\n<p>With care, however, there are amazing things that you can do with <code>background-clip: text</code>.</p>\n<h3>Future changes coming</h3>\n<p>By the way, the CSS Working Group recently <a href=\"https://github.com/w3c/csswg-drafts/issues/10696#issuecomment-2461103750\">resolved</a> to make it possible to clip a single background layer to both the border and the text at the same time (by specifying both clip values together, e.g. <code>border-area text</code>), so in the future you won’t have to declare their shared background twice.</p>\n<p>And last week, the CSS Working Group <a href=\"https://github.com/w3c/csswg-drafts/issues/11167\">resolved</a> to automatically default <code>background-origin</code> to <code>border-box</code> anytime <code>background-clip: border-area</code> is used in the <code>background</code> shorthand.</p>\n<p>These two changes mean that <em>in the future</em> instead of writing:</p>\n<pre><code><span>button</span> {\n  <span>background-image</span>:  <span>linear-gradient</span>(<span>to</span> <span>bottom</span> <span>right</span> <span>in</span> <span>hsl</span>, <span>green</span>, <span>purple</span>), \n                     <span>linear-gradient</span>(<span>to</span> <span>bottom</span> <span>right</span> <span>in</span> <span>hsl</span>, <span>green</span>, <span>purple</span>);\n  <span>background-origin</span>: <span>border-box</span>;\n  <span>background-clip</span>:   <span>border-area</span>, \n                     <span>text</span>;\n}\n</code></pre>\n<p>You will be able to combine all the background values into a single rule, like this. Notice you don’t have to bother with <code>background-origin</code>.</p>\n<pre><code><span>button</span> {\n  <span>background</span>: <span>border-area</span> <span>text</span> <span>linear-gradient</span>(<span>to</span> <span>bottom</span> <span>right</span> <span>in</span> <span>hsl</span>, <span>green</span>, <span>purple</span>);\n}\n</code></pre>\n<p>There’s also <a href=\"https://github.com/w3c/csswg-drafts/issues/10907\">discussion happening</a> at the CSSWG about possibly changing the initial value of <code>border-color</code> to not always be <code>currentColor</code>, but to instead look for the presence of <code>background-clip: border-area</code> and in that case, automatically set <code>color</code> to <code>transparent</code> instead. That would save you from forgetting to do so.</p>\n<p>None of these changes will be make it into Safari 18.2 beta. Keep an eye on the <a href=\"https://webkit.org/blog/category/safari-technology-preview/\">Safari Technology Preview release notes</a> and test it out. Meanwhile, declaring the intended result for both <code>color</code> &amp; <code>background-origin</code> and specifying the same background multiple times for multiple clips is the way to ensure the results you want.</p>\n<h3>Warning sign</h3>\n<p>Let’s see what we can make if we just put the border on two sides of a box, not all four. Gradients can have hard stops, allowing us to make stripes…</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/warning-sign.png\" alt=\"Bright yellow warning sign — with bright red diagonal stripes across the top and bottom.\" width=\"2560\" height=\"1440\" srcset=\"https://webkit.org/wp-content/uploads/warning-sign.png 2560w, https://webkit.org/wp-content/uploads/warning-sign-300x169.png 300w, https://webkit.org/wp-content/uploads/warning-sign-1024x576.png 1024w, https://webkit.org/wp-content/uploads/warning-sign-768x432.png 768w, https://webkit.org/wp-content/uploads/warning-sign-1536x864.png 1536w, https://webkit.org/wp-content/uploads/warning-sign-2048x1152.png 2048w\" /><figcaption>Try <a href=\"https://codepen.io/jensimmons/pen/wvVxZZW/84cbb3bd1d66e7388e211509e8b52d9f?editors=1100\">this demo</a> in Safari Technology Preview.</figcaption></figure>\n<pre><code><span>.stripes</span> {\n  <span>border</span>: <span>0px</span> <span>solid</span> <span>transparent</span>;\n  <span>border-block-width</span>: <span>0.5</span><span>lh</span>;\n  <span>background-clip</span>: <span>border-area</span>, <span>border-box</span>;\n  <span>background-image</span>: \n    <span>repeating-linear-gradient</span>(\n      <span>45deg</span>, \n      <span>transparent</span>, \n      <span>transparent</span> <span>15px</span>, \n      <span>red</span> <span>15px</span>, \n      <span>red</span> <span>30px</span>), \n      <span>none</span>;\n  <span>background-origin</span>: <span>border-box</span>;\n}\n</code></pre>\n<h3>Photo with photographic double border</h3>\n<p>Let’s use a photograph for the background of the border — the same image as the content, along with padding and a double border.</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/bird-photo.jpg\" alt=\"Photo of a hummingbird, on a green background — with two borders around it... The borders are filled with the same photo, extending its content into the border.\" width=\"2560\" height=\"1440\" srcset=\"https://webkit.org/wp-content/uploads/bird-photo.jpg 2560w, https://webkit.org/wp-content/uploads/bird-photo-300x169.jpg 300w, https://webkit.org/wp-content/uploads/bird-photo-1024x576.jpg 1024w, https://webkit.org/wp-content/uploads/bird-photo-768x432.jpg 768w, https://webkit.org/wp-content/uploads/bird-photo-1536x864.jpg 1536w, https://webkit.org/wp-content/uploads/bird-photo-2048x1152.jpg 2048w\" /><figcaption>Try <a href=\"https://codepen.io/jensimmons/pen/poMZXRB/85b2fa12586be1c89157de2e3aaa716e?editors=1100\">this demo</a> in Safari Technology Preview.</figcaption></figure>\n<pre><code><span>figure</span> {\n  <span>border</span>: <span>21px</span> <span>double</span> <span>transparent</span>;\n  <span>background-clip</span>: <span>border-area</span>;\n  <span>background-origin</span>: <span>border-box</span>;\n  <span>background-size</span>: <span>cover</span>;\n  <span>background-image</span>: <span>url('bird.jxl')</span>;\n}\n</code></pre>\n<h3>Using borders as rings to display data</h3>\n<p>We can also use a border on a round box (also known as a circle) to create a progress ring. A conic gradient with hard stops can illustrate how much progress has been made.</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/stepcount-light.png\" alt=\"A step counter graphic — &quot;reached 8426 steps&quot; in text in the center, surrounded by a circular progress bar, filled 84%.\" width=\"1674\" height=\"1320\" srcset=\"https://webkit.org/wp-content/uploads/stepcount-light.png 1674w, https://webkit.org/wp-content/uploads/stepcount-light-300x237.png 300w, https://webkit.org/wp-content/uploads/stepcount-light-1024x807.png 1024w, https://webkit.org/wp-content/uploads/stepcount-light-768x606.png 768w, https://webkit.org/wp-content/uploads/stepcount-light-1536x1211.png 1536w\" /><figcaption>Try <a href=\"https://codepen.io/jensimmons/pen/OJKBmyP?editors=1100\">this demo</a> in Safari Technology Preview.</figcaption></figure>\n<pre><code><span>&lt;<span>figure</span> <span>style</span>=<span>\"--percent:84%\"</span>&gt;</span>\n  Reached <span>&lt;<span>span</span>&gt;</span>8,426<span>&lt;/<span>span</span>&gt;</span> steps\n<span>&lt;/<span>figure</span>&gt;</span>\n</code></pre>\n<pre><code><span>@property</span> <span>--start</span> {\n  <span>syntax</span>: <span>\"&lt;angle&gt;\"</span>;\n  <span>inherits</span>: <span>false</span>;\n  <span>initial-value</span>: <span>0deg</span>;\n}\n<span>figure</span> {\n  <span>aspect-ratio</span>: <span>1</span>;\n  <span>border-radius</span>: <span>50%</span>;\n  <span>border</span>: <span>5</span><span>rem</span> <span>solid</span> <span>transparent</span>;\n  <span>background-image</span>: <span>conic-gradient</span>(<span>from</span> <span>var</span>(<span>--start</span>), \n                    <span>lightseagreen</span> <span>0</span> <span>var</span>(<span>--percent</span>), \n                    <span>ghostwhite</span> <span>var</span>(<span>--percent</span>) <span>100%</span>);\n  <span>background-origin</span>: <span>border-box</span>;\n  <span>background-clip</span>: <span>border-area</span>;\n}\n</code></pre>\n<p>You can see the full demo on CodePen, along with <a href=\"https://codepen.io/collection/jONBky/9c4e44d1173a73b649b13e50d357072b?grid_type=grid\">all of the demos</a>.</p>\n<p>And, if you’d like, try animating the circular border to have it load dynamically. Or build something similar, with animation, as a loading graphic.</p>\n<h2><strong>background-origin: padding-box vs border box</strong></h2>\n<p>Earlier we described the importance of remembering to include <code>background-origin: border-box</code>. Why? What’s happening?</p>\n<p>By default, <code>background-origin: padding-box</code> makes the background extend to cover the content and its padding, not the space where the border exists. It then repeats the background in each direction, under the border. You’ve probably rarely noticed, because when the border is solid, you can’t see the background behind it.</p>\n<p>Let’s look at this dynamic when the border is dotted.</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/background-or-gin-padding-box-1.png\" width=\"2532\" height=\"1002\" srcset=\"https://webkit.org/wp-content/uploads/background-or-gin-padding-box-1.png 2532w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-1-300x119.png 300w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-1-1024x405.png 1024w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-1-768x304.png 768w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-1-1536x608.png 1536w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-1-2048x810.png 2048w\" /></figure>\n<p>It might seem mysterious why the background is “randomly” completely different colors. But actually, it does make sense. The background is green on the left, and purple on the right. And it’s being repeated. Let’s make the border transparent so it’s clearer how the repeat is working:</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/background-or-gin-padding-box-2.png\" width=\"2532\" height=\"1002\" srcset=\"https://webkit.org/wp-content/uploads/background-or-gin-padding-box-2.png 2532w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-2-300x119.png 300w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-2-1024x405.png 1024w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-2-768x304.png 768w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-2-1536x608.png 1536w, https://webkit.org/wp-content/uploads/background-or-gin-padding-box-2-2048x810.png 2048w\" /></figure>\n<p>If you like this effect, great! But it’s very likely that’s not what you are looking for. When we change <code>background-origin</code> to <code>border-box</code> the background runs from edge to edge of the border-box. And we can create the effect we want to using <code>background-clip: border-area</code>.</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/six-up-scaled.webp\" width=\"2560\" height=\"1708\" srcset=\"https://webkit.org/wp-content/uploads/six-up-scaled.webp 2560w, https://webkit.org/wp-content/uploads/six-up-300x200.webp 300w, https://webkit.org/wp-content/uploads/six-up-1024x683.webp 1024w, https://webkit.org/wp-content/uploads/six-up-768x512.webp 768w, https://webkit.org/wp-content/uploads/six-up-1536x1025.webp 1536w, https://webkit.org/wp-content/uploads/six-up-2048x1367.webp 2048w\" /></figure>\n<p>Arguably the default should have always been <code>background-origin: border-box</code> — especially since the default for <code>background-repeat</code> is <code>repeat</code>, which results an unexpected visual pattern when combined with <code>background-origin: padding-box</code>. Perhaps this is something else to add to the CSSWG <a href=\"https://wiki.csswg.org/ideas/mistakes\">List of Mistakes</a>. Meanwhile, declaring <code>* { background-origin: border-box }</code>  is a change that universal reset stylesheets could offer to every site… although that’s only partially helpful, since anytime you use the <code>background</code> shorthand, <code>background-origin</code> will get reset to its default.</p>\n<p>Bottom line — if you are using <code>background-clip: border-area</code> and are surprised and confused about what’s happening, you probably need to apply <code>background-origin: border-box</code>.</p>\n<h2>Conclusion</h2>\n<p>Simple effects in CSS, like using <code>background-clip</code>, can really help you make a website that’s unique to the project it represents.</p>\n<p>You can see <a href=\"https://codepen.io/collection/jONBky\">all of the demos in one place</a> on CodePen. Try them in <a href=\"https://developer.apple.com/safari/resources/\">Safari Technology Preview</a> or in the <a href=\"https://developer.apple.com/safari/resources/\">beta for Safari 18.2</a>.</p>\n<p>What do you think? What will you use this feature to create? Let us know on Bluesky at <a href=\"https://bsky.app/profile/jensimmons.bsky.social\">@jensimmons.bsky.com</a> or on Mastodon at <a href=\"https://front-end.social/@jensimmons\">@jensimmons@front-end.social</a>. We can’t wait to see what you make.</p>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"94d008954a382fcab6963f517d0ae551baa2e39c689860f1d133b9e63e02aa5e","category":"Tech"}