{"title":"Release Notes for Safari Technology Preview 134","link":"https://webkit.org/blog/12033/release-notes-for-safari-technology-preview-134/","date":1635368371000,"content":"<p><a href=\"https://webkit.org/blog/6017/introducing-safari-technology-preview/\">Safari Technology Preview</a> Release 134 is now <a href=\"https://webkit.org/downloads/\">available for download</a> for macOS Big Sur and betas of macOS Monterey. If you already have Safari Technology Preview installed, you can update in the Software Update pane of System Preferences on macOS.</p>\n<p>This release covers WebKit revisions <a href=\"https://trac.webkit.org/log?stop_rev=282317&amp;rev=284370&amp;limit=2053\">282317-284370</a>.</p>\n<p><strong>Note:</strong> Tab Groups do not sync in this release.</p>\n<h3>Web Inspector</h3>\n<ul>\n<li><strong>Graphics Tab</strong>\n<ul>\n<li>Added showing color space for canvases in the Graphics tab on the overview cards (<a href=\"https://trac.webkit.org/changeset/283572/webkit/\">r283572</a>)</li>\n</ul>\n</li>\n<li><strong>Styles Tab</strong>\n<ul>\n<li>Changed to format style declarations after editing (<a href=\"https://trac.webkit.org/changeset/283723/webkit/\">r283723</a>)</li>\n</ul>\n</li>\n<li><strong>Other</strong>\n<ul>\n<li>Added context menu support for the tab content view (<a href=\"https://trac.webkit.org/changeset/283859/webkit/\">r283859</a>, <a href=\"https://trac.webkit.org/changeset/283921/webkit/\">r283921</a>)</li>\n</ul>\n</li>\n</ul>\n<h3>CSS</h3>\n<ul>\n<li>Unprefixed <code>-webkit-appearance</code> and added support for the <code>auto</code> value (<a href=\"https://trac.webkit.org/changeset/283858/webkit/\">r283858</a>, <a href=\"https://trac.webkit.org/changeset/284098/webkit/\">r284098</a>)</li>\n<li>Added support for the <code>x</code> resolution unit outside of <code>image-set</code> (<a href=\"https://trac.webkit.org/changeset/282396/webkit/\">r282396</a>)</li>\n<li>Added support for <code>text-decoration-skip-ink</code> (<a href=\"https://trac.webkit.org/changeset/282397/webkit/\">r282397</a>)</li>\n<li>Changed to consider <code>overflow-wrap: anywhere</code> when calculating <code>min-content</code> intrinsic sizes (<a href=\"https://trac.webkit.org/changeset/283493/webkit/\">r283493</a>)</li>\n<li>Fixed computed style for <code>transform-origin</code> on SVG boxes (<a href=\"https://trac.webkit.org/changeset/282379/webkit/\">r282379</a>)</li>\n<li>Fixed overflow to be computed with the actual logical bottom in CSS Grid (<a href=\"https://trac.webkit.org/changeset/282463/webkit/\">r282463</a>)</li>\n<li>Fixed RTL for an out of flow child in CSS Grid (<a href=\"https://trac.webkit.org/changeset/282340/webkit/\">r282340</a>)</li>\n<li>Fixed SVG linear gradients getting drawn incorrectly sometimes (<a href=\"https://trac.webkit.org/changeset/282443/webkit/\">r282443</a>)</li>\n<li>Fixed <code>radial-gradient</code> to accept <code>calc()</code> values that combine length and percent (<a href=\"https://trac.webkit.org/changeset/283561/webkit/\">r283561</a>)</li>\n<li>Implemented <code>exp</code>, and <code>log</code> functions in <code>calc</code> functions (<a href=\"https://trac.webkit.org/changeset/282795/webkit/\">r282795</a>)</li>\n<li>Implemented allowing <code>NaN</code>, <code>infinity</code>, and <code>-infinity</code> in <code>calc</code> (<a href=\"https://trac.webkit.org/changeset/283434/webkit/\">r283434</a>)</li>\n<li>Implemented <code>atan</code>, <code>acos</code>, <code>asin</code>, <code>atan2</code> in <code>calc</code> functions (<a href=\"https://trac.webkit.org/changeset/283013/webkit/\">r283013</a>)</li>\n<li>Updated CSS Cascade Layers with recent spec change: unlayered styles are highest priority  (<a href=\"https://trac.webkit.org/changeset/284182/webkit/\">r284182</a>)</li>\n<li>Updated <code>transform-origin</code> to not accept four lengths (<a href=\"https://trac.webkit.org/changeset/282359/webkit/\">r282359</a>)</li>\n</ul>\n<h3>Fonts</h3>\n<ul>\n<li>Enabled font palette support:\n<ul>\n<li>Added parsing support for <code>font-palette-values</code> (<a href=\"https://trac.webkit.org/changeset/282806/webkit/\">r282806</a>)</li>\n<li>Added parsing support for <code>font-palette</code> (<a href=\"https://trac.webkit.org/changeset/282851/webkit/\">r282851</a>)</li>\n<li>Added pushing <code>font-palette-values</code> data into CSSFontSelector (<a href=\"https://trac.webkit.org/changeset/282838/webkit/\">r282838</a>)</li>\n<li>Added support for CSSFontPaletteValuesRule.name (<a href=\"https://trac.webkit.org/changeset/283140/webkit/\">r283140</a>)</li>\n<li>Added Web Inspector support for <code>font-palette</code> (<a href=\"https://trac.webkit.org/changeset/282987/webkit/\">r282987</a>)</li>\n<li>Allowed <code>base-palette</code> can accept <code>\"light\"</code> or <code>\"dark\"</code> (<a href=\"https://trac.webkit.org/changeset/283398/webkit/\">r283398</a>)</li>\n<li>Changed CSSFontPaletteValuesRule to not be map-like (<a href=\"https://trac.webkit.org/changeset/283219/webkit/\">r283219</a>)</li>\n<li>Changed to align with CSS Fonts specification changes (<a href=\"https://trac.webkit.org/changeset/283130/webkit/\">r283130</a>)</li>\n<li>Fixed shadowing of <code>@font-palette-values</code> rules (<a href=\"https://trac.webkit.org/changeset/283756/webkit/\">r283756</a>)</li>\n<li>Handle CSSOM style mutation of <code>font-palette</code> and <code>font-palette-values</code> (<a href=\"https://trac.webkit.org/changeset/283032/webkit/\">r283032</a>, <a href=\"https://trac.webkit.org/changeset/283031/webkit/\">r283031</a>)</li>\n<li>Made negative integers in <code>@font-palette-values</code> invalid (<a href=\"https://trac.webkit.org/changeset/283197/webkit/\">r283197</a>, <a href=\"https://trac.webkit.org/changeset/283540/webkit/\">r283540</a>)</li>\n<li>Made sure empty font families do the right thing for font palettes (<a href=\"https://trac.webkit.org/changeset/283075/webkit/\">r283075</a>)</li>\n<li>Prevented parsing unimplemented font palette features (<a href=\"https://trac.webkit.org/changeset/283752/webkit/\">r283752</a>)</li>\n<li>Removed the <code>\"none\"</code> value from <code>font-palette</code> (<a href=\"https://trac.webkit.org/changeset/283536/webkit/\">r283536</a>)</li>\n<li>Renamed <code>override-color</code> to <code>override-colors</code> (<a href=\"https://trac.webkit.org/changeset/283159/webkit/\">r283159</a>)</li>\n<li>Required <code>font-families</code> inside <code>@font-palette-values</code> to be case insensitive (<a href=\"https://trac.webkit.org/changeset/283794/webkit/\">r283794</a>)</li>\n<li>Required font palette names to start with two hyphens (<a href=\"https://trac.webkit.org/changeset/283221/webkit/\">r283221</a>)</li>\n<li>Stopped parsing context-sensitive colors in <code>override-color</code> (<a href=\"https://trac.webkit.org/changeset/283537/webkit/\">r283537</a>)</li>\n</ul>\n</li>\n<li>Updated the implementation of the CSS Font Loading API to be closer to the spec and other browsers:</li>\n<li>Fixed <code>CSSFontFaceSrcValue.cssText</code> to be quoted consistently with other browsers (<a href=\"https://trac.webkit.org/changeset/282442/webkit/\">r282442</a>)</li>\n</ul>\n<h3>Scrolling</h3>\n<ul>\n<li>Enabled support for ScrollOptionsâ€™ ScrollBehavior and CSS <code>scroll-behavior</code> properties (<a href=\"https://trac.webkit.org/changeset/284029/webkit/\">r284029</a>)</li>\n<li>Moved smooth scroll animations to run on the scrolling thread (<a href=\"https://trac.webkit.org/changeset/283871/webkit/\">r283871</a>)</li>\n<li>Fixed <code>scrollIntoView</code> to not take into account sticky positioning offsets (<a href=\"https://trac.webkit.org/changeset/283546/webkit/\">r283546</a>)</li>\n<li>Fixed properly redrawing a sticky element inside another sticky element on scroll (<a href=\"https://trac.webkit.org/changeset/284084/webkit/\">r284084</a>)</li>\n</ul>\n<h3>Rendering</h3>\n<ul>\n<li>Enabled 2D canvas color space support on Apple platforms (<a href=\"https://trac.webkit.org/changeset/283541/webkit/\">r283541</a>)</li>\n<li>Updated converting an SVG image for canvas <code>drawImage</code> to choose an appropriate color space (<a href=\"https://trac.webkit.org/changeset/283531/webkit/\">r283531</a>)</li>\n</ul>\n<h3>Dialog Element</h3>\n<ul>\n<li>The <code>&lt;dialog&gt;</code> element is now enabled by default (<a href=\"https://trac.webkit.org/changeset/284155/webkit/\">r284155</a>), also including:\n<ul>\n<li>support for the CSS <code>::backdrop</code> pseudo element</li>\n<li>support for the top layer</li>\n<li><code>&lt;form method=\"dialog\"&gt;</code> support</li>\n</ul>\n</li>\n<li>The <code>inert</code> attribute is available for testing behind an experimental flag with the same name</li>\n</ul>\n<h3>WebAssembly</h3>\n<ul>\n<li>Allowed WASM to use up to 4GB (<a href=\"https://trac.webkit.org/changeset/284330/webkit/\">r284330</a>)</li>\n<li>Implemented the WebAssembly exception handling proposal (<a href=\"https://trac.webkit.org/changeset/283852/webkit/\">r283852</a>)</li>\n</ul>\n<h3>JavaScript</h3>\n<ul>\n<li>Enabled unlinked Baseline JIT for performance (<a href=\"https://trac.webkit.org/changeset/283139/webkit/\">r283139</a>)</li>\n<li>Fixed <code>Intl.DateTimeFormat#resolvedOptions</code> not to return detailed information of formatting if <code>dateStyle</code> or <code>timeStyle</code> is set (<a href=\"https://trac.webkit.org/changeset/283460/webkit/\">r283460</a>)</li>\n<li>Fixed <code>Intl.supportedValuesOf</code> to populate <code>emoji</code> and <code>eor</code> for collation (<a href=\"https://trac.webkit.org/changeset/282897/webkit/\">r282897</a>)</li>\n<li>Fixed syntactic production for <code>#x in expr</code> (<a href=\"https://trac.webkit.org/changeset/282968/webkit/\">r282968</a>)</li>\n<li>Optimized <code>JSON.parse</code> object creation (<a href=\"https://trac.webkit.org/changeset/282468/webkit/\">r282468</a>)</li>\n<li>Optimized put-by-val with for-in (<a href=\"https://trac.webkit.org/changeset/283098/webkit/\">r283098</a>)</li>\n<li>Optimized <code>JSON.stringify</code> property enumeration (<a href=\"https://trac.webkit.org/changeset/282707/webkit/\">r282707</a>)</li>\n<li>Refined RegExp#compile based on regexp-legacy-features proposal (<a href=\"https://trac.webkit.org/changeset/283874/webkit/\">r283874</a>)</li>\n</ul>\n<h3>Web API</h3>\n<ul>\n<li>Enabled BroadcastChannel (<a href=\"https://trac.webkit.org/changeset/282426/webkit/\">r282426</a>)\n<ul>\n<li>Implemented top-origin and frame-origin partitioning for BroadcastChannel (<a href=\"https://trac.webkit.org/changeset/282366/webkit/\">r282366</a>)</li>\n</ul>\n</li>\n<li>Enabled Storage API by default (<a href=\"https://trac.webkit.org/changeset/284273/webkit/\">r284273</a>)</li>\n<li>Enabled FileSystemAccess and AccessHandle by default (<a href=\"https://trac.webkit.org/changeset/284131/webkit/\">r284131</a>)\n<ul>\n<li>Implemented FileSystemSyncAccessHandle <code>read()</code> and <code>write()</code> (<a href=\"https://trac.webkit.org/changeset/284059/webkit/\">r284059</a>)</li>\n</ul>\n</li>\n<li>Implemented the <code>borderBoxSize</code> and <code>contentBoxSize</code> parts of ResizeObserver (<a href=\"https://trac.webkit.org/changeset/282441/webkit/\">r282441</a>)</li>\n<li>Implemented CSP <code>script-src-elem, style-src-elem, script-src-attr</code> and <code>style-src-attr</code> directives (<a href=\"https://trac.webkit.org/changeset/284254/webkit/\">r284254</a>)</li>\n<li>Cached Web Audio PannerNodeâ€™s <code>azimuth</code>, <code>elevation</code>, and <code>coneGain</code> for performance (<a href=\"https://trac.webkit.org/changeset/283740/webkit/\">r283740</a>)</li>\n<li>Changed <code>&lt;model&gt;</code> to be draggable, similar to <code>&lt;img&gt;</code> (<a href=\"https://trac.webkit.org/changeset/283563/webkit/\">r283563</a>)</li>\n<li>Updated the <code>autofocus</code> attribute behavior to match the latest specification (<a href=\"https://commits.webkit.org/r283935\">r283935</a>)</li>\n<li>Updated to preserve color space when creating ImageBuffers for ImageBitmaps (<a href=\"https://trac.webkit.org/changeset/282696/webkit/\">r282696</a>)</li>\n</ul>\n<h3>WebGL</h3>\n<ul>\n<li>Fixed <code>image-rendering: crisp-edges</code> for WebGL canvases (<a href=\"https://trac.webkit.org/changeset/282335/webkit/\">r282335</a>)</li>\n</ul>\n<h3>Media</h3>\n<ul>\n<li>Fixed the progress bar moving when playback stops (<a href=\"https://trac.webkit.org/changeset/282374/webkit/\">r282374</a>)</li>\n<li>Fixed <code>createImageBitmap</code> using a HLS video as source always returning a black image (<a href=\"https://trac.webkit.org/changeset/283585/webkit/\">r283585</a>)</li>\n</ul>\n<h3>WebRTC</h3>\n<ul>\n<li>Added support for WebRTC media capabilities (<a href=\"https://trac.webkit.org/changeset/284085/webkit/\">r284085</a>, <a href=\"https://trac.webkit.org/changeset/284236/webkit/\">r284236</a>)</li>\n<li>Changed MediaCapabilities to enqueue a task to resolve promises (<a href=\"https://trac.webkit.org/changeset/284236/webkit/\">r284236</a>)</li>\n</ul>\n<h3>Accessibility</h3>\n<ul>\n<li>Exposed the URL attribute of <code>&lt;video&gt;</code> elements (<a href=\"https://trac.webkit.org/changeset/283799/webkit/\">r283799</a>)</li>\n<li>Made PDFs loaded via <code>&lt;embed&gt;</code> accessible (<a href=\"https://trac.webkit.org/changeset/282358/webkit/\">r282358</a>)</li>\n<li>Updated <code>role=\"math\"</code> elements to no longer be considered to have presentational children (<a href=\"https://trac.webkit.org/changeset/284246/webkit/\">r284246</a>)</li>\n</ul>\n<h3>Private Click Measurement</h3>\n<ul>\n<li>Allowed measurement of links in nested, cross-site iframes (<a href=\"https://trac.webkit.org/changeset/283593/webkit/\">r283593</a>)</li>\n</ul>\n<h3>Web Extensions</h3>\n<ul>\n<li>Allowed more directives to be included in the <code>content_security_policy</code> of an extensionâ€™s manifest, such as the <code>sandbox</code> directive</li>\n</ul>","author":"","siteTitle":"Blog â€“ WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"ac91bad7ab78fef2b7ffefb3da12430d15635d066cfb4f1f7190fdbb547f6856","category":"Tech"}