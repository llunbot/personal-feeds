{"title":"Amazon RDS Custom for Oracle – New Control Capabilities in Database Environment","link":"https://aws.amazon.com/blogs/aws/amazon-rds-custom-for-oracle-new-control-capabilities-in-database-environment/","date":1635270500000,"content":"<p>Managing databases in self-managed environments such as on premises or <a href=\"https://aws.amazon.com/ec2\">Amazon Elastic Compute Cloud</a> (Amazon EC2) requires customers to spend time and resources doing database administration tasks such as provisioning, scaling, patching, backups, and configuring for high availability. So, hundreds of thousands of AWS customers use <a href=\"https://aws.amazon.com/rds\">Amazon Relational Database Service</a> (Amazon RDS) because it automates these undifferentiated administration tasks.</p> \n<p>However, there are some legacy and packaged applications that require customers to make specialized customizations to the underlying database and the operating system (OS), such as Oracle industry specialized applications for healthcare and life sciences, telecom, retail, banking, and hospitality. Customers with these specific customization requirements cannot get the benefits of a fully managed database service like Amazon RDS, and they end up deploying their databases on premises or on EC2 instances.</p> \n<p>Today, I am happy to announce the general availability of <a href=\"https://aws.amazon.com/rds/custom\">Amazon RDS Custom for Oracle</a>, new capabilities that enable database administrators to access and customize the database environment and operating system. With RDS Custom for Oracle, you can now access and customize your database server host and operating system, for example by applying special patches and changing the database software settings to support third-party applications that require privileged access.</p> \n<p>You can easily move your existing self-managed database for these applications to Amazon RDS and automate time-consuming database management tasks, such as software installation, patching, and backups. Here is a simple comparison of features and responsibilities between Amazon EC2, RDS Custom for Oracle, and RDS.</p> \n<table> \n <tbody> \n  <tr> \n   <td><strong>Features and Responsibilities </strong></td> \n   <td><strong>Amazon EC2 </strong></td> \n   <td><strong>RDS </strong><strong>Custom for Oracle </strong></td> \n   <td><strong>Amazon RDS </strong></td> \n  </tr> \n  <tr> \n   <td>Application optimization</td> \n   <td>Customer</td> \n   <td>Customer</td> \n   <td>Customer</td> \n  </tr> \n  <tr> \n   <td>Scaling/high availability</td> \n   <td>Customer</td> \n   <td>Shared</td> \n   <td>AWS</td> \n  </tr> \n  <tr> \n   <td>DB backups</td> \n   <td>Customer</td> \n   <td>Shared</td> \n   <td>AWS</td> \n  </tr> \n  <tr> \n   <td>DB software maintenance</td> \n   <td>Customer</td> \n   <td>Shared</td> \n   <td>AWS</td> \n  </tr> \n  <tr> \n   <td>OS maintenance</td> \n   <td>Customer</td> \n   <td>Shared</td> \n   <td>AWS</td> \n  </tr> \n  <tr> \n   <td>Server maintenance</td> \n   <td>AWS</td> \n   <td>AWS</td> \n   <td>AWS</td> \n  </tr> \n </tbody> \n</table> \n<p>The shared responsibility model of RDS Custom for Oracle gives you more control than in RDS, but also more responsibility, similar to EC2. So, if you need deep control of your database environment where you take responsibility for changes that you make and want to offload common administration tasks to AWS, RDS Custom for Oracle is the recommended deployment option over self-managing databases on EC2.</p> \n<p><strong><u>Getting Started with Amazon RDS Custom for Oracle</u></strong><br /> To get started with RDS Custom for Oracle, you create a custom engine version (CEV), the database installation files of supported Oracle database versions and upload the CEV to <a href=\"https://aws.amazon.com/s3\">Amazon Simple Storage Service</a> (Amazon S3). This launch includes Oracle Enterprise Edition allowing Oracle customers to use their own licensed software with bring your own license (BYOL).</p> \n<p>Then with just a few clicks in the AWS Management Console, you can deploy an Oracle database instance in minutes. Then, you can connect to it using SSH or <a href=\"https://aws.amazon.com/systems-manager\">AWS Systems Manager</a>.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/19/2021-RDS-Custom-for-Oracle-diagram.png\" /></p> \n<p>Before creating and connecting your DB instance, make sure that you meet some prerequisites such as configuring the <a href=\"https://aws.amazon.com/iam\">AWS Identity and Access Management (IAM)</a> role and <a href=\"https://aws.amazon.com/vpc\">Amazon Virtual Private Cloud (VPC)</a> using the pre-created <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-setup-orcl.html#custom-setup-orcl.cf\">AWS CloudFormation template</a> in the Amazon RDS User Guide.</p> \n<p>A symmetric <a href=\"https://aws.amazon.com/kms\">AWS Key Management Service (KMS)</a> key is required for RDS Custom for Oracle. If you don’t have an existing symmetric KMS key in your account, create a KMS key by following the instructions in <a href=\"https://docs.aws.amazon.com/kms/latest/developerguide/create-keys.html#create-symmetric-cmk\">Creating keys</a> in the AWS KMS Developer Guide.</p> \n<p>The Oracle Database installation files and patches are hosted on <a href=\"https://edelivery.oracle.com/\">Oracle Software Delivery Cloud</a>. If you want to create a CEV, search and download your preferred version under the Linux x86/64 platform and upload it to Amazon S3.</p> \n<pre><code>$ aws s3 cp install-or-patch-file.zip \\ s3://my-oracle-db-files</code></pre> \n<p>To create CEV for creating a DB instance, you need a CEV manifest, a JSON document that describes installation .zip files stored in Amazon S3. RDS Custom for Oracle will apply the patches in the order in which they are listed when creating the instance by using this CEV.</p> \n<pre><code>{\n    \"mediaImportTemplateVersion\": \"2020-08-14\",\n    \"databaseInstallationFileNames\": [\n        \"V982063-01.zip\"\n    ],\n    \"opatchFileNames\": [\n        \"p6880880_190000_Linux-x86-64.zip\"\n    ],\n    \"psuRuPatchFileNames\": [\n        \"p32126828_190000_Linux-x86-64.zip\"\n    ],\n    \"otherPatchFileNames\": [\n        \"p29213893_1910000DBRU_Generic.zip\",\n        \"p29782284_1910000DBRU_Generic.zip\",\n        \"p28730253_190000_Linux-x86-64.zip\",\n        \"p29374604_1910000DBRU_Linux-x86-64.zip\",\n        \"p28852325_190000_Linux-x86-64.zip\",\n        \"p29997937_190000_Linux-x86-64.zip\",\n        \"p31335037_190000_Linux-x86-64.zip\",\n        \"p31335142_190000_Generic.zip\"\n] }</code></pre> \n<p>To create a CEV in the <a href=\"https://console.aws.amazon.com/rds\">AWS Management Console</a>, choose <strong>Create custom engine version</strong> in the <strong>Custom engine version</strong> menu.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/19/2021-RDS-Custom-for-Oracle-1-Create-CEV.png\" /></p> \n<p>You can set <strong>Engine type</strong> to <strong>Oracle</strong>, choose your preferred database edition and version, and enter CEV manifest, the location of the S3 bucket that you specified. Then, choose <strong>Create custom engine version</strong>. Creation takes approximately two hours.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/19/2021-RDS-Custom-for-Oracle-2-Create-CEV.png\" /></p> \n<p>To create your DB instance with the prepared CEV, choose <strong>Create database</strong> in the <strong>Databases</strong> menu. When you choose a database creation method, select <strong>Standard create</strong>. You can set <strong>Engine options</strong> to <strong>Oracle</strong> and choose <strong>Amazon RDS Custom</strong> in the database management type.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/19/2021-RDS-Custom-for-Oracle-3-Create-Instnce.png\" /></p> \n<p>In <strong>Settings</strong>, enter a unique name for the <strong>DB instance identifier</strong> and your master username and password. By default, the new instance uses an automatically generated password for the master user. To learn more in the remaining setting, see Settings for DB instances in the Amazon RDS User Guide. Choose <strong>Create database</strong>.</p> \n<p>Alternatively, you can create a CEV by running <code>create-custom-db-engine-version</code> command in the <a href=\"https://aws.amazon.com/cli\">AWS Command Line Interface</a> (AWS CLI).</p> \n<pre><code>$ aws rds create-db-instances \\\n      --engine my-oracle-ee \\\n      --db-instance-identifier my-oracle-instance \\ \n      --engine-version 19.my_cev1 \\ \n      --allocated-storage 250 \\ \n      --db-instance-class db.m5.xlarge \\ \n      --db-subnet-group mydbsubnetgroup \\ \n      --master-username masterawsuser \\ \n      --master-user-password masteruserpassword \\ \n      --backup-retention-period 3 \\ \n      --no-multi-az \\ \n              --port 8200 \\\n      --license-model bring-your-own-license \\\n      --kms-key-id my-kms-key</code></pre> \n<p>After you create your DB instance, you can connect to this instance using an SSH client. The procedure is the same as for connecting to an Amazon EC2 instance. To connect to the DB instance, you need the key pair associated with the instance. RDS Custom for Oracle creates the key pair on your behalf. The pair name uses the prefix <code>do-not-delete-ssh-privatekey-db-</code>. <a href=\"https://aws.amazon.com/secrets-manager/\">AWS Secrets Manager</a> stores your private key as a secret.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/10/19/2021-RDS-Custom-for-Oracle-4-SSH.png\" /></p> \n<p>For more information, see <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html\">Connecting to your Linux instance</a> using SSH in the Amazon EC2 User Guide.</p> \n<p>You can also connect to it using AWS Systems Manager Session Manager, a capability that lets you manage EC2 instances through a browser-based shell. To learn more, see <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-creating.html#custom-creating.ssh\">Connecting to your RDS Custom DB instance using SSH and AWS Systems Manager</a> in the Amazon RDS User Guide.</p> \n<p><strong><u>Things to Know</u></strong><br /> Here are a couple of things to keep in mind about managing your DB instance:</p> \n<p><strong>High Availability (HA)</strong>: To configure replication between DB instances in different Availability Zones to be resilient to Availability Zone failures, you can create read replicas for RDS Custom for Oracle DB instances. Read replica creation is similar to Amazon RDS, but with <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-rr.html#custom-rr.limitations\">some differences</a>. Not all options are supported when creating RDS Custom read replicas. To learn how to configure HA, see <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-rr.html\">Working with RDS Custom for Oracle read replicas</a> in the AWS Documentation.</p> \n<p><strong>Backup and Recovery:</strong> Like Amazon RDS, RDS Custom for Oracle creates and saves automated backups during the backup window of your DB instance. You can also back up your DB instance manually. The procedure is identical to taking a snapshot of an Amazon RDS DB instance. The first snapshot contains the data for the full DB instance just like in Amazon RDS. RDS Custom also includes a snapshot of the OS image, and the EBS volume that contains the database software. Subsequent snapshots are incremental. With backup retention enabled, RDS Custom also uploads transaction logs into an S3 bucket in your account to be used with the RDS point-in-time recovery feature. Restore DB snapshots, or restore DB instances to a specific point in time using either the AWS Management Console or the AWS CLI. To learn more, see <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-backup.html\">Backing up and restoring an Amazon RDS Custom for Oracle DB instance</a> in the Amazon RDS User Guide.</p> \n<p><strong>Monitoring and Logging</strong>: RDS Custom for Oracle provides a monitoring service called the support perimeter. This service ensures that your DB instance uses a supported AWS infrastructure, operating system, and database. Also, all changes and customizations to the underlying operating system are automatically logged for audit purposes using Systems Manager and <a href=\"https://aws.amazon.com/cloudtrail\">AWS CloudTrail</a>. To learn more, see <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-troubleshooting.html\">Troubleshooting an Amazon RDS Custom for DB instance</a> in the Amazon RDS User Guide.</p> \n<p><strong><u>Now Available</u></strong><br /> <a href=\"https://aws.amazon.com/rds/custom\">Amazon RDS Custom for Oracle</a> is now available in US East (N. Virginia), US East (Ohio), US West (Oregon), EU (Frankfurt), EU (Ireland), EU (Stockholm), Asia Pacific (Singapore), Asia Pacific (Sydney), and Asia Pacific (Tokyo) regions.</p> \n<p>To learn more, take a look at the <a href=\"https://aws.amazon.com/rds/custom\">product page</a> and <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-custom.html\">documentations</a> of Amazon RDS Custom for Oracle. Please send us feedback either in the <a href=\"https://forums.aws.amazon.com/forum.jspa?forumID=60&amp;start=0\">AWS forum</a> for Amazon RDS or through your usual AWS support contacts.</p> \n<p>– <a href=\"https://twitter.com/channyun\">Channy</a></p>","author":"Channy Yun","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"37b25115f97d8f61cf9e8a9cf60677e9889618f8b783d5c34ab557fd61074bb9","category":"Tech"}