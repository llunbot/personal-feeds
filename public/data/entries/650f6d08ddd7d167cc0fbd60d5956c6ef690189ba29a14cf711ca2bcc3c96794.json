{"title":"0250 | Scan + upgrade wp-super-cache ทั้งเครื่อง","link":"https://www.icez.net/blog/167464/scan-upgrade-wp-super-cache-in-server","date":1616581668000,"content":"<p>สำหรับ shared hosting หรือ server ที่มี wordpress หลายๆ instance</p>\n<h3>ติดตั้ง wp-cli</h3>\n<pre>curl -O https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar &amp;&amp; \\\nchmod +x wp-cli.phar &amp;&amp; \\\nsudo mv wp-cli.phar /usr/local/bin/\n</pre>\n<h3>wp-cli upgrade wp-super-cache</h3>\n<p>ใช้คำสั่ง locate หาเว็บที่มี wp-super-cache แล้วใช้ wp-cli สั่ง upgrade เฉพาะ plugin wp-super-cache สำหรับเว็บที่ไม่ได้ใช้ wp-super-cache 1.7.2 (แก้ version php /คำสั่งด้วยนะคัรบ)</p>\n<pre>for i in $(locate /wp-content/plugins/wp-super-cache/wp-cache.php); do \n\nrootpath=$(echo $i | sed 's#/wp-content/plugins/wp-super-cache/wp-cache.php##g')\necho $rootpath\ncd $rootpath\ngrep 'Version: 1.7.2' ./wp-content/plugins/wp-super-cache/wp-cache.php || \\\nsudo -u $(stat -c %U .) -- php7.3 $(which wp-cli.phar) plugin update wp-super-cache\n\ndone\n</pre>","author":"icez","siteTitle":"icez network","siteHash":"88787adba55f9deb5660f47c4b8baf580eb765815e4a6d536737656e8ab8bde4","entryHash":"650f6d08ddd7d167cc0fbd60d5956c6ef690189ba29a14cf711ca2bcc3c96794","category":"Thai"}