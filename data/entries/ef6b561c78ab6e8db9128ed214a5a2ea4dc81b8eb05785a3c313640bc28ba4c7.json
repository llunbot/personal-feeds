{"title":"AWS ปรับนโยบายคิดค่า S3 API ไม่คิดเงินหากตอบกลับ 3XX/4XX จากภายนอก","link":"https://www.blognone.com/node/139732","date":1715662220000,"content":"<div><div><div><p>AWS ประกาศปรับนโยบายคิดเงินค่า S3 API หลังจากเกิดเหตุ<a href=\"https://www.blognone.com/node/139526\">คิดเงินค่า bucket เปล่ากับลูกค้าถึงวันละ 50,000 บาท</a> โดยจะยกเลิกการคิดเงินกรณีที่ตอบกลับแบบ redirect (HTTP 3XX) หรือแสดงความผิดพลาด (HTTP 4xx) จากนอกเน็ตเวิร์คของลูกค้าเอง แต่หากเรียกจากเครื่องภายในเองแล้วได้ error เองก็ยังคิดเงินต่อไป รวมถึงกรณีที่ใช้ S3 โฮสต์เว็บ และตั้ง custom error หรือ custom redirect ก็จะคิดเงินด้วย</p>\n<p>สำหรับการตอบกลับแบบที่ผิดพลาดจากฝั่ง S3 (HTTP 5XX) นั้นทาง AWS ไม่เคยคิดเงินอยู่แล้ว ส่วนการตอบกลับปกติ HTTP 200 นั้นคิดเงินแทบทุกกรณี</p>\n<p>รายการ HTTP Response ทั้งหมดที่ไม่คิดเงินหากไคลเอนต์อยู่นอกบัญชีได้แก่ 301, 307, 200, 400, 403 (Access Denied เป็นตัวหลักที่ผู้ใช้ภายนอกพยายามยิง request เข้ามา), 404, 405, 409, 411, และ 412</p>\n<p>นโยบายมีผลตั้งแต่วันที่ 13 พฤษภาคมที่ผ่านมา แต่กำลัง deploy อยู่ทำให้อาจจะยังมีผลไม่ครบทุก region ทาง AWS ระบุว่าจะประกาศต่อไปว่า deploy ครบเมื่อใด</p>\n<p>ที่มา - <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/ErrorCodeBilling.html\">AWS</a></p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/106c5a08370a48459e0bbb46fccb64a6.png\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/aws\">AWS</a></div><div><a href=\"/topics/cloud-storage\">Cloud Storage</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"ef6b561c78ab6e8db9128ed214a5a2ea4dc81b8eb05785a3c313640bc28ba4c7","category":"Thai"}