{"title":"Azure เปิดตัว Load Testing สำหรับทดสอบแอพเมื่อมีโหลดหนักๆ เพื่อรับมือเมื่อมีโหลดจริง","link":"https://www.blognone.com/node/126093","date":1638369387000,"content":"<div><div><div><p>ช่วงนี้ Azure เปิดตัวเครื่องมือสำหรับทดสอบระบบหลายตัว ก่อนหน้านี้เป็น <a href=\"https://www.blognone.com/node/125665\">Chaos Studio</a> ที่ใช้จำลองเหตุการณ์ระบบล่มเพื่อให้ผู้ดูแลระบบซ้อมรับมือได้ก่อน ล่าสุดได้เปิดตัว Azure Load Testing ใช้จำลองโหลดหนักๆ เข้ามาที่แอพหรือระบบเราเพื่อดูว่ายังทำงานได้ตามปกติหรือไม่</p>\n<p>การใช้งาน Azure Load Testing ต้องเขียนสคริปต์ Apache JMeter ขึ้นมาแล้วอัพโหลดเข้าไปที่ Azure จากนั้นมันจะรันการทดสอบให้เราตามสคริปต์ที่เขียนไว้ โดยกำหนดได้ว่าจะให้มี test engine รันขนานกันกี่ตัว ยิ่งมากก็ยิ่งส่งโหลดเข้าไปที่ระบบเรามากขึ้น</p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/4050868c68f000321773e5e05d053f46.png\" /></p>\n<p>เมื่อเริ่มรันแล้ว Azure จะรายงานผลต่างๆ เช่นจำนวน users ที่จำลองขึ้นมา, response time ของระบบ, จำนวนรีเควสต่อวินาที และ errors ต่างๆ ที่เจอ</p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/2faa05fd5b3ab2a164f812b8e33f4476.png\" /></p>\n<p>นอกจากนี้ Azure Load Testing ยังทำงานร่วมกับ Azure Monitor ที่ฝั่งระบบที่เราทดสอบ พร้อมรายงานค่าต่างๆ จากตัวระบบ เช่นอัตราการใช้ซีพียู, อัตราการอ่านฐานข้อมูล เป็นต้น ทำให้เราเห็นภาพรวมว่าฝั่งไคลเอนท์เจออะไร และฝั่งระบบเจออะไร</p>\n<p>ฟีเจอร์ที่น่าสนใจอีกอย่างคือมันสามารถฝังอยู่ใน CI/CD pipeline อย่าง GitHub Actions และ Azure Pipelines ได้ด้วย แปลว่าเรารันการทดสอบโหลดได้อัตโนมัติตั้งแต่ก่อนปล่อยออกโปรดักชันเลย</p>\n<p>ส่วน<a href=\"https://azure.microsoft.com/en-us/pricing/details/load-testing/\">ราคา</a>ใช้โมเดล Virtual Users Hours (VUH) คือคิดตามจำนวนยูสเซอร์จำลองต่อชั่วโมงที่เราใช้ยิงโหลดเข้าไปโดยยืนพื้นที่ 10 ดอลลาร์สหรัฐต่อเดือน มีโควต้าให้ 50 VUH กล่าวคือสามารถจำลองยูสเซอร์ขึ้นมา 50 คนแล้วยิงยาว 1 ชั่วโมง หรือกลับกันคือจำลอง 1 ยูสเซอร์แล้วยิงโหลด 50 ชั่วโมง หรือตัวเลขที่อยู่ระหว่างช่วงนี้ก็ได้ เกินจากนี้คิดเงินที่ 0.15 ดอลลาร์สหรัฐต่อชั่วโมง และหากใช้เกิน 9,950 ชั่วโมงก็คิดที่ 0.075 ดอลลาร์สหรัฐต่อชั่วโมง</p>\n<p>ทั้งนี้ Azure Load Testing ไม่ใช่ของใหม่สักทีเดียว เพราะก่อนหน้านี้เคยมีบริการ load testing บน Azure มาก่อนที่ใช้งานได้ในระดับหนึ่ง แต่ Microsoft ก็ปิดบริการนี้ไปตั้งแต่ต้นปี 2020</p>\n<p>ที่มา - <a href=\"https://azure.microsoft.com/en-us/blog/introducing-azure-load-testing-optimize-app-performance-at-scale/\">Azure Blog</a></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/microsoft-azure\">Microsoft Azure</a></div><div><a href=\"/topics/cloud-computing\">Cloud Computing</a></div></div></div>","author":"BlackMiracle","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"81dc07941da3e68c5e1bc6391c1cb4b93a911fa6663440327aecb5b6d9a1fc60","category":"Thai"}