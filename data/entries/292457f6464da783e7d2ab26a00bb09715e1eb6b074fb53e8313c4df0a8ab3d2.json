{"title":"Daily Rant: Python Comparisons","link":"https://srakrn.me/blog/daily-rant-on-python-comparisons/","date":1703822980000,"content":"<p>‡πÄ‡∏´‡πá‡∏ô‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ô‡∏∂‡∏á‡πÉ‡∏ô‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ <code>==</code> ‡πÅ‡∏•‡∏∞ <code>is</code> ‡πÉ‡∏ô‡πÑ‡∏û‡∏ó‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏ñ‡∏π‡∏Å‡∏ô‡∏±‡∏Å (‡∏°‡∏¥‡∏ï‡∏£‡∏™‡∏´‡∏≤‡∏¢‡∏ó‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏à‡∏î‡∏µ‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ ‡∏°‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô <code>is</code> ‡πÄ‡∏õ‡πá‡∏ô <code>===</code> ‡πÉ‡∏ô JS ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô type strict comparison ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏Ç‡∏≠‡∏á‡πÑ‡∏û‡∏ó‡∏≠‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô strict typed ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß)</p>\n\n\n\n<p>‡πÄ‡∏•‡∏¢‡πÅ‡∏ß‡∏ö‡∏°‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏≥‡πÜ ‡∏™‡∏±‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ <code>==</code> ‡πÅ‡∏•‡∏∞ <code>is</code> ‡∏™‡∏±‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏±‡∏ô</p>\n\n\n\n<h2>Prerequisites</h2>\n\n\n\n<p>‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡πà‡∏≤ <code>==</code> ‡∏°‡∏µ‡πÑ‡∏ß‡πâ‡πÄ‡∏ä‡πá‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô ‡πÅ‡∏•‡∏∞ <code>is</code> ‡∏°‡∏µ‡πÑ‡∏ß‡πâ‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤ object ‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏õ‡πá‡∏ô instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏°</p>\n\n\n\n<pre><code>&gt;&gt;&gt; a = []\r\n&gt;&gt;&gt; b = []\r\n&gt;&gt;&gt; a == b\r\nTrue\r\n&gt;&gt;&gt; a is b\r\nFalse</code></pre>\n\n\n\n<h2><code>is None</code></h2>\n\n\n\n<p>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à ‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏≥‡πÑ‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÉ‡∏î‡πÜ ‡πÉ‡∏ô‡πÑ‡∏û‡∏ó‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô <code>None</code> ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ <code>is None</code> ‡πÅ‡∏ó‡∏ô <code>== None</code>?</p>\n\n\n\n<p>‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏û‡∏≠‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏°‡∏≤‡∏Å ‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ <code>is None</code> ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á syntactic sugar ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤?, ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà</p>\n\n\n\n<p>‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ <code>is None</code> ‡∏ô‡∏±‡πà‡∏ô‡∏Å‡πá‡πÄ‡∏û‡∏£‡∏≤‡∏∞ <code>None</code> ‡πÉ‡∏ô‡πÑ‡∏û‡∏ó‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô singleton object ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∞‡∏°‡∏µ‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤ object ‡πÉ‡∏î‡πÜ ‡πÄ‡∏õ‡πá‡∏ô None ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏°‡∏ô‡∏±‡πà‡∏ô‡πÄ‡∏≠‡∏á!</p>\n\n\n\n<h2><code>True</code>, and <code>False</code></h2>\n\n\n\n<p>‡∏Å‡∏£‡∏ì‡∏µ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏Ñ‡∏∑‡∏≠ <code>True</code> ‡πÅ‡∏•‡∏∞ <code>False</code> ‡πÉ‡∏ô‡πÑ‡∏û‡∏ó‡∏≠‡∏ô ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô object ‡∏Ç‡∏≠‡∏á <code>bool</code></p>\n\n\n\n<p>True ‡πÅ‡∏•‡∏∞ False ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö None ‡πÉ‡∏ô‡πÅ‡∏á‡πà‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÑ‡∏û‡∏ó‡∏≠‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏à‡∏∞‡∏°‡∏µ instance ‡∏Ç‡∏≠‡∏á True ‡πÄ‡∏û‡∏µ‡∏¢‡∏á instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏•‡∏∞ instance ‡∏Ç‡∏≠‡∏á False ‡πÄ‡∏û‡∏µ‡∏¢‡∏á instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>\n\n\n\n<p>‡∏ñ‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡∏ô‡∏±‡πâ‡∏ô ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤ True ‡πÅ‡∏•‡∏∞ False ‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô singleton ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡πà‡∏≤? ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô instance ‡∏Ç‡∏≠‡∏á boolean ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô (‡∏ã‡∏∂‡πà‡∏á‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏µ boolean instance ‡πÄ‡∏û‡∏µ‡∏¢‡∏á instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÑ‡∏û‡∏ó‡∏≠‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°) ‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Å‡πÄ‡∏£‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏Å design pattern ‡πÉ‡∏ô‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡∏ß‡πà‡∏≤ Flyweight pattern</p>\n\n\n\n<p>‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡πá‡∏î‡∏µ ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏û‡∏≠‡∏£‡∏π‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡πà‡∏≤‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏§‡∏©‡∏é‡∏µ ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ <code>is</code> ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤ boolean ‡∏Ñ‡πà‡∏≤‡πÉ‡∏î‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô <code>True</code> ‡∏´‡∏£‡∏∑‡∏≠ <code>False</code> ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà</p>\n\n\n\n<pre><code>&gt;&gt;&gt; a = (0 == 1)\r\n&gt;&gt;&gt; id(a)\r\n139976720486240\r\n&gt;&gt;&gt; id(False)\r\n139976720486240\r\n&gt;&gt;&gt;</code></pre>\n\n\n\n<p>‡∏´‡∏£‡∏∑‡∏≠‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>\n\n\n\n<pre><code>&gt;&gt;&gt; 0 == 1 is False\r\n&lt;stdin&gt;:1: SyntaxWarning: \"is\" with a literal. Did you mean \"==\"?\r\nFalse</code></pre>\n\n\n\n<p>‡∏≠‡πâ‡∏≤‡∏ß‚Ä¶ ‡πÇ‡∏Å‡∏´‡∏Å‡∏Å‡∏±‡∏ô‡∏ô‡∏µ‡πà‡∏´‡∏ß‡πà‡∏≤‚Ä¶</p>\n\n\n\n<p>‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà! pitfall ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏û‡∏ó‡∏≠‡∏ô ‡∏Ñ‡∏∑‡∏≠ orders of operation ‡∏ó‡∏µ‡πà‡∏ó‡∏≥ <code>is</code> ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥ comparison ‡∏ã‡∏∂‡πà‡∏á‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏∑‡∏° orders of operations ‡∏Å‡πá‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏õ‡∏•‡∏Å‡πÜ ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ</p>\n\n\n\n<pre><code>&gt;&gt;&gt; True == not False\r\n  File \"&lt;stdin&gt;\", line 1\r\n    True == not False\r\n            ^^^\r\nSyntaxError: invalid syntax</code></pre>\n\n\n\n<p>‡∏°‡∏≤‡∏•‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏ö‡∏ö‡πÉ‡∏™‡πà‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏ö</p>\n\n\n\n<pre><code>&gt;&gt;&gt; (0 == 1) is False\r\nTrue</code></pre>\n\n\n\n<p>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≤‡∏î</p>\n\n\n\n<h2>Glitch in the Matrix?!?!</h2>\n\n\n\n<pre><code>&gt;&gt;&gt; a = 256\r\n&gt;&gt;&gt; b = 256\r\n&gt;&gt;&gt; a is b\r\nTrue\r\n&gt;&gt;&gt; a = 257\r\n&gt;&gt;&gt; b = 257\r\n&gt;&gt;&gt; a is b\r\nFalse</code></pre>\n\n\n\n<p>?!?!?!</p>\n\n\n\n<p>‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô C API implementation ‡∏Ç‡∏≠‡∏á Python (‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏Ñ‡∏∑‡∏≠ treat <code>int</code> ‡∏Å‡∏±‡∏ö <code>long</code> ‡∏î‡πâ‡∏ß‡∏¢ <code>PyLong</code> object ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô)</p>\n\n\n\n<p><a href=\"https://docs.python.org/3/c-api/long.html#c.PyLong_FromLong\">Integer Objects ‚Äî Python 3.12.1 documentation</a> ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡πÑ‡∏ß‡πâ‡∏ß‡πà‡∏≤</p>\n\n\n\n<blockquote><p>The current implementation keeps an array of integer objects for all integers between -5 and 256. When you create an int in that range you actually just get back a reference to the existing object.</p></blockquote>\n\n\n\n<h2>Mimicing NULLs</h2>\n\n\n\n<p>‡πÉ‡∏ô SQL ‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á NULLs ‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á NULLs ‡∏≠‡∏∑‡πà‡∏ô‡πÜ</p>\n\n\n\n<p>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£ demonstrate ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á <code>==</code> ‡πÅ‡∏•‡∏∞ <code>is</code> ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏•‡∏≤‡∏™ <code>NullType</code> ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á singleton object ‡∏Ç‡∏≠‡∏á <code>Null</code> ‡πÑ‡∏î‡πâ</p>\n\n\n\n<p>‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á singleton ‡πÉ‡∏ô‡πÑ‡∏û‡∏ó‡∏≠‡∏ô‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£ override magic method <code>__new__</code></p>\n\n\n\n<p><em>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: <code>class_</code> ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏° underscore ‡∏Ç‡πâ‡∏≤‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ argument ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ä‡∏ô‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <code>class</code> ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡∏Ñ‡∏≥‡∏™‡∏á‡∏ß‡∏ô‚Äù, ‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡πÄ‡∏ä‡πà‡∏ô‡πÉ‡∏ô‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ <code>cls</code> ‡∏Å‡πá‡πÑ‡∏î‡πâ</em></p>\n\n\n\n<pre><code># null.py\nclass NullType:\r\n    _instance = None\r\n\r\n    def __new__(class_):\r\n        if class_._instance is None:\r\n            class_._instance = super(NullType, class_).__new__(class_)\r\n        return class_._instance</code></pre>\n\n\n\n<p>‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á null object ‡πÉ‡∏´‡πâ‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á instance ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß</p>\n\n\n\n<pre><code>‚ùØ python3 -i null.py\r\n&gt;&gt;&gt; null_1 = NullType()\r\n&gt;&gt;&gt; null_2 = NullType()\r\n&gt;&gt;&gt; null_1 is null_2\r\nTrue</code></pre>\n\n\n\n<p>‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ null object ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ ‡∏Å‡πá‡πÅ‡∏Ñ‡πà override <code>__eq__</code> method ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥ comparison</p>\n\n\n\n<pre><code>class NullType:\r\n    _instance = None\r\n\r\n    def __new__(class_):\r\n        if class_._instance is None:\r\n            class_._instance = super(NullType, class_).__new__(class_)\r\n        return class_._instance\r\n\r\n    def __eq__(self, other):\r\n        return False</code></pre>\n\n\n\n<p>‡πÅ‡∏•‡∏∞‡∏•‡∏≠‡∏á‡∏£‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà</p>\n\n\n\n<pre><code>‚ùØ python3 -i null.py\r\n&gt;&gt;&gt; null_1 = NullType()\r\n&gt;&gt;&gt; null_2 = NullType()\r\n&gt;&gt;&gt; null_1 == null_2\r\nFalse\r\n&gt;&gt;&gt; null_1 is null_2\r\nTrue</code></pre>\n\n\n\n<p>‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</p>\n\n\n\n<h2>‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á ‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h2>\n\n\n\n<ul><li>‡πÑ‡∏î‡πâ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Å‡∏≤‡∏£ allocate ‡πÄ‡∏•‡∏Ç -10 ‡∏ñ‡∏∂‡∏á 256 ‡∏£‡∏≠‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡∏Å‡∏±‡∏ö <code>True == not False</code> ‡∏à‡∏≤‡∏Å <a href=\"https://github.com/satwikkansal/wtfpython\">satwikkansal/wtfpython: What the f*ck Python? <img src=\"https://s.w.org/images/core/emoji/13.1.0/72x72/1f631.png\" alt=\"üò±\" /> (github.com)</a></li><li>‡∏ó‡∏±‡πâ‡∏á Singleton ‡πÅ‡∏•‡∏∞ Flyweight ‡πÄ‡∏õ‡πá‡∏ô design patterns ‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á GoF ‡πÅ‡∏ï‡πà‡∏ß‡πà‡∏≤‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏≠‡πà‡∏≤‡∏ô‡∏ñ‡∏∂‡∏á implementation wise aspects ‡∏ö‡∏ô‡πÑ‡∏û‡∏ó‡∏≠‡∏ô ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà <a href=\"https://python-patterns.guide/gang-of-four/singleton/\">The Singleton Pattern (python-patterns.guide)</a> ‡πÅ‡∏•‡∏∞ <a href=\"https://python-patterns.guide/gang-of-four/flyweight/\">The Flyweight Pattern (python-patterns.guide)</a></li></ul>","author":"@srakrn","siteTitle":"@srakrn's Blog","siteHash":"8610f010f52679fdf8125827e361d560c59c9ee46c9232365fabf44f77865fb7","entryHash":"292457f6464da783e7d2ab26a00bb09715e1eb6b074fb53e8313c4df0a8ab3d2","category":"Thai"}