{"title":"Run scalable, enterprise-grade generative AI workloads with Cohere Command R & R+, now available in Amazon Bedrock","link":"https://aws.amazon.com/blogs/aws/run-scalable-enterprise-grade-generative-ai-workloads-with-cohere-r-r-now-available-in-amazon-bedrock/","date":1714414137000,"content":"<p>In <a href=\"https://aws.amazon.com/blogs/aws/amazon-bedrock-now-provides-access-to-cohere-command-light-and-cohere-embed-english-and-multilingual-models/\">November 2023, we made two new Cohere models available in Amazon Bedrock (Cohere Command Light and Cohere Embed English)</a>. Today, we’re announcing the <a href=\"https://aws.amazon.com/bedrock/cohere-command-embed/\">addition of two more Cohere models in Amazon Bedrock; Cohere Command R and Command R+</a>.</p> \n<p>Organizations need <a href=\"https://aws.amazon.com/generative-ai/\">generative artificial intelligence (generative AI)</a> models to securely interact with information stored in their enterprise data sources. Both Command R and Command R+ are powerful, scalable <a href=\"https://aws.amazon.com/what-is/large-language-model/\">large language models (LLMs),</a> purpose-built for real-world, enterprise-grade workloads. These models are multilingual and are focused on balancing high efficiency with strong accuracy to excel at capabilities such as <a href=\"https://aws.amazon.com/what-is/retrieval-augmented-generation/#:~:text=Retrieval%2DAugmented%20Generation%20(RAG),sources%20before%20generating%20a%20response.\">Retrieval-Augmented Generation (RAG)</a>, and tool use to enable enterprises to move beyond proof-of-concept (POC), and into production using artificial intelligence (AI).</p> \n<p>Command R is a scalable multilingual generative model targeting RAG and tool use to enable production-scale AI for enterprises. Command R+ is a state-of-the-art RAG-optimized model designed to tackle enterprise-grade workloads and optimize business AI applications. Command R+ is optimized for advanced RAG to provide enterprise-ready, highly reliable, and veriﬁable responses due to in-line citations which come standard with this model. With these new Cohere models in Bedrock, you can scale with AI to quickly ﬁnd the most relevant information to support tasks across business functions like ﬁnance, human resources (HR), sales, marketing, and customer support, among others, in a range of business sectors. <a href=\"https://cohere.com/blog/tool-use-with-command-r\">Tool use</a> is also available in Command R+. Command R+ is a strong multilingual model, and similarly to Command R, features a tokenizer that compresses non-English text much better than the tokenizer used for other models in the market.</p> \n<p><span><strong>Getting started with Command R and Command R+</strong></span><br /> To get started with both models in <a href=\"https://aws.amazon.com/bedrock/\">Amazon Bedrock</a>, you first need to get access to the models. In the <a href=\"https://console.aws.amazon.com/bedrock/\">Amazon Bedrock console</a>, choose <strong>Model access</strong>, and then choose <strong>Manage model access</strong>. Next, choose your preferred model(s), and then choose <strong>Save changes</strong>. As you can see, you now have six Cohere models to choose from in Amazon Bedrock – including Command R and Command R+ – giving you greater choice and flexibility to use the optimal models for your specific business needs.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/22/Screenshot-2024-04-22-at-2.15.42 PM.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/22/Screenshot-2024-04-22-at-2.15.42 PM-1024x647.png\" width=\"1024\" height=\"647\" /></a></p> \n<p>Once you have access to your preferred model, you can use the model in Amazon Bedrock. Refresh the base models table to view the updated status.</p> \n<p>The models have been trained to respond in the <a href=\"https://docs.cohere.com/docs/command-r\">language of the user</a> such as English, French, Spanish, Italian, German, Brazilian Portuguese, Japanese, Korean, Simplified Chinese, and Arabic. Here’s an example:</p> \n<p><strong>Prompt</strong></p> \n<pre><code>&lt;s&gt;\"Écris une description de produit pour une voiture électrique en 50 à 75 mots\"</code></pre> \n<p><strong>Output</strong></p> \n<pre><code>Découvrez la voiture électrique qui va révolutionner votre façon de conduire.\nAvec son design élégant, cette voiture offre une expérience de conduite unique\navec une accélération puissante et une autonomie impressionnante. Sa\ntechnologie avancée vous garantit une charge rapide et une fiabilité inégalée.\nAvec sa conception innovante et durable, cette voiture est parfaite pour les \ntrajets urbains et les longues distances. Profitez d'une conduite silencieuse\net vivez l'expérience de la voiture électrique!</code></pre> \n<p><span><strong>Programmatically interact with Command R and Command R+</strong></span><br /> You can also use <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (CLI)</a> and <a href=\"https://aws.amazon.com/developer/tools/\">AWS Software Development Kit (SDK)</a> to make various calls using Amazon Bedrock APIs. Following, is a sample code in Python that interacts with Amazon Bedrock Runtime APIs with AWS SDK. Taking the same text generation prompt I used earlier, here is how it looks when used programmatically. In this example I’m interacting with the Command R model. Back to Python, I first run the <a href=\"https://docs.aws.amazon.com/bedrock/latest/APIReference/API_ListFoundationModels.html\">ListFoundationModels API</a> call to discover the <code>modelId</code> for Command R.</p> \n<pre><code>import boto3\nimport json\nimport numpy\n\nbedrock = boto3.client(service_name='bedrock', region_name='us-east-1')\n\nlistModels = bedrock.list_foundation_models(byProvider='cohere')\nprint(\"\\n\".join(list(map(lambda x: f\"{x['modelName']} : { x['modelId'] }\", listModels['modelSummaries']))))</code></pre> \n<p>Running this code gives the list:</p> \n<pre><code>Command : cohere.command-text-v14\nCommand Light : cohere.command-light-text-v14\nEmbed English : cohere.embed-english-v3\nEmbed Multilingual : cohere.embed-multilingual-v3\nCommand R: cohere.command-r-v1:0\nCommand R+: cohere.command-r-plus-v1:0</code></pre> \n<p>From this list, I select <code>cohere.command-r-v1:0</code> model ID and write the code to generate the text as shown earlier in this post.</p> \n<pre><code>import boto3\nimport json\n\nbedrock = boto3.client(service_name=\"bedrock-runtime\", region_name='us-east-1')\n\nprompt = \"\"\"\n&lt;s&gt;Écris une description de produit pour une voiture électrique en 50 à 75 mots\n\nbody = json.dumps({\n    \"prompt\": prompt,\n    \"max_tokens\": 512,\n    \"top_p\": 0.8,\n    \"temperature\": 0.5,\n})\n\nmodelId = \"cohere.command-r-v1:0\"\n\naccept = \"application/json\"\ncontentType = \"application/json\"\n\nresponse = bedrock.invoke_model(\n    body=body,\n    modelId=modelId,\n    accept=accept,\n    contentType=contentType\n)\n\nprint(json.loads(response.get('body').read()))</code></pre> \n<p>You can get JSON formatted output as like:</p> \n<pre><code>Découvrez la voiture électrique qui va révolutionner votre façon de conduire.\nAvec son design élégant, cette voiture offre une expérience de conduite unique\navec une accélération puissante et une autonomie impressionnante. Sa\ntechnologie avancée vous garantit une charge rapide et une fiabilité inégalée.\nAvec sa conception innovante et durable, cette voiture est parfaite pour les \ntrajets urbains et les longues distances. Profitez d'une conduite silencieuse\net vivez l'expérience de la voiture électrique!</code></pre> \n<p><span><strong>Now Available</strong></span></p> \n<p>Command R and Command R+ models, along with other Cohere models, <a href=\"https://aws.amazon.com/bedrock/cohere-command-embed/\">are available today in Amazon Bedrock</a> in the US East (N. Virginia) and US West (Oregon) Regions; check the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html\">full Region list</a> for future updates.</p> \n<p>Visit our <a href=\"https://community.aws/generative-ai?trk=e8665609-785f-4bbe-86e8-750a3d3e9e61&amp;sc_channel=el\">community.aws site</a> to find deep-dive technical content and to discover how our Builder communities are using Amazon Bedrock in their solutions. Give Command R and Command R+ a try in the <a href=\"https://console.aws.amazon.com/bedrock\">Amazon Bedrock console</a> today and send feedback to <a href=\"https://repost.aws/tags/TAQeKlaPaNRQ2tWB6P7KrMag/amazon-bedrock\">AWS re:Post for Amazon Bedrock</a> or through your usual AWS Support contacts.</p> \n<p>– <a href=\"https://www.linkedin.com/in/veliswa-boya/\">Veliswa</a>.</p>","author":"Veliswa Boya","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"487592cf6bf3fd3edd1d5cfcab40764cb56bfd4f3f00c6abd41955faf59203b5","category":"Tech"}