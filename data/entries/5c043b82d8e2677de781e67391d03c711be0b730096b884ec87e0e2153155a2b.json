{"title":"Meta’s Llama 3 models are now available in Amazon Bedrock","link":"https://aws.amazon.com/blogs/aws/metas-llama-3-models-are-now-available-in-amazon-bedrock/","date":1713871555000,"content":"<p>Today, we are announcing the general availability of <a href=\"https://aws.amazon.com/bedrock/llama/\">Meta’s Llama 3 models in Amazon Bedrock</a>. Meta Llama 3 is designed for you to build, experiment, and responsibly scale your <a href=\"https://aws.amazon.com/generative-ai\">generative artificial intelligence</a> (AI) applications. New Llama 3 models are the most capable to support a broad range of use cases with improvements in reasoning, code generation, and instruction.</p> \n<p>According to <a href=\"https://ai.meta.com/blog/meta-llama-3\">Meta’s Llama 3 announcement</a>, the Llama 3 model family is a collection of pre-trained and instruction-tuned large language models (LLMs) in 8B and 70B parameter sizes. These models have been trained on over 15 trillion tokens of data—a training dataset seven times larger than that used for <a href=\"https://aws.amazon.com/blogs/aws/amazon-bedrock-now-provides-access-to-llama-2-chat-13b-model/\">Llama 2 models</a>, including four times more code, which supports an 8K context length that doubles the capacity of Llama 2.</p> \n<p>You can now use two new Llama 3 models in <a href=\"https://aws.amazon.com/bedrock\">Amazon Bedrock</a>, further increasing model choice within Amazon Bedrock. These models provide the ability for you to easily experiment with and evaluate even more top foundation models (FMs) for your use case:</p> \n<ul> \n <li><strong>Llama 3 8B</strong> is ideal for limited computational power and resources, and edge devices. The model excels at text summarization, text classification, sentiment analysis, and language translation.</li> \n <li><strong>Llama 3 70B</strong> is ideal for content creation, conversational AI, language understanding, research development, and enterprise applications. The model excels at text summarization and accuracy, text classification and nuance, sentiment analysis and nuance reasoning, language modeling, dialogue systems, code generation, and following instructions.</li> \n</ul> \n<p>Meta is also currently training additional Llama 3 models over 400B parameters in size. These 400B models will have new capabilities, including multimodality, multiple languages support, and a much longer context window. When released, these models will be ideal for content creation, conversational AI, language understanding, research and development (R&amp;D), and enterprise applications.</p> \n<p><strong><u>Llama 3 models in action</u></strong><br /> If you are new to using Meta models, go to the <a href=\"https://console.aws.amazon.com/bedrock/\">Amazon Bedrock console</a> and choose <strong>Model access </strong>on the bottom left pane. To access the latest Llama 3 models from Meta, request access separately for <strong>Llama 3 8B Instruct</strong> or <strong>Llama 3 70B Instruct</strong>.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/19/2024-llama3-in-bedrock-1-model-access.jpg\" width=\"2100\" height=\"1384\" /></p> \n<p>To test the Meta Llama 3 models in the Amazon Bedrock console, choose <strong>Text </strong>or <strong>Chat </strong>under <strong>Playgrounds </strong>in the left menu pane. Then choose <strong>Select model</strong> and select <strong>Meta</strong> as the category and <strong>Llama 8B Instruct</strong> or <strong>Llama 3 70B Instruct</strong> as the model.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/19/2024-llama3-in-bedrock-2-text-playground.jpg\" width=\"2176\" height=\"1290\" /></p> \n<p>By choosing <strong>View API request</strong>, you can also access the model using code examples in the <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (AWS CLI)</a> and AWS SDKs. You can use model IDs such as <code>meta.llama3-8b-instruct-v1</code> or <code>meta.llama3-70b-instruct-v1</code>.</p> \n<p>Here is a sample of the AWS CLI command:</p> \n<pre><code>$ aws bedrock-runtime invoke-model \\\n  --model-id meta.llama3-8b-instruct-v1:0 \\\n  --body \"{\\\"prompt\\\":\\\"Simply put, the theory of relativity states that\\\\n the laws of physics are the same everywhere in the universe, and that the passage of time and the length of objects can vary depending on their speed and position in a gravitational field \\\",\\\"max_gen_len\\\":512,\\\"temperature\\\":0.5,\\\"top_p\\\":0.9}\" \\\n  --cli-binary-format raw-in-base64-out \\\n  --region us-east-1 \\\n  invoke-model-output.txt</code></pre> \n<p>You can use <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/service_code_examples.html\">code examples for Amazon Bedrock</a> using AWS SDKs to build your applications with various programming languages. The following Python code examples show how to invoke the Llama 3 Chat model in Amazon Bedrock for text generation.</p> \n<pre><code>def invoke_llama3(self, prompt):\n        try:\n            body = {\n                \"prompt\": prompt,\n                \"temperature\": 0.5,\n                \"top_p\": 0.9,\n                \"max_gen_len\": 512,\n            }\n\n            response = self.bedrock_runtime_client.invoke_model(\n                modelId=\"meta.llama3-8b-instruct-v1:0\", body=json.dumps(body)\n            )\n\n            response_body = json.loads(response[\"body\"].read())\n            completion = response_body[\"generation\"]\n\n            return completion\n\n        except ClientError:\n            logger.error(\"Couldn't invoke Llama 3\")\n            raise</code></pre> \n<p>You can use these Llama 3 models for a variety of tasks, such as question answering, language translation, sentiment analysis, and more. Here is an example of Llama 3 models with few-shot in-context learning where we provide training samples available to the model.</p> \n<pre><code><strong>Input:</strong> Translate English to French:\nsea otter =&gt; loutre de mer\npeppermint =&gt; menthe poivrée\nplush girafe =&gt; girafe peluche\ncheese =&gt;\n<strong>Output:</strong>  fromage\npanda =&gt; panda\npenguin =&gt; pingouin\npolar bear =&gt; ours polaire\npuffin =&gt; macareux\nsloth =&gt; paresseux\nwalrus =&gt; morse\nwhale =&gt; baleine\nzebra =&gt; z\\u00e8bre\n\nTranslate English to German:\nsea otter =&gt; Seeotter</code></pre> \n<p>You can also use Llama 3 instruct models optimized for dialogue use cases. The input to the instruct model endpoints is the previous history between the chat assistant and the user. So, you can ask questions contextual to the conversation that has happened so far and provide the system configuration, such as personas, which define the chat assistant’s behavior in the following format:</p> \n<pre><code>&lt;|begin_of_text|&gt;&lt;|start_header_id|&gt;system&lt;|end_header_id|&gt;\n[SYSTEM_TEXT]&lt;|eot_id|&gt;&lt;|start_header_id|&gt;user&lt;|end_header_id|&gt;\n[USER_TEXT]&lt;|eot_id|&gt;&lt;|start_header_id|&gt;assistant&lt;|end_header_id|&gt;</code></pre> \n<p>In the following example, the user has a conversation with the assistant about tourist sites in Paris. Then, the user inquires about the first option recommended by the chat assistant.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/19/2024-llama3-in-bedrock-3-70b-instruct.jpg\" width=\"2170\" height=\"1280\" /></p> \n<pre><code><strong>Input</strong>: &lt;|begin_of_text|&gt;&lt;|start_header_id|&gt;user&lt;|end_header_id|&gt;\\n\\n\nI am going to Paris, what should I see?&lt;|eot_id|&gt;&lt;|start_header_id|&gt;assistant&lt;|end_header_id|&gt;\\n\\n\nParis, the capital of France, is known for its stunning architecture, art museums, historical landmarks, and romantic atmosphere. Here are some of the top attractions to see in Paris:\\n\\n\n1. The Eiffel Tower: The iconic Eiffel Tower is one of the most recognizable landmarks in the world and offers breathtaking views of the city.\\n\n2. The Louvre Museum: The Louvre is one of the world's largest and most famous museums, housing an impressive collection of art and artifacts, including the Mona Lisa.\\n\n3. Notre-Dame Cathedral: This beautiful cathedral is one of the most famous landmarks in Paris and is known for its Gothic architecture and stunning stained glass windows.\\n\\n\nThese are just a few of the many attractions that Paris has to offer. With so much to see and do, it's no wonder that Paris is one of the most popular tourist destinations in the world.&lt;|eot_id|&gt;&lt;|start_header_id|&gt;user&lt;|end_header_id|&gt;\\n\\n\nWhat is so great about #1?&lt;|eot_id|&gt;&lt;|start_header_id|&gt;assistant&lt;|end_header_id|&gt;\\n\\n\n<strong>Output</strong>: The Eiffel Tower! It's an iconic symbol of Paris and one of the most recognizable landmarks in the world. Here are some reasons why it's so great:\\n\\n\n1. **Engineering marvel**: When it was built for the 1889 World's Fair, the Eiffel Tower was a groundbreaking feat of engineering. It was the tallest structure in the world at the time, standing at 324 meters (1,063 feet).\\n\n2. **Panoramic views**: The Eiffel Tower offers breathtaking 360-degree views of the city from its observation decks. You can see many of Paris' famous landmarks, such as the Seine River, the Louvre, and Montmartre.\\n\n3. **Romantic atmosphere**: The Eiffel Tower is often associated with romance and is a popular spot for proposals, weddings, and romantic dinners. The tower's iron latticework and twinkling lights at night add to its romantic ambiance.\\n\n4. **Historical significance**: The Eiffel Tower has played a significant role in French history, serving as a communication tower during World War I and a symbol of French culture and engineering.\\n\n5. **Accessibility**: The Eiffel Tower is easily accessible by public transportation or on foot, and there are various ways to experience it, including taking the stairs, elevator, or a guided tour.\\n\n6. **Nighttime spectacle**: The Eiffel Tower is even more magical at night, when it's illuminated with thousands of twinkling lights. The light show, known as the \\\"Eiffel Tower Sparkle,\\\" takes place every hour on the hour from dusk to midnight.\\n\n7. **Iconic status**: The Eiffel Tower has been featured in countless films, literature, and art, making it an instantly recognizable symbol of Paris and France.\\n\\n\nOverall, the Eiffel Tower is a must-visit attraction in Paris, offering a unique combination of history, engineering, romance, and stunning views.</code></pre> \n<p>To learn more about the new prompt template and special tokens of Llama 3, check out Meta’s <a href=\"https://llama.meta.com/docs/model-cards-and-prompt-formats/meta-llama-3\">model cards and prompt formats</a> or <a href=\"https://github.com/meta-llama/llama-recipes\">Llama Recipes</a> in the GitHub repository.</p> \n<p><strong><u>Now available</u></strong><br /> Meta’s Llama 3 models are available today in Amazon Bedrock in the US East (N. Virginia) and US West (Oregon) Regions. Check the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html\">full Region list</a> for future updates. To learn more, check out the <a href=\"https://aws.amazon.com/bedrock/llama/\">Llama in Amazon Bedrock product page</a> and <a href=\"https://aws.amazon.com/bedrock/pricing/\">pricing page</a>.</p> \n<p>Give Llama 3 a try in the <a href=\"https://console.aws.amazon.com/bedrock\">Amazon Bedrock console</a> today, and send feedback to <a href=\"https://repost.aws/tags/TAQeKlaPaNRQ2tWB6P7KrMag/amazon-bedrock\">AWS re:Post for Amazon Bedrock</a> or through your usual AWS Support contacts.</p> \n<p>Visit our <a href=\"https://community.aws/generative-ai?trk=e8665609-785f-4bbe-86e8-750a3d3e9e61&amp;sc_channel=el\">community.aws site</a> to find deep-dive technical content and to discover how our Builder communities are using Amazon Bedrock in their solutions.</p> \n<p>— <a href=\"https://twitter.com/channyun\">Channy</a></p>","author":"Channy Yun","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"5c043b82d8e2677de781e67391d03c711be0b730096b884ec87e0e2153155a2b","category":"Tech"}