{"title":"มาลองควบคุม web browser ด้วย Browser Use","link":"https://www.somkiat.cc/hello-web-with-browser-use/","date":1738081857000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2025/01/browser-use-01-150x150.jpg\" alt=\"\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2025/01/browser-use-01-150x150.jpg 150w, https://www.somkiat.cc/wp-content/uploads/2025/01/browser-use-01-75x75.jpg 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2025/01/browser-use-01.jpg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2025/01/browser-use-01.jpg\" alt=\"\" width=\"531\" height=\"298\" /></a></figure>\n\n\n\n<p>เห็นใน feed มีการ share เรื่องการควบคุม web browser ด้วย <strong><a href=\"https://browser-use.com/\" target=\"_blank\">Browser Use</a></strong><br />โดย library ตัวนี้บอกว่าเป็น AI Agent <br />ซึ่งการทำงานมีขั้นตอนดังนี้</p>\n\n\n\n<ul>\n<li>ทำการเปิด web browser เพื่อเข้าไปยัง URL ที่เรากำหนด</li>\n\n\n\n<li>ทำการ extract DOM ต่าง ๆ  ในหน้า web ออกมา</li>\n\n\n\n<li>จากนั้นทำงานตามที่เรากำหนดไว้ต่อไป</li>\n</ul>\n\n\n\n<p>ดังนั้นเรามาลองใช้งานกันดูแบบง่าย ๆ</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>เริ่มการใช้งาน</strong></p>\n\n\n\n<p>ในการใช้งานนั้นจะต้องติดตั้ง <a href=\"https://www.python.org/\" target=\"_blank\">Python</a> ก่อน<br />ส่วนการควบคุม web browser จะใช้งาน <a href=\"https://playwright.dev/\" target=\"_blank\">Playwright</a> ดังนี้</p>\n\n\n\n[gist id=\"bb95b1c6897acdaf0f71e4273a743f8f\" file=\"1.txt\"]\n\n\n\n<p>โดยการอ่านและ extract DOM ของแต่ละ page ออกมาจะใช้งาน Playwright นั่นเอง<br />ดูได้จาก <a href=\"https://github.com/browser-use/browser-use/tree/main/browser_use/dom\" target=\"_blank\">source code</a> ตรงนี้<br />อีกอย่างในการทำงานว่าจะ execute คำสั่งอะไรของ Playwright<br />เพื่อควบคุมการทำงานตามคำสั่งที่เรากำหนด<br />จะมีการเขียน prompt ขึ้นมา สามารถดูได้ใน <a href=\"https://github.com/browser-use/browser-use/blob/main/browser_use/agent/prompts.py\" target=\"_blank\">System prompt</a> ซึ่งละเอียดมาก ๆ<br />ยกตัวอย่างของ Prompt</p>\n\n\n\n[gist id=\"bb95b1c6897acdaf0f71e4273a743f8f\" file=\"prompt.txt\"]\n\n\n\n<p><strong>ขั้นตอนที่สอง ทำการเขียน code เพื่อทดลองใช้งาน</strong></p>\n\n\n\n<p>ซึ่งใช้งาน <strong>AI model=gemini-2.0-flash-exp</strong> ของ Google Genimi<br />จากนั้นสั่งให้ทำการเข้าไปใช้งาน <a href=\"https://seleniumbase.io/coffee/\" target=\"_blank\">https://seleniumbase.io/coffee/</a><br />มาดู code กันดู</p>\n\n\n\n[gist id=\"bb95b1c6897acdaf0f71e4273a743f8f\" file=\"demo.py\"]\n\n\n\n<p>รูปแบบของ task หรือคำสั่ง ให้ทำการซื้อ Americano 1 แก้ว และทำการสั่งซื้อด้วยชื่อและ email</p>\n\n\n\n[gist id=\"bb95b1c6897acdaf0f71e4273a743f8f\" file=\"2.txt\"]\n\n\n\n<p>ทำการ run ได้ผลดังนี้</p>\n\n\n\n[gist id=\"bb95b1c6897acdaf0f71e4273a743f8f\" file=\"3.txt\"]\n\n\n\n<p>จะเห็นได้ว่าตัว Agent หรือ browser use <br />จะทำการสร้าง task/action ออกมา<br />จากนั้นก็ทำการ eval หรือ เรียกใช้งาน function ของ Playwright<br />เพื่อทำงานต่อไป จนจะ success นั่นเอง</p>\n\n\n\n<p><strong>และผลการทำงานจะสร้างเป็น gif animation มาให้อีกด้วย</strong><br />ลอง click ดู</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2025/01/agent_history.gif\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2025/01/agent_history-1024x880.gif\" alt=\"\" width=\"442\" height=\"379\" /></a></figure>\n\n\n\n<p><strong>จะมีการตีกรอบใน element/locator จะเจอบนหน้า web ด้วย</strong></p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2025/01/browser-use-2.jpg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2025/01/browser-use-2.jpg\" alt=\"\" width=\"608\" height=\"409\" /></a></figure>\n\n\n\n<p>ลองใช้งานกันดูครับ<br />จะเป็นอีกเครื่องมือที่ช่วยดูว่า web ที่เราต้องการควบคุมนั้น<br />มันเหมาะหรือไม่ หรือ เราพัฒนาระบบงานให้มีความ accessibility ที่ดีหรือไม่ ?<br />สามารถดู <a href=\"https://github.com/up1/demo-ai-2025\" target=\"_blank\">code ได้ที่ GitHub</a></p>\n\n\n\n<p><strong><em>ปล. ลองใช้งาน model <a href=\"https://github.com/ollama/ollama/issues/8517\" target=\"_blank\">DeekSeek:7b พบว่าไม่สนับสนุน function call</a></em></strong></p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"c30ce52cffcdd055bfcdf9de66a5991539f8e1cf63d8a25a5533c4fccf18ea81","category":"Thai"}