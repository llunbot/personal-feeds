{"title":"Release Notes for Safari Technology Preview 133","link":"https://webkit.org/blog/11975/release-notes-for-safari-technology-preview-133/","date":1633021679000,"content":"<p><a href=\"https://webkit.org/blog/6017/introducing-safari-technology-preview/\">Safari Technology Preview</a> Release 133 is now <a href=\"https://webkit.org/downloads/\">available for download</a> for macOS Big Sur and betas of macOS Monterey. If you already have Safari Technology Preview installed, you can update in the Software Update pane of System Preferences on macOS.</p>\n<p>This release covers WebKit revisions <a href=\"https://trac.webkit.org/log?stop_rev=281797&amp;rev=282760&amp;limit=999\">281797-282760</a>.</p>\n<p><strong>Note:</strong> Tab Groups do not sync in this release.</p>\n<h3>CSS</h3>\n<ul>\n<li>Added support for the <code>x</code> resolution unit (<a href=\"https://trac.webkit.org/changeset/282396/webkit/\">r282396</a>)</li>\n<li>Added support for <code>self-start</code>,  <code>self-end</code>, <code>start</code>, <code>end</code>, <code>left</code>, and <code>right</code> values in positional alignment (<a href=\"https://trac.webkit.org/changeset/282267/webkit/\">r282267</a>, <a href=\"https://trac.webkit.org/changeset/282078/webkit/\">r282078</a>, <a href=\"https://trac.webkit.org/changeset/281840/webkit/\">r281840</a>)</li>\n<li>Added support for percentages in the <code>scale()</code> transform functions, and the <code>scale</code> property (<a href=\"https://trac.webkit.org/changeset/282144/webkit/\">r282144</a>)</li>\n<li>Added support for <code>sin()</code>, <code>cos()</code>, <code>tan()</code>, <code>e</code>, and <code>pi</code> in <code>calc()</code> (<a href=\"https://trac.webkit.org/changeset/282162/webkit/\">r282162</a>)</li>\n<li>Added support for <code>text-decoration-skip-ink</code> (<a href=\"https://trac.webkit.org/changeset/282397/webkit/\">r282397</a>)</li>\n<li>Added support for <code>input-security</code> (<a href=\"https://trac.webkit.org/changeset/282750/webkit/\">r282750</a>)</li>\n<li>Changed URLs in CSS variables to be resolved against the base URL of the stylesheet, not the document (<a href=\"https://trac.webkit.org/changeset/282403/webkit/\">r282403</a>)</li>\n<li>Fixed incorrect stacking order with an absolutely positioned and negative <code>z-index</code> <code>&lt;div&gt;</code> with a canvas child (<a href=\"https://trac.webkit.org/changeset/281913/webkit/\">r281913</a>)</li>\n<li>Fixed absolute positioning with orthogonal writing modes (<a href=\"https://trac.webkit.org/changeset/281995/webkit/\">r281995</a>)</li>\n<li>Fixed right-relative and bottom-relative values in <code>background-position-x</code> and <code>background-position-y</code> (<a href=\"https://trac.webkit.org/changeset/282234/webkit/\">r282234</a>)</li>\n<li>Fixed computed style for <code>transform-origin</code> on SVG boxes (<a href=\"https://trac.webkit.org/changeset/282379/webkit/\">r282379</a>)</li>\n<li>Fixed incorrect vertical position in table layout when the inline level box has <code>0px</code> height (<a href=\"https://trac.webkit.org/changeset/282256/webkit/\">r282256</a>)</li>\n<li>Fixed changing the border size on rows with <code>border-collapse</code> not redrawing (<a href=\"https://trac.webkit.org/changeset/282266/webkit/\">r282266</a>)</li>\n<li>Fixed <code>position: sticky</code> used within table cells (<a href=\"https://trac.webkit.org/changeset/282201/webkit/\">r282201</a>)</li>\n<li>Fixed incorrectly calculated <code>position: sticky</code> constraints when the scrolling container has padding and borders (<a href=\"https://trac.webkit.org/changeset/282138/webkit/\">r282138</a>)</li>\n<li>Fixed overflow to be computed with the actual logical bottom in CSS Grid (<a href=\"https://trac.webkit.org/changeset/282463/webkit/\">r282463</a>)</li>\n<li>Fixed RTL for an out of flow child in CSS Grid (<a href=\"https://trac.webkit.org/changeset/282340/webkit/\">r282340</a>)</li>\n<li>Fixed an interoperability issue in margin collapsing with <code>overflow: hidden</code> elements (<a href=\"https://trac.webkit.org/changeset/282085/webkit/\">r282085</a>)</li>\n<li>Fixed linear gradient getting drawn incorrectly sometimes (<a href=\"https://trac.webkit.org/changeset/282443/webkit/\">r282443</a>)</li>\n<li>Updated <code>transform-origin</code> to not accept four lengths (<a href=\"https://trac.webkit.org/changeset/282359/webkit/\">r282359</a>)</li>\n</ul>\n<h3>CSS Cascade Layers</h3>\n<ul>\n<li>Added initial support for CSS Cascade Layers available in the Experimental Features menu:\n<ul>\n<li>Added support for computing the order correctly for late added sublayers (<a href=\"https://trac.webkit.org/changeset/281798/webkit/\">r281798</a>)</li>\n<li>Supported layer argument in <code>@import</code> rules (<a href=\"https://trac.webkit.org/changeset/281928/webkit/\">r281928</a>)</li>\n</ul>\n</li>\n</ul>\n<h3>CSS Font Loading API</h3>\n<ul>\n<li>Updated the implementation of the CSS Font Loading API to be closer to the spec and other browsers:\n<ul>\n<li>Fixed <code>CSSFontFaceSrcValue.cssText</code> to be quoted consistently with other browsers (<a href=\"https://trac.webkit.org/changeset/282442/webkit/\">r282442</a>)</li>\n<li>Fixed <code>CSSFontFaceSet.clear()</code> to not clear CSS-connected members (<a href=\"https://trac.webkit.org/changeset/281842/webkit/\">r281842</a>)</li>\n<li>Updated FontFaceSet methods that need to react to style changes (<a href=\"https://trac.webkit.org/changeset/282016/webkit/\">r282016</a>, <a href=\"https://trac.webkit.org/changeset/282015/webkit/\">r282015</a>, <a href=\"https://trac.webkit.org/changeset/282015/webkit/\">r282015</a>, <a href=\"https://trac.webkit.org/changeset/282261/webkit/\">r282261</a>, <a href=\"https://trac.webkit.org/changeset/282204/webkit/\">r282204</a>)</li>\n<li>Updated <code>FontFaceSet.add()</code> to throw when called on a CSS-connected font (<a href=\"https://trac.webkit.org/changeset/281951/webkit/\">r281951</a>)</li>\n</ul>\n</li>\n</ul>\n<h3>Accessibility</h3>\n<ul>\n<li>Fixed blank braille display in <code>contenteditable</code> elements when the field is followed by another element (<a href=\"https://trac.webkit.org/changeset/281920/webkit/\">r281920</a>)</li>\n<li>Made PDFs loaded via <code>&lt;embed&gt;</code> accessible (<a href=\"https://trac.webkit.org/changeset/282358/webkit/\">r282358</a>)</li>\n</ul>\n<h3>JavaScript</h3>\n<ul>\n<li>Enabled <code>Object.hasOwn</code> (<a href=\"https://trac.webkit.org/changeset/281835/webkit/\">r281835</a>)</li>\n<li>Implemented <code>Temporal.PlainTime</code> behind the flag <code>--useTemporal=1</code> (<a href=\"https://trac.webkit.org/changeset/282125/webkit/\">r282125</a>)</li>\n<li>Implemented <code>Temporal.TimeZone</code> behind the flag <code>--useTemporal=1</code> (<a href=\"https://trac.webkit.org/changeset/282018/webkit/\">r282018</a>)</li>\n<li>Implemented <code>Temporal.Duration</code> behind the flag <code>--useTemporal=1</code> (<a href=\"https://trac.webkit.org/changeset/281838/webkit/\">r281838</a>)</li>\n<li>Implemented <code>self.structuredClone()</code> (<a href=\"https://trac.webkit.org/changeset/281808/webkit/\">r281808</a>)</li>\n<li>Implemented <code>Object.hasOwn()</code> (<a href=\"https://trac.webkit.org/changeset/281799/webkit/\">r281799</a>)</li>\n<li>Updated <code>Intl.Locale</code> <code>weekendInfo</code> to list all weekend days instead of range to follow to the latest spec change (<a href=\"https://trac.webkit.org/changeset/282257/webkit/\">r282257</a>)</li>\n<li>Optimized <code>JSON.stringify</code> for objects (<a href=\"https://trac.webkit.org/changeset/282707/webkit/\">r282707</a>)</li>\n<li>Optimized <code>JSON.parse</code> object creation (<a href=\"https://trac.webkit.org/changeset/282468/webkit/\">r282468</a>)</li>\n</ul>\n<h3>Web API</h3>\n<ul>\n<li>Added basic support for Storage API (<a href=\"https://trac.webkit.org/changeset/282130/webkit/\">r282130</a>)</li>\n<li>Added support for <code>ServiceWorkerGlobalScope.serviceWorker</code> (<a href=\"https://trac.webkit.org/changeset/281854/webkit/\">r281854</a>)</li>\n<li>Added handling for non-fully active documents in <code>navigator.share() / navigator.canShare()</code> (<a href=\"https://trac.webkit.org/changeset/282282/webkit/\">r282282</a>)</li>\n<li>Enabled BroadcastChannel (<a href=\"https://trac.webkit.org/changeset/282426/webkit/\">r282426</a>)</li>\n<li>Enabled Cross-Origin-Opener-Policy / Cross-Origin-EmbedderPolicy headers support (<a href=\"https://trac.webkit.org/changeset/282105/webkit/\">r282105</a>, <a href=\"https://trac.webkit.org/changeset/282246/webkit/\">r282246</a>)</li>\n<li>Enabled SharedArrayBuffer support when COOP/COEP headers are used (<a href=\"https://trac.webkit.org/changeset/281832/webkit/\">r281832</a>)</li>\n<li>Fixed scrollbars on <code>pointer-events: none</code> element still intercepting events (<a href=\"https://trac.webkit.org/changeset/281991/webkit/\">r281991</a>)</li>\n<li>Implemented top-origin and frame-origin partitioning for BroadcastChannel (<a href=\"https://trac.webkit.org/changeset/282105/webkit/\">r282105</a>, <a href=\"https://trac.webkit.org/changeset/282366/webkit/\">r282366</a>)</li>\n<li>Implemented the <code>borderBoxSize</code> and <code>contentBoxSize</code> parts of ResizeObserver (<a href=\"https://trac.webkit.org/changeset/282441/webkit/\">r282441</a>)</li>\n<li>Implemented navigation reporting for Cross-Origin-Opener-Policy (<a href=\"https://trac.webkit.org/changeset/282305/webkit/\">r282305</a>)</li>\n<li>Implemented <code>getClientRects()</code> for SVG elements (<a href=\"https://trac.webkit.org/changeset/282316/webkit/\">r282316</a>)</li>\n<li>Updated to always fetch the first manifest if provided (<a href=\"https://trac.webkit.org/changeset/282026/webkit/\">r282026</a>)</li>\n<li>Updated to preserve color space when creating ImageBuffers for ImageBitmaps (<a href=\"https://trac.webkit.org/changeset/282696/webkit/\">r282696</a>)</li>\n</ul>\n<h3>WebRTC</h3>\n<ul>\n<li>Added support for RTCError and RTCErrorEvent (<a href=\"https://trac.webkit.org/changeset/282199/webkit/\">r282199</a>)</li>\n<li>Added support for RTCDataChannel closing event (<a href=\"https://trac.webkit.org/changeset/282198/webkit/\">r282198</a>)</li>\n<li>Added support for RTCSctpTransport (<a href=\"https://trac.webkit.org/changeset/282197/webkit/\">r282197</a>)</li>\n<li>Updated timing of RTCPeerConnection descriptions update to align with the WebRTC spec (<a href=\"https://trac.webkit.org/changeset/282217/webkit/\">r282217</a>)</li>\n<li>Updated signaling state check when applying a local or remote description to align with the WebRTC spec (<a href=\"https://trac.webkit.org/changeset/281985/webkit/\">r281985</a>)</li>\n<li>Updated <code>getDisplayMedia</code> to capture at the constrained size if possible (<a href=\"https://trac.webkit.org/changeset/281880/webkit/\">r281880</a>)</li>\n</ul>\n<h3>Media</h3>\n<ul>\n<li>Fixed the progress bar moving when playback stops (<a href=\"https://trac.webkit.org/changeset/282374/webkit/\">r282374</a>)</li>\n<li>Fixed an incorrect number of frames returned if the decoding frame rate doesn’t match the original in WebM (<a href=\"https://trac.webkit.org/changeset/282196/webkit/\">r282196</a>)</li>\n<li>Removed Web Audio <code>canPlayType()</code> workaround that made it reports false negatives (<a href=\"https://trac.webkit.org/changeset/282137/webkit/\">r282137</a>)</li>\n</ul>\n<h3>WebGL</h3>\n<ul>\n<li>Fixed <code>image-rendering: crisp-edges</code> for WebGL canvases (<a href=\"https://trac.webkit.org/changeset/282335/webkit/\">r282335</a>)</li>\n</ul>\n<h3><strong>Web and App Extensions</strong></h3>\n<ul>\n<li>Added the extension’s icon to extension URL tabs for both app and web extensions</li>\n<li>Added the extension name as the title of tabs when an app extension page and does not specify a title</li>\n</ul>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"6d55e2d407987ad365b2ea5de7fcd1fac00f67f4f829706339dd41ea6341c8a3","category":"Tech"}