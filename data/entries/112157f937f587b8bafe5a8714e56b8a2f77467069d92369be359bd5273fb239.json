{"title":"สรุปการทดสอบ REST API ที่สร้างด้วย FastAPI","link":"https://www.somkiat.cc/testing-with-fastapi/","date":1729222430000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/10/fastapi-testing-150x150.png\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/10/fastapi-testing-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2024/10/fastapi-testing-75x75.png 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/10/fastapi-testing.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/10/fastapi-testing-1024x538.png\" width=\"680\" height=\"357\" /></a></figure>\n\n\n\n<p>คำถามใน <a href=\"https://www.skooldio.com/workshops/fullstack-automation-software-testing\" target=\"_blank\">course Full Stack Automation Testing รุ่นที่ 2 ที่ Skooldio</a><br />เกี่ยวกับการทดสอบ REST API ที่สร้างด้วย FastAPI<br />ว่าทำอย่างไร ?</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>ในการทดสอบ REST API นั้นจะแบ่งออกเป็น 2 แบบหลัก ๆ คือ</strong></p>\n\n\n\n<ul>\n<li><strong>External testing</strong> คือ มุมมองคนภายนอก เช่น ใช้ Postman ยิงเข้ามา มองว่าเป็น black box testing ก็ได้</li>\n\n\n\n<li><strong>Internal testing</strong> คือ เขียน code test ด้วยภาษาเดียวกับที่ใช้พัฒนา แต่มีการ start server, ส่ง request และ ตรวจสอบ response เหมือนการทำงานจองระบบจริง ๆ</li>\n</ul>\n\n\n\n<p>โดยในตัวอย่างนี้ เป็น Internal testing มาเริ่มกันเลย</p>\n\n\n\n<p><strong>ขั้นตอนที่ 1 สร้าง REST API แบบง่าย ๆ คือ Hello World นี่แหละ</strong></p>\n\n\n\n[gist id=\"fbae17d97cff8026d822664aae808b3c\" file=\"main.py\"]\n\n\n\n<p><strong>ขั้นตอนที่ 2 ทำการทดสอบด้วย <a href=\"https://docs.pytest.org/en/stable/\" target=\"_blank\">pytest library</a></strong></p>\n\n\n\n<p>เขียน code test แบบง่าย ๆ  โดยจะทำการสร้าง server และ client ส่ง request ไปยังระบบ<br />จากนั้นทำการตรวยจสอบผลลัพธ์ ว่าตรงตามที่ต้องการหรือไม่</p>\n\n\n\n[gist id=\"fbae17d97cff8026d822664aae808b3c\" file=\"main_test.py\"]\n\n\n\n<p><strong>ขั้นตอนที่ 3 เมื่อทดสอบแล้ว ก็อยากได้ code coverage report ด้วย <a href=\"https://pypi.org/project/pytest-cov/\" target=\"_blank\">pytest-cov</a> library</strong></p>\n\n\n\n<p>ด้วยการ run ด้วยนี้</p>\n\n\n\n[gist id=\"fbae17d97cff8026d822664aae808b3c\" file=\"1.txt\"]\n\n\n\n<p>เพียงเท่านี้ก็สามารถทดสอบแบบง่าย ๆ  ได้แล้ว<br />ขอให้สนุกกับการ coding</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"112157f937f587b8bafe5a8714e56b8a2f77467069d92369be359bd5273fb239","category":"Thai"}