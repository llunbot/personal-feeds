{"title":"มาดูความสามารถใน Kafka 3.8","link":"https://www.somkiat.cc/kafka-3-8/","date":1724471961000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/08/kafka-01-150x150.jpg\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/08/kafka-01-150x150.jpg 150w, https://www.somkiat.cc/wp-content/uploads/2024/08/kafka-01-75x75.jpg 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/08/kafka-01.jpg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/08/kafka-01.jpg\" width=\"635\" height=\"374\" /></a></figure>\n\n\n\n<p>หลังจากที่ <strong><a href=\"https://kafka.apache.org/documentation.html#upgrade_3_8_0\" target=\"_blank\">Kafka 3.8</a></strong> ปล่อยมาให้ใช้งานนั้น<br />มี JBOD (Just a Bunch Of Disks) ซึ่งสนับสนุน KRaft-based cluster นั้น<br />เปลี่ยนสถานะมาเป็น production mode แล้ว<br />ทำให้สามารถแยก log ของแต่ละ broker ออกจากกันได้แล้ว<br />ไม่ต้องเก็บ log ไว้ที่เดียวกันอีกต่อไป<br />และยังแยก storage ให้เหมาะกับแต่ละ broker ในแต่ละเครื่องได้อีกด้วย</p>\n\n\n\n<span></span>\n\n\n\n<p>รวมไปถึงเรื่องของการ compress level ข้อมูลแยกตาม<br />Broker, producer และ topic ได้<br />ซึ่งจะมี gzip, lz4, และ zstd codec ให้ใช้งาน<br />ส่วน snappy codec นั้น deprecated ไปแล้ว</p>\n\n\n\n<p><strong>ส่วน feature ที่น่าสนใจอื่น ๆ ประกอบไปด้วย</strong></p>\n\n\n\n<ul>\n<li>ZooKeeper ถูก deprecate ตั้งแต่ Kafka 3.5 และจะถูกเอาออกไปใน version 4.0</li>\n\n\n\n<li>Kafka 3.6 นั้นให้ KRaft-based cluster เป็น production mode แล้ว</li>\n\n\n\n<li>มี <a href=\"https://hub.docker.com/r/apache/kafka\" target=\"_blank\">Docker image แบบ official</a> ให้แล้ว มีทั้ง JVM-based และ GraallVM หรือ native ให้ใช้งาน มีทั้งแบบแยกหรือรวม controller กับ broker ให้เลือก</li>\n</ul>\n\n\n\n<p>กับเรื่องของ <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-848%3A+The+Next+Generation+of+the+Consumer+Rebalance+Protocol\" target=\"_blank\">Consumer Rebalance Protocol (CRP)</a> ตัวใหม่<br />ที่พยายามลดความซับซ้อน และผลกระทบต่อ consumer จากการเปลี่ยนแปลง rebalance algorithm อีกด้วย<br />เข้าสูสถานะ preview แล้ว ไว้รอทดสอบกันดู</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/08/kafka-02.jpg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/08/kafka-02-1024x634.jpg\" width=\"434\" height=\"269\" /></a></figure>\n\n\n\n<p>ทำการ update cluster กันครับ</p>\n\n\n\n<p><strong>Reference Websites</strong></p>\n\n\n\n<ul>\n<li><a href=\"https://www.confluent.io/blog/introducing-apache-kafka-3-8/\" target=\"_blank\">Introducing Apache Kafka® 3.8</a></li>\n</ul>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"daf900517c426dba70ceb5193f2f4da42cbe3f68f0dec2f75b01f5031eaf6601","category":"Thai"}