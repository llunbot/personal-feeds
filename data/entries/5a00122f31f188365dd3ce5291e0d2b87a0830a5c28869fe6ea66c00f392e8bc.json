{"title":"Time To First Byte: Beyond Server Response Time","link":"https://smashingmagazine.com/2025/02/time-to-first-byte-beyond-server-response-time/","date":1739379600000,"content":"<p>This article is a sponsored by <a href=\"https://www.debugbear.com/?utm_campaign=sm-8\">DebugBear</a></p>\n<p>Loading your website HTML quickly has a big impact on visitor experience. After all, no page content can be displayed until after the first chunk of the HTML has been loaded. That’s why the <a href=\"https://www.debugbear.com/docs/metrics/time-to-first-byte?utm_campaign=sm-8\">Time to First Byte</a> (TTFB) metric is important: it measures how soon after navigation the browser starts receiving the HTML response.</p>\n<p>Generating the HTML document quickly plays a big part in minimizing TTFB delays. But actually, there’s a lot more to optimizing this metric. In this article, we’ll take a look at what else can cause poor TTFB and what you can do to fix it.</p>\nWhat Components Make Up The Time To First Byte Metric?\n<p>TTFB stands for Time <em>to</em> First Byte. But where does it measure <em>from</em>?</p>\n<p>Different tools handle this differently. Some only count the time spent sending the HTTP request and getting a response, ignoring everything else that needs to happen first before the resource can be loaded. However, when looking at Google’s <a href=\"https://www.debugbear.com/docs/metrics/core-web-vitals?utm_campaign=sm-8\">Core Web Vitals</a>, TTFB starts from the time <a href=\"https://developer.chrome.com/docs/crux/methodology/metrics#ttfb-metric\">when the users start navigating to a new page</a>. That means TTFB includes:</p>\n<ul>\n<li>Cross-origin redirects,</li>\n<li>Time spent connecting to the server,</li>\n<li>Same-origin redirects, and</li>\n<li>The actual request for the HTML document.</li>\n</ul>\n<p>We can see an example of this in this <a href=\"https://developer.mozilla.org/en-US/blog/optimize-web-performance/#working_with_network_request_waterfalls\">request waterfall visualization</a>.</p>\n<p><img src=\"https://files.smashing.media/articles/time-to-first-byte-beyond-server-response-time/1-request-waterfall-visualization.png\" /></p>\n<p>The <a href=\"https://www.debugbear.com/blog/reduce-initial-server-response-time?utm_campaign=sm-8\">server response time</a> here is only 183 milliseconds, or about 12% of the overall TTFB metric. Half of the time is instead spent on a cross-origin redirect — a separate HTTP request that returns a redirect response before we can even make the request that returns the website’s HTML code. And when we make that request, most of the time is spent on establishing the server connection.</p>\n<p>Connecting to a server on the web typically takes three round trips on the network:</p>\n<ol>\n<li><strong>DNS:</strong> Looking up the server IP address.</li>\n<li><strong>TCP:</strong> Establishing a reliable connection to the server.</li>\n<li><strong>TLS:</strong> Creating a secure encrypted connection.</li>\n</ol>\nWhat Network Latency Means For Time To First Byte\n<p>Let’s add up all the network round trips in the example above:</p>\n<ul>\n<li>2 server connections: 6 round trips.</li>\n<li>2 HTTP requests: 2 round trips.</li>\n</ul>\n<p>That means that before we even get the first response byte for our page <strong>we actually have to send data back and forth between the browser and a server eight times!</strong></p>\n<p>That’s where network latency comes in, or <a href=\"https://www.debugbear.com/blog/network-round-trip-time-latency?utm_campaign=sm-8\">network round trip time</a> (RTT) if we look at the time it takes to send data to a server and receive a response in the browser. On a high-latency connection with a 150 millisecond RTT, making those eight round trips will take 1.2 seconds. So, even if the server always responds instantly, we can’t get a TTFB lower than that number.</p>\n<p>Network latency depends a lot on the geographic distances between the visitor’s device and the server the browser is connecting to. You can see the impact of that in practice by running a <a href=\"https://www.debugbear.com/test/ttfb?utm_campaign=sm-8\">global TTFB test</a> on a website. Here, I’ve tested a website that’s hosted in Brazil. We get good TTFB scores when testing from Brazil and the US East Coast. However, visitors from Europe, Asia, or Australia wait a while for the website to load.</p>\n<p><img src=\"https://files.smashing.media/articles/time-to-first-byte-beyond-server-response-time/2-global-ttfb-test.png\" /></p>\nWhat Content Delivery Networks Mean for Time to First Byte\n<p>One way to speed up your website is by using a <a href=\"https://www.cloudflare.com/en-gb/learning/cdn/what-is-a-cdn/\">Content Delivery Network</a> (CDN). These services provide a network of globally distributed server locations. Instead of each round trip going all the way to where your web application is hosted, browsers instead connect to a nearby CDN server (called an edge node). That greatly reduces the time spent on establishing the server connection, improving your overall TTFB metric.</p>\n<p>By default, the actual HTML request still has to be sent to your web app. However, if your content isn’t dynamic, you can also <a href=\"https://www.debugbear.com/blog/cdn-cache?utm_campaign=sm-8\">cache responses at the CDN edge node</a>. That way, the request can be served entirely through the CDN instead of data traveling all across the world.</p>\n<p>If we run a TTFB test on a website that uses a CDN, we can see that each server response comes from a regional data center close to where the request was made. In many cases, we get a TTFB of under 200 milliseconds, thanks to the response already being cached at the edge node.</p>\n<p><img src=\"https://files.smashing.media/articles/time-to-first-byte-beyond-server-response-time/3-global-ttfb-test.png\" /></p>\nHow To Improve Time To First Byte\n<p>What you need to do to improve your website’s TTFB score depends on what its biggest contributing component is.</p>\n<ul>\n<li>A lot of time is spent establishing the connection: <strong>Use a global CDN.</strong></li>\n<li>The server response is slow: <strong>Optimize your application code</strong> or <strong>cache the response</strong></li>\n<li>Redirects delay TTFB: <a href=\"https://www.debugbear.com/blog/avoid-multiple-page-redirects?utm_campaign=sm-8\"><strong>Avoid chaining redirects</strong></a> and <strong>optimize the server</strong> returning the redirect response.</li>\n</ul>\n<p><img src=\"https://files.smashing.media/articles/time-to-first-byte-beyond-server-response-time/4-ttfb-details.png\" /></p>\n<p>Keep in mind that TTFB depends on how visitors are accessing your website. For example, if they are logged into your application, the page content probably can’t be served from the cache. You may also see a spike in TTFB when running an ad campaign, as visitors are redirected through a click-tracking server.</p>\nMonitor Real User Time To First Byte\n<p>If you want to get a breakdown of what TTFB looks like for different visitors on your website, you need <a href=\"https://www.debugbear.com/real-user-monitoring?utm_campaign=sm-8\">real user monitoring</a>. That way, you can break down how visitor location, login status, or the referrer domain impact real user experience.</p>\n<p><a href=\"https://www.debugbear.com/?utm_campaign=sm-8\">DebugBear</a> can help you collect real user metrics for Time to First Byte, Google Core Web Vitals, and other page speed metrics. You can track individual TTFB components like TCP duration or redirect time and break down website performance by country, ad campaign, and more.</p>\n<p><img src=\"https://files.smashing.media/articles/time-to-first-byte-beyond-server-response-time/5-time-to-first-byte-map.png\" /></p>\nConclusion\n<p>By looking at everything that’s involved in serving the first byte of a website to a visitor, we’ve seen that just reducing server response time isn’t enough and often won’t even be the most impactful change you can make on your website.</p>\n<p>Just because your website is fast in one location doesn’t mean it’s fast for everyone, as website speed varies based on where the visitor is accessing your site from.</p>\n<p><strong>Content Delivery Networks</strong> are an incredibly powerful way to improve TTFB. Even if you don’t use any of their advanced features, just using their global server network saves a lot of time when establishing a server connection.</p>","author":"","siteTitle":"Articles on Smashing Magazine — For Web Designers And Developers","siteHash":"ab069ca35bf300e9db0da36f49701f66485a5b0d2db0471dfeee07cef6204939","entryHash":"5a00122f31f188365dd3ce5291e0d2b87a0830a5c28869fe6ea66c00f392e8bc","category":"Tech"}