{"title":"Terraform Cloud now supports multiple configurations for dynamic provider credentials","link":"https://www.hashicorp.com/blog/terraform-cloud-now-supports-multiple-configurations-for-dynamic-provider-credent","date":1690819200000,"content":"<p>Earlier this year, we built upon the workload identity functionality in HashiCorp Terraform Cloud by adding a new authentication method, <a href=\"https://www.hashicorp.com/blog/terraform-cloud-adds-dynamic-provider-credentials-vault-official-cloud-providers\">dynamic provider credentials</a>, for the <a href=\"https://registry.terraform.io/browse/providers\">major cloud providers</a>, the HashiCorp Vault provider, and Vaultâ€™s <a href=\"https://www.hashicorp.com/blog/terraform-cloud-adds-vault-backed-dynamic-credentials\">dynamic secrets engines</a>. This native support lets users authenticate to providers using short-lived, just-in-time credentials in their Terraform Cloud workflows. The enhancement helps users reduce the risk of exposure from storing long-lived static credentials and avoid the burden of manual secret rotation.</p>\n\n<p>Terraform offers users the ability to define multiple configurations for the same provider on a per-resource or per-module basis with <a href=\"https://developer.hashicorp.com/terraform/language/providers/configuration#alias-multiple-provider-configurations\">aliases</a>. However, with the previous dynamic provider credentials releases, users could configure only one set of credentials per provider and workspace. This limitation hindered users who had multiple aliases for the same provider, as they couldn't fully embrace the benefits of the new authentication functionality.</p>\n\n<h2>Introducing multiple configurations</h2>\n\n<p>Multiple configurations for dynamic provider credentials address this problem by allowing users to authenticate multiple aliases of the same provider within a single workspace when provisioning infrastructure. This can be especially useful when provisioning across multiple regions and accounts, or targeting multiple clusters within the same provider. </p>\n\n<p>Users can now configure workspaces with additional environment variables for a provider alias to authenticate with dynamic provider credentials. This allows them to:</p>\n\n<ul>\n<li>Use dynamic provider credentials to uniquely authenticate multiple aliases of the same provider in a workspace</li>\n<li>Configure separate cloud provider aliases with different roles/permissions in different accounts or regions</li>\n</ul>\n<img src=\"https://www.datocms-assets.com/2885/1690735958-screenshot-2023-07-30-at-12-52-05-pm.png\" alt=\"Variables\" /><h2>Summary and resources</h2>\n\n<p>Dynamic credential management plays a key part in ensuring a secure provisioning workflow with Terraform and the providers it interacts with. To learn more about multiple configurations for dynamic provider credentials and how Terraform can help ensure security best practices in your provisioning workflows, please refer to the <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/workspaces/dynamic-provider-credentials/specifying-multiple-configurations\">Specifying multiple configurations</a> page in the dynamic provider credentials documentation.Environment variables assigned to a workspace enable dynamic provider credentials for multiple instances of the AWS provider with unique roles.</p>\n","author":"Mitchell Ross","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"0510caf4c83eca5fccdbcb35d7bb5937dcbe3e0e3f579151fc3bf6e1a1ba753f","category":"Tech"}