{"title":"Enhancing Azure Deployments with AzureRM and AzAPI Terraform Providers","link":"https://www.hashicorp.com/blog/enhancing-azure-deployments-with-azurerm-and-azapi-terraform-providers","date":1730318400000,"content":"<p>In addition to the AzureRM Terraform provider, Microsoft maintains another Terraform provider for Azure services: AzAPI, <a href=\"https://techcommunity.microsoft.com/t5/azure-tools-blog/announcing-azapi-2-0/ba-p/4275733\">which recently reached version 2.0</a>.  With this new release, we collaborated with Microsoft to offer a comparison guide to help Terraform users decide which provider to use. This blog will look at the ideal scenarios for each provider with clear guidance, particularly those familiar with the AzureRM provider.</p>\n\n<h2>Comparing AzureRM and AzAPI Terraform providers</h2>\n\n<p>At a high level, AzureRM provides a stable, well-tested layer on top of Azure APIs. It handles the entire resource lifecycle — creation, updates, and deletion — while managing breaking changes, ensuring smooth operations. AzureRM is ideal for users looking for stability and simplified configuration management.</p>\n\n<p>On the other hand, AzAPI is a lightweight wrapper around Azure APIs, enabling direct and early access to the latest Azure features. It allows for quicker adoption of new services or workarounds for AzureRM limitations, making it ideal for users who need the latest Azure services and functionality as fast as possible. The sections below look deeper into what these differences mean for you.</p>\n\n<h2>AzureRM: A proven, simplified approach</h2>\n\n<p>AzureRM abstracts complexity by managing Azure API versions on your behalf. The provider ensures that resources are fully compatible with one another and that configuration changes don't introduce breaking issues, thanks to its rigorous testing. If you're using resources that don't require constant updates or access to the latest API versions, AzureRM provides a more stable and simplified experience.</p>\n\n<p>Key benefits of AzureRM:</p>\n\n<ul>\n<li><strong>Automatic API versioning:</strong> AzureRM handles API version compatibility, making upgrades seamless.</li>\n<li><strong>Simplicity:</strong> Resource property names are intuitive (e.g., <code>disk_size_in_gb</code> vs. <code>disk_size</code>), reducing the need to consult Azure API documentation frequently.</li>\n<li><strong>Comprehensive documentation:</strong> AzureRM offers extensive resources and examples for each service, making it easier to onboard and use in your projects.</li>\n</ul>\n\n<p>AzureRM is ideal for scenarios where you prioritize stability, want to minimize complexity, and don't need the very latest features.</p>\n\n<h2>AzAPI: Cutting-edge access to Azure APIs</h2>\n\n<p>AzAPI, by contrast, provides a thinner layer, allowing for direct access to the latest Azure API versions as soon as they're available. It's perfect for scenarios where you need quick access to preview features before they are fully supported in AzureRM.</p>\n\n<p>Key benefits of AzAPI:</p>\n\n<ul>\n<li><strong>Immediate API access:</strong> AzAPI gives users access to the latest API versions for Azure resources, allowing teams to use new Azure services and features sooner.</li>\n<li><strong>Targeted resource updates:</strong> With the <code>azapi_update_resource</code> function, you can modify specific resource properties without upgrading the entire resource or provider.</li>\n<li><strong>Fine-grained control:</strong> AzAPI's approach to resource versioning allows for more control over the infrastructure configuration, giving users the ability to choose API versions that best fit their needs.</li>\n</ul>\n\n<p>AzAPI is recommended for scenarios where early access to new Azure features is crucial, or when you need granular control over resource versions.</p>\n\n<h2>Documentation and community support</h2>\n\n<p>AzureRM has a more extensive collection of blog posts, community contributions, and official documentation. This makes it easier for new users to find examples and ramp up quickly.</p>\n\n<p>AzAPI, while newer, follows Azure's API structures more closely, making it easier for users familiar with Bicep or ARM templates to understand.</p>\n\n<h2>When to use each provider</h2>\n\n<p><strong>Choose AzureRM</strong> if you prioritize stability, simplicity, and automatic versioning. It's best for teams that want to minimize the complexity of managing infrastructure and don't need immediate access to new Azure features.</p>\n\n<p><strong>Choose AzAPI</strong> if you need cutting-edge access to the latest Azure APIs or need to customize resource configurations without waiting for AzureRM to be updated. It's ideal for teams that require rapid innovation and fine-grained control over API versions.</p>\n\n<p>Both providers provide a first-class experience, backed by Microsoft and HashiCorp, and can be adapted based on your needs. You can also transition between them seamlessly with tools like the upcoming Azure Terraform Migration tool release (<a href=\"https://github.com/Azure/aztfmigrate\">aztfmigrate</a>), making it easy to adjust your approach as your infrastructure evolves.</p>\n\n<p>We hope this guide along with Microsoft's guide to <a href=\"https://aka.ms/tf/providermessaging\">Unlocking the Best of Azure with AzureRM and AzAPI Providers</a> helps you determine when to use AzureRM versus AzAPI, ensuring you get the most out of your Terraform and Azure infrastructure.</p>\n","author":"Mike Doheny","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"79023a4a787cd098a4b89770b91fa45c5e8c5cc9ea1daab46b63894c856e49a7","category":"Tech"}