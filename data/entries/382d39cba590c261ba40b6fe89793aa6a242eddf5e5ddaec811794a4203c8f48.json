{"title":"WebKit Features in Safari 18.5","link":"https://webkit.org/blog/16923/webkit-features-in-safari-18-5/","date":1747070151000,"content":"<p>Safari 18.5 is here, with Declarative Web Push on macOS and more. After the massive set of <a href=\"https://webkit.org/blog/16574/webkit-features-in-safari-18-4/\">new WebKit features and fixes in Safari 18.4</a>, this release is far more modest. It includes bug fixes and follow-ups to the last release.</p>\n<h2>Declarative Web Push on macOS</h2>\n<p>Declarative Web Push is now available on macOS. This new approach to push notifications on the web doesn’t require Service Workers — which makes it far easier for you as a developer to implement. And saves battery life for your users.</p>\n<p>Every notification uses a standardized JSON format:</p>\n<pre><code>{\n    <span>\"web_push\"</span><span>:</span> <span>8030</span>,\n    <span>\"notification\"</span><span>:</span> {\n        <span>\"title\"</span><span>:</span> <span>\"Webkit.org — Meet Declarative Web Push\"</span>,\n        <span>\"lang\"</span><span>:</span> <span>\"en-US\"</span>,\n        <span>\"dir\"</span><span>:</span> <span>\"ltr\"</span>,\n        <span>\"body\"</span><span>:</span> <span>\"Send push notifications without JavaScript or service worker!\"</span>,\n        <span>\"navigate\"</span><span>:</span> <span>\"https://webkit.org/blog/16535/meet-declarative-web-push/\"</span>,\n        <span>\"silent\"</span><span>:</span> <span>false</span>,\n        <span>\"app_badge\"</span><span>:</span> <span>\"1\"</span>\n    }\n}\n</code></pre>\n<p>Because Declarative Web Push doesn’t have the potential for misuse that original Web Push does, there’s no need to enforce limitations and penalties for failing to display a notification. It’s more private and more energy efficient by design. And it can be used today with an elegant backwards compatibility path for browser engines that haven’t yet added support.</p>\n<p>Learn all about it in <a href=\"https://webkit.org/blog/16535/meet-declarative-web-push/\">Meet Declarative Web Push</a>.</p>\n<h2>Bug Fixes and more</h2>\n<h3>Editing</h3>\n<ul>\n<li>Fixed some errors in finding the caret position from a click or tap on iOS in vertical writing modes. (146512180)</li>\n</ul>\n<h3>JavaScript</h3>\n<ul>\n<li>Fixed processing of an alternation of strings. (147776512)</li>\n</ul>\n<h3>Lockdown Mode</h3>\n<ul>\n<li>Fixed a logic error present in iOS 18.4 and aligned releases that caused Lockdown Mode-exempted websites and apps to incorrectly restrict image formats. (149401615)</li>\n</ul>\n<h3>Networking</h3>\n<ul>\n<li>Fixed an issue where using WebSockets within a WebWorker could cause the entire worker to freeze by preventing the worker’s run loop from executing during the send operation. (149070944)</li>\n</ul>\n<h3>PDF</h3>\n<ul>\n<li>Fixed VoiceOver focus popping out of the text field or getting stuck. (148340058)</li>\n</ul>\n<h3>Rendering</h3>\n<ul>\n<li>Fixed an issue where text incorrectly overflows in <code>width: max-content</code> grids with <code>min-content</code> columns due to incorrect <code>min-content</code> sizing during track sizing, ensuring the grid properly accommodates the item’s <code>max-content</code> width. (149095793)</li>\n</ul>\n<h3>Sandboxing</h3>\n<ul>\n<li>Fixed an issue where the WebContent process would not respond to notifications due to a missing entitlement, ensuring notifications are properly forwarded by conditionalizing the sandbox rule. (148108994)</li>\n</ul>\n<h3>Service Workers</h3>\n<ul>\n<li>Fixed Service Worker downloads being prematurely interrupted. (143065672)</li>\n<li>Fixed moving a download file to its final destination. (146326574)</li>\n</ul>\n<h3>Web Extensions</h3>\n<ul>\n<li>Fixed <code>declarativeNetRequestWithHostAccess</code> permission removing site access even though the extension already has permission to inject scripts. (145484265)</li>\n<li>Fixed the Permissions API to return either <code>&lt;all_urls&gt;</code> or <code>*://*/*</code> match pattern depending on which was requested by the extension. (149003428)</li>\n</ul>\n<h2>Updating to Safari 18.5</h2>\n<p>Safari 18.5 is available on <a href=\"https://www.apple.com/ios/ios-18/\">iOS 18.5</a>, <a href=\"https://www.apple.com/ipados/ipados-18/\">iPadOS 18.5</a>, <a href=\"https://www.apple.com/macos/\">macOS Sequoia 15.5</a>, macOS Sonoma, macOS Ventura, and in <a href=\"https://www.apple.com/visionos/\">visionOS 2.5</a>. To get the latest version of Safari on iPhone, iPad or Apple Vision Pro, go to Settings &gt; General &gt; Software Update, and tap to update.</p>\n<p>If you are running macOS Sonoma or macOS Ventura, you can update Safari by itself, without updating macOS. Go to  &gt; System Settings &gt; General &gt; Software Update and click “More info…” under Updates Available.</p>\n<h2>Feedback</h2>\n<p>We love hearing from you. To share your thoughts, find our web evangelist online: Jen Simmons on <a href=\"https://bsky.app/profile/jensimmons.bsky.social\">Bluesky</a> / <a href=\"https://front-end.social/@jensimmons\">Mastodon</a>, Saron Yitbarek on <a href=\"https://bsky.app/profile/saron.bsky.social\">BlueSky</a>, and Jon Davis on <a href=\"https://bsky.app/profile/jondavis.bsky.social\">Bluesky</a> / <a href=\"https://mastodon.social/@jondavis\">Mastodon</a>. You can follow WebKit <a href=\"https://www.linkedin.com/in/apple-webkit/\">on LinkedIn</a>. If you run into any issues, we welcome your <a href=\"https://feedbackassistant.apple.com/\">feedback</a> on Safari UI (learn more about <a href=\"https://developer.apple.com/bug-reporting/\">filing Feedback</a>), or your <a href=\"https://bugs.webkit.org/\">WebKit bug report</a> about web technologies or Web Inspector. If you run into a website that isn’t working as expected, please file a report at <a href=\"https://webcompat.com/\">webcompat.com</a>. Filing issues really does make a difference.</p>\n<p>Download the latest <a href=\"https://developer.apple.com/safari/technology-preview/\">Safari Technology Preview</a> on macOS to stay at the forefront of the web platform and to use the latest Web Inspector features.</p>\n<p>You can also find this information in the <a href=\"https://developer.apple.com/documentation/safari-release-notes/\">Safari 18.5 release notes</a>.</p>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"382d39cba590c261ba40b6fe89793aa6a242eddf5e5ddaec811794a4203c8f48","category":"Tech"}