{"title":"ทำความรู้จักกับ Grafana Alloy","link":"https://www.somkiat.cc/grafana-alloy/","date":1717862689000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/06/grafana-alloy-architecture-diagram-2-150x150.png\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/06/grafana-alloy-architecture-diagram-2-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2024/06/grafana-alloy-architecture-diagram-2-75x75.png 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/06/grafana-alloy-architecture-diagram-2.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/06/grafana-alloy-architecture-diagram-2-1024x343.png\" width=\"608\" height=\"203\" /></a></figure>\n\n\n\n<p>เห็นทาง Grafana ปล่อย <strong><a href=\"https://grafana.com/docs/alloy/latest/\" target=\"_blank\">Grafana Alloy</a></strong> ออกมา ซึ่งเปลี่ยนมาจาก Grafana Agent<br />ซึ่งทำหน้าที่เหมือนกับ OpenTelemetry collector<br />สำหรับรับ และ ส่งข้อมูลของ telemetry data ทั้ง log, metric และ tracing นั่นเอง<br />จากนั้นทำการส่งไปยังระบบต่าง ๆ ตามที่ต้องการ<br />โดยที่ Grafana Alloy นั้นทำงานได้ทั้งแบบ push และ pull<br />แถมทำการ filter หรือ transform ข้อมูลที่เข้ามาได้อีก<br />และทำมาแทนที่ OpenTelemetry collector หรือ Grafana agent นั่นเอง</p>\n\n\n\n<span></span>\n\n\n\n<p>ที่สำคัญสนับสนุนทั้ง on-prem, on-cloud หรือ hybrid ก็ได้<br />การใช้งานมี<a href=\"https://grafana.com/docs/alloy/latest/get-started/deploy/#deploy-grafana-alloy\" target=\"_blank\">หลายรูปแบบ</a><br />ยกตัวอย่างเช่น</p>\n\n\n\n<p><strong>แบบ centralized service</strong></p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/06/collection-diagram-alloy.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/06/collection-diagram-alloy-1024x648.png\" width=\"559\" height=\"353\" /></a></figure>\n\n\n\n<p><strong>แบบติดตั้งที่ Host</strong></p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/06/host-diagram-alloy.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/06/host-diagram-alloy-969x1024.png\" width=\"546\" height=\"576\" /></a></figure>\n\n\n\n<p><strong>แบบ sidecar container</strong></p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/06/sidecar-diagram-alloy.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/06/sidecar-diagram-alloy-987x1024.png\" width=\"517\" height=\"537\" /></a></figure>\n\n\n\n<p></p>\n\n\n\n<p>มาลองใช้งานเล่น ๆ กันดู</p>\n\n\n\n<p><strong>เริ่มด้วยการติดตั้งผ่าน <a href=\"https://grafana.com/docs/alloy/latest/get-started/install/\" target=\"_blank\">Docker</a></strong></p>\n\n\n\n[gist id=\"1026411bd44a1a70dc019191d11744ca\" file=\"docker-compose.yml\"]\n\n\n\n<p>ทำการ start และเข้าไปยัง dashboard = <a href=\"http://localhost:12345/\" target=\"_blank\">http://localhost:12345/</a><br />แสดง component ต่าง ๆ ดังนี้</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/06/Screenshot-2567-06-08-at-23.03.35.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/06/Screenshot-2567-06-08-at-23.03.35-1024x398.png\" width=\"615\" height=\"239\" /></a></figure>\n\n\n\n<p>ดู graph จากการ config สวย ๆ</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/06/Screenshot-2567-06-08-at-23.11.45.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/06/Screenshot-2567-06-08-at-23.11.45.png\" width=\"612\" height=\"501\" /></a></figure>\n\n\n\n<p>จากนั้นก็ไป <a href=\"https://grafana.com/docs/alloy/latest/concepts/configuration-syntax/\" target=\"_blank\">config</a> ในการใช้งานกับระบบต่อไป ..<br />ลองใช้งานกันดูครับ</p>\n\n\n\n<p></p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"77f851cb05362b9319c5af8b93bdcf7dcbb5284dd472d6adad4430949a3cf621","category":"Thai"}