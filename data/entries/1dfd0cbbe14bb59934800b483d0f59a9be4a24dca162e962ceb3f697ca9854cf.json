{"title":"New – Amazon RDS Custom for SQL Server Is Generally Available","link":"https://aws.amazon.com/blogs/aws/new-amazon-rds-custom-for-sql-server-is-generally-available/","date":1638377686000,"content":"<p>On October 26, 2021, we <a href=\"https://aws.amazon.com/blogs/aws/amazon-rds-custom-for-oracle-new-control-capabilities-in-database-environment/\">launched Amazon RDS Custom for Oracle</a>, a managed database service for applications that require customization of the underlying operating system and database environment. RDS Custom lets you access and customize your database server host and operating system, for example, by applying special patches and changing the database software settings to support third-party applications that require privileged access.</p> \n<p>Today, I am happy to announce the general availability of <a href=\"https://aws.amazon.com/rds/custom\">Amazon RDS Custom for SQL Server</a> to support applications that have dependencies on specific configurations and third-party applications that require customizations in corporate, e-commerce, and content management systems, such as Microsoft SharePoint.</p> \n<p>With RDS Custom for SQL Server, you can enable features that require elevated privileges like SQL Common Language Runtime (CLR), install specific drivers to enable heterogenous linked servers, or have more than 100 databases per instance.</p> \n<p>Through the time-saving benefits of a managed service, RDS Custom for SQL Server frees you up to focus on more business-impacting, strategic activities. The use of automating backups and other operational tasks let you rest easy, knowing your data is safe and ready to be recovered if needed.</p> \n<p><strong><u>Getting Started with RDS Custom for SQL Server</u></strong><br /> Get started by creating a DB instance of RDS Custom for SQL Server from an orderable engine version offered by RDS Custom. You can optionally access the server host to customize your software via <a href=\"https://aws.amazon.com/systems-manager\">AWS Systems Manager</a> or a remote desktop client. Your application connects to the RDS Custom DB instance endpoint.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/24/2021-RDS-Custom-for-SQL-Server-1-Overview.png\" /></p> \n<p>Before creating and connecting your custom DB instance for SQL Server, make sure that you meet some prerequisites, such as configuring the <a href=\"https://aws.amazon.com/iam\">AWS Identity and Access Management (IAM)</a> role and <a href=\"https://aws.amazon.com/vpc\">Amazon Virtual Private Cloud</a>  (Amazon VPC). See <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-setup-sqlserver.html\">Setting up your environment for Amazon RDS Custom for SQL Server</a> in the Amazon RDS User Guide to learn more.</p> \n<p>Choose <strong>Create database</strong> in the <strong>Databases</strong> menu to create your custom DB instance for SQL Server in the <a href=\"https://console.aws.amazon.com/rds\">RDS Console</a>. When you choose a database creation method, select <strong>Standard create</strong>. You can set <strong>Engine options</strong> to <strong>Microsoft SQL Server</strong> and choose <strong>Amazon RDS Custom</strong> in the database management type.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/24/2021-RDS-Custom-for-SQL-Server-2-Create-Instance.png\" /></p> \n<p>For Edition, choose the DB engine edition that you want to use in the choices of Enterprise, Standard, and Web with the Version of default SQL Server 2019.</p> \n<p>For <strong>Settings</strong>, enter your favorite unique name for the <strong>DB instance identifier</strong> and your master username and password. By default, the new instance uses an automatically generated password for the master user.</p> \n<p>In <strong>DB instance size</strong>, choose a DB instance class optimized to each DB engine edition.</p> \n<table> \n <tbody> \n  <tr> \n   <td><strong>SQL Server edition </strong></td> \n   <td><strong>RDS Custom support </strong></td> \n  </tr> \n  <tr> \n   <td>Enterprise Edition</td> \n   <td>db.r5.xlarge – db.r5.24xlarge<br /> db.m5.xlarge – db.m5.24xlarge</td> \n  </tr> \n  <tr> \n   <td>Standard Edition</td> \n   <td>db.r5.large – db.r5.24xlarge<br /> db.m5.large – db.m5.24xlarge</td> \n  </tr> \n  <tr> \n   <td>Web Edition</td> \n   <td>db.r5.large – db.r5.4xlarge<br /> db.m5.large – db.m5.4xlarge</td> \n  </tr> \n </tbody> \n</table> \n<p>See <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_CreateDBInstance.html\">Settings for DB instances</a> in the Amazon RDS User Guide to learn more about the remaining settings. Choose <strong>Create database</strong>. After creating the DB instance, the details for the new RDS Custom DB instance appear on the RDS console.</p> \n<p>Alternatively, you can create an RDS Custom DB instance by using the <code>create-db-instance</code> command in the <a href=\"https://aws.amazon.com/cli\">AWS Command Line Interface</a> (AWS CLI).</p> \n<pre><code>$ aws rds create-db-instance \\\n\t--engine custom-sqlserver-se \\\n\t--engine-version 15.00.4073.23.v1 \\\n\t--db-instance-identifier channy-custom-db \\\n\t--db-instance-class db.m5.xlarge \\\n\t--allocated-storage 20 \\\n\t--db-subnet-group mydbsubnetgroup \\\n\t--master-username myuser \\\n\t--master-user-password mypassword \\\n\t--backup-retention-period 3 \\\n\t--no-multi-az \\\n\t--port 8200 \\\n\t--kms-key-id mykmskey \\\n\t--custom-iam-instance-profile AWSRDSCustomInstanceProfile</code></pre> \n<p>After you create your RDS Custom DB instance, you can connect to it using <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html#session-manager\">AWS Systems Manager Session Manager</a> or an RDP client. Make sure that the Amazon VPC security group associated with your DB instance permits inbound connections on port 3389 for TCP to allow RDP connections.</p> \n<p>You need the key pair associated with the instance to connect to the custom DB instance via RDP. RDS Custom creates the key pair for you. The pair name uses the prefix <code>do-not-delete-rds-custom-DBInstanceIdentifier</code>. <a href=\"https://console.aws.amazon.com/secretsmanager\">AWS Secrets Manager</a> stores your private key as a secret. Choose the secret that has the same name as your key pair and retrieve the secret value to decrypt the password later.</p> \n<p>In the <a href=\"https://console.aws.amazon.com/ec2/\">EC2 console</a>, look for the name of your EC2 instance, and then choose the instance ID associated with your DB instance ID, for example, <code>channy-custom-db-*</code>. Select your custom DB instance, and then choose <strong>Connect</strong>. On the Connect to instance page, choose the <strong>RDP client</strong> tab, and then choose <strong>Get password</strong> with your private key as a secret.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/24/2021-RDS-Custom-for-SQL-Server-3-RDP-Console.png\" /></p> \n<p>When you connect an RDP client with a downloaded remote desktop file and decrypted password, you can log in to the Windows Server and customize your SQL Server.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/24/2021-RDS-Custom-for-SQL-Server-4-RDP.png\" /></p> \n<p>You can use AWS Systems Manager Session Manager to start a session with an instance in your account. After the session is started, you can run PowerShell commands as you would for any other connection type. See <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html\">Connect to your Windows instance</a> in the Amazon EC2 User Guide for more information.</p> \n<p><strong><u>Things to Know</u></strong><br /> Here are a couple of things to keep in mind about managing your DB instance:</p> \n<p><strong>Pausing RDS Custom Automation:</strong> RDS Custom for SQL Server automatically provides monitoring and instance recovery for your RDS Custom DB instance. If you need to customize the instance, then pause RDS Custom automation for a specified period. The pause makes sure that your customizations don’t interfere with RDS Custom automation. To pause or resume RDS Custom automation, you can set RDS Custom automation mode to Paused with the pause duration that you want (in minutes, default 60 minutes to 1,440 minutes maximum).</p> \n<p><strong>High Availability (HA):</strong> To support replication between RDS Custom for SQL Server instances, you can configure HA with Always On Availability Groups (AGs). We recommend that you set up the primary DB instance to synchronously replicate data to the standby instances in different Availability Zones (AZs) to be resilient to AZ failures. Moreover, you can migrate data by configuring HA for your on-premises instance and then failing over or switching over to the RDS Custom standby database.</p> \n<p><strong>Custom DB Management:</strong> Just like Amazon RDS, RDS Custom for SQL Server creates automated backups taking a snapshot of an Amazon RDS DB instance. Incremental snapshots are used to restore DB instances to a specific point in time. Furthermore, all changes and customizations to the underlying operating system are automatically logged for audit purposes using Systems Manager and <a href=\"https://aws.amazon.com/cloudtrail\">AWS CloudTrail</a>. See <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-troubleshooting.html\">Troubleshooting an Amazon RDS Custom for DB instance</a> in the Amazon RDS User Guide to learn more.</p> \n<p><strong><u>Available Now</u></strong><br /> <a href=\"https://aws.amazon.com/rds/custom\">Amazon RDS Custom for SQL Server</a> is now available in the US East (Ohio), US East (N. Virginia), US West (Oregon), Asia Pacific (Singapore), Asia Pacific (Sydney), Asia Pacific (Tokyo), EU (Frankfurt), EU (Ireland), and EU (Stockholm) Regions.</p> \n<p>Look at the <a href=\"https://aws.amazon.com/rds/custom\">product page</a> and <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/rds-custom.html\">documentation</a> of Amazon RDS Custom to learn more. Please send us feedback either in the <a href=\"https://forums.aws.amazon.com/forum.jspa?forumID=60&amp;start=0\">AWS forum</a> for Amazon RDS or through your usual AWS support contacts.</p> \n<p>—<a href=\"https://twitter.com/channyun\"> Channy</a></p>","author":"Channy Yun","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"1dfd0cbbe14bb59934800b483d0f59a9be4a24dca162e962ceb3f697ca9854cf","category":"Tech"}