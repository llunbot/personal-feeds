{"title":"Getting started with new Amazon RDS for Db2","link":"https://aws.amazon.com/blogs/aws/getting-started-with-new-amazon-rds-for-db2/","date":1701114413000,"content":"<p>I am pleased to announce that IBM and AWS have come together to offer <a href=\"https://aws.amazon.com/rds/\">Amazon Relational Database Service (Amazon RDS)</a> for Db2, a fully managed Db2 database engine running on AWS infrastructure.</p> \n<p><a href=\"https://www.ibm.com/products/db2\">IBM Db2</a> is an enterprise-grade relational database management system (RDBMS) developed by IBM. It offers a comprehensive set of features, including strong data processing capabilities, robust security mechanisms, scalability, and support for diverse data types. Db2 is a well-established choice among organizations for effectively managing data in various applications and handling data-intensive workloads due to its reliability and performance. Db2 has its roots in the pioneering work around data storage and <a href=\"https://aws.amazon.com/what-is/sql/\">structured query language</a> (SQL) IBM has done since the 1970s. It has been commercially available since 1983, initially just for mainframes, and was later ported to Linux, Unix, and Windows platforms (LUW). Today, Db2 powers thousands of business-critical applications in all verticals.</p> \n<p>With Amazon RDS for Db2, you can now create a Db2 database with just a few clicks in the <a href=\"https://console.aws.amazon.com\">AWS Management Console</a>, one command to type with the <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (AWS CLI)</a>, or a few lines of code with the <a href=\"https://aws.amazon.com/tools/\">AWS SDKs</a>. AWS takes care of the infrastructure heavy lifting, freeing your time for higher-level tasks such as schema and query optimizations for your applications.</p> \n<p>If you are new to Amazon RDS or coming from an on-premises Db2 background, let me quickly recap the benefits of Amazon RDS.</p> \n<ul> \n <li>Amazon RDS offers the same Db2 database as the one you use on-premises today. Your existing applications will reconnect to RDS for Db2 without changing their code.</li> \n <li>The database runs on a fully managed infrastructure. You don’t have to provision servers, install the packages, install patches, or maintain the infrastructure in an operational state.</li> \n <li>The database is also fully managed. We take care of the installation, minor version upgrades, daily backup, scaling, and high availability.</li> \n <li>The infrastructure can scale up and down as required. You can simply stop and then restart the database to change the underlying hardware and meet changing performance requirements or benefit from last-generation hardware.</li> \n <li>Amazon RDS offers a choice of storage types designed to deliver fast, predictable, and consistent I/O performance. For new or unpredictable workloads, you can configure the system <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_PIOPS.StorageTypes.html#USER_PIOPS.Autoscaling\">to automatically scale your storage</a>.</li> \n <li>Amazon RDS automatically takes care of your backups, and you can restore them to a new database with just a few clicks.</li> \n <li>Amazon RDS helps to deploy highly available architectures. Amazon RDS synchronously replicates data to a standby database in a different Availability Zone (an Availability Zone is a group of distinct data centers). When a failure is detected with a Multi-AZ deployment, Amazon RDS automatically fails over to the standby instance and routes requests without changing the database endpoint DNS name. This switch happens with minimal downtime and zero data loss.</li> \n <li>Amazon RDS is built on <a href=\"https://docs.aws.amazon.com/whitepapers/latest/introduction-aws-security/security-of-the-aws-infrastructure.html\">the secure infrastructure of AWS</a>. It encrypts data in transit using TLS and at rest using keys managed with <a href=\"https://aws.amazon.com/kms/\">AWS Key Management Service (AWS KMS)</a>. This helps you deploy workloads that are compliant with your company or industry regulations, such as <a href=\"https://www.fedramp.gov/\">FedRAMP</a>, <a href=\"https://eur-lex.europa.eu/eli/reg/2016/679/oj\">GDPR</a>, <a href=\"https://www.cdc.gov/phlp/publications/topic/hipaa.html\">HIPAA</a>, <a href=\"https://www.pcisecuritystandards.org/\">PCI</a>, and <a href=\"https://www.aicpa-cima.com/resources/landing/system-and-organization-controls-soc-suite-of-services\">SOC</a>.</li> \n <li>Third-party auditors assess the security and compliance of Amazon RDS as part of multiple AWS compliance programs and <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/RDS-compliance.html\">you can verify the full list of Amazon RDS compliance validations</a>.</li> \n</ul> \n<p>You can migrate your existing on-premises Db2 database to Amazon RDS using native Db2 tools, such as <a href=\"https://www.ibm.com/docs/en/license-metric-tool?topic=database-restoring-db2\">restore and import</a>, or <a href=\"https://aws.amazon.com/dms/\">AWS Database Migration Service</a> (AWS DMS). AWS DMS allows you to migrate databases in a single operation or continuously, while your applications continue to update the data on the source database, until you decide on the cut off.</p> \n<p>Amazon RDS supports multiple tools for monitoring your database instances, including <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_Monitoring.OS.html\">Amazon RDS Enhanced Monitoring</a> and <a href=\"https://aws.amazon.com/cloudwatch/\">Amazon CloudWatch</a>, or you can continue to use the <a href=\"https://www.ibm.com/products/db2-data-management-console\">IBM Data Management Console</a> or <a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=commands-dsmtop-db2-text-based-monitoring-tool-command\">IBM DSMtop</a>.</p> \n<p><span><strong>Let’s see how it works<br /> </strong></span>I always like to get my hands on a new service to learn how it works. Let’s create a Db2 database and connect to it using <a href=\"https://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm%7EInformation%20Management&amp;product=ibm/Information+Management/IBM+Data+Server+Client+Packages&amp;release=11.5.*&amp;platform=All&amp;function=all\">the standard tool provided by IBM</a>. I assume most of you reading this post come from an IBM Db2 background and don’t know much about Amazon RDS.</p> \n<p>First, I create a Db2 database. To do this, I navigate to the Amazon RDS page of the <a href=\"https://console.aws.amazon.com\">AWS Management Console</a> and select <strong>Create database</strong>. For this demo, I’ll accept most of the default values. I’ll show you, however, all the sections and will comment on the important configuration points you have to think about.</p> \n<p>I select Db2 from among the multiple database engines Amazon RDS offers.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_08-09-17.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_08-09-17.png\" alt=\"RDS for Db2 - create DB - step 1\" width=\"800\" height=\"569\" /></a>I scroll down the page and select <strong>IBM Db2 Standard</strong> and <strong>Engine Version 11.5.9</strong>. Amazon RDS patches the database instances automatically if you so desire. <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.Maintenance.html\">You can learn more about Amazon RDS database maintenance here</a>.</p> \n<p>I select <strong>Production</strong>. Amazon RDS will deploy a default configuration tuned for high availability and fast, consistent performance.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/16/2023-11-16_18-02-29.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/16/2023-11-16_18-02-29.png\" alt=\"RDS for Db2 - create DB - step 2\" width=\"800\" height=\"472\" /></a></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/2023-11-14_09-33-43.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/2023-11-14_09-33-43.png\" alt=\"RDS for Db2 - create DB - multi-AZ deployment\" width=\"800\" height=\"174\" /></a></p> \n<p>Under <strong>Settings</strong>, I give a name to my RDS instance (this is not the Db2 catalog name!), and I select the master <strong>username</strong> and <strong>password</strong>.</p> \n<p>Under <strong>Instance configuration</strong>, I choose the type of node to run my database. This will define the hardware characteristics of the virtual server: the number of vCPUs, quantity of memory, and so on. Depending on the requirements of your application, you can allocate instances offering up to 32 vCPUs and 128 GiB of RAM for IBM Db2 Standard instances. When you select IBM Db2 Advanced instances, you can allocate instances offering up to 128 vCPUs and 1 TiB of RAM. This parameter has a direct impact on the price.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/2023-11-14_09-10-32.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/2023-11-14_09-10-32.png\" alt=\"RDS for Db2 - create DB - settings\" width=\"800\" height=\"848\" /></a></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/2023-11-14_12-53-34.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/2023-11-14_12-53-34.png\" alt=\"RDS for Db2 - create DB - instance configuration\" width=\"800\" height=\"887\" /></a></p> \n<p>Under <strong>Storage</strong>, I choose the <strong>type</strong> of <a href=\"https://aws.amazon.com/ebs/\">Amazon Elastic Block Store (Amazon EBS)</a> volumes, their size, and their IOPS and throughput. For this demo, I accept the values proposed by default. This is also a set of parameters that directly impact the price.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_08-10-30.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_08-10-30.png\" alt=\"RDS for Db2 - create DB - step 4\" width=\"800\" height=\"449\" /></a></p> \n<p>Under <strong>Connectivity</strong>, I select the VPC (in AWS terms, a VPC is a private network) where the database will be deployed. Under <strong>Public access</strong>, I select <strong>No</strong> to make sure the database instance is only accessible from my private network. I can’t think of a (good) use case where you want to select <strong>Yes</strong> for this option.</p> \n<p>This is also where you select the <strong>VPC security group</strong>. A security group is a network filter that defines what IP addresses or networks can access your database instance and on what TCP port. Be sure to select or create a security group with TCP 50000 open to allow applications to connect to your Db2 database.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_08-11-06.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_08-11-06.png\" alt=\"RDS for Db2 - create DB - step 5\" width=\"800\" height=\"1032\" /></a></p> \n<p>I leave all other options with their default value. It is important to open the <strong>Additional configuration</strong> section at the very bottom of the page. This is where you can give an <strong>Initial database name</strong>. If you don’t name your Db2 database here, your only option will be to restore an existing Db2 database backup on that instance.</p> \n<p>This section also contains the parameters for the Amazon RDS automatic backup. You can choose a time window and how long we will retain the backups.</p> \n<p>I accept all the defaults and select <strong>Create database</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_15-04-18.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_15-04-18.png\" alt=\"RDS for Db2 - create DB - step 6\" width=\"800\" height=\"811\" /></a></p> \n<p>After a few minutes, you can see your database is available.</p> \n<p>I select the DNS name of the database instance <strong>Endpoint</strong>, and I connect to a Linux machine running in the same network. After installing <a href=\"https://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm%7EInformation%20Management&amp;product=ibm/Information+Management/IBM+Data+Server+Client+Packages&amp;release=11.5.*&amp;platform=All&amp;function=all\">the Db2 client package that I downloaded from the IBM website</a>, I type the following commands to connect to the database. There is nothing specific to Amazon RDS here.</p> \n<pre><code>db2 catalog TCPIP node blognode remote awsnewsblog-demo.abcdef.us-east-2.rds-preview.amazonaws.com server 50000\ndb2 catalog database NEWSBLOG as blogdb2 at node blognode authentication server_encrypt\ndb2 connect to blogdb2 user admin using MySuperPassword\n</code></pre> \n<p>Once connected, I download a sample dataset and script from the popular <a href=\"https://www.db2tutorial.com\">Db2Tutorial website</a>. I run the scripts against the database I just created.</p> \n<pre><code>wget https://www.db2tutorial.com/wp-content/uploads/2019/06/books.zip\nunzip books.zip \ndb2 -stvf ./create.sql \ndb2 -stvf ./data.sql \ndb2 \"select count(*) author_count from authors\"\n</code></pre> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_17-05-33.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/10/20/2023-10-19_17-05-33.png\" alt=\"RDS for Db2 - result of query\" width=\"800\" height=\"436\" /></a></p> \n<p>As you can see, there is nothing specific to Amazon RDS when it comes to connecting and using the database. I use standard Db2 tools and scripts.</p> \n<p><span><strong>One more thing<br /> </strong></span>Amazon RDS for Db2 requires you to bring your own Db2 license. You must enter your IBM customer ID and site number before starting a Db2 instance.</p> \n<p>To do so, create <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_WorkingWithParamGroups.html\">a custom DB parameter group</a> and attach it to your database instance at launch time. A DB parameter group acts as a container for engine configuration values that are applied to one or more DB instances. In a Db2 parameter group, there are two parameters specific to IBM Db2 licenses: your <a href=\"https://www.ibm.com/support/pages/what-my-ibm-customer-number-icn\">IBM Customer Number</a> (<code>rds.ibm_customer_id</code>) and your IBM site number (<code>rds.ibm_site_id</code>).</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/16/2023-11-16_18-10-03.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/16/2023-11-16_18-10-03.png\" alt=\"RDS for IBM Db2 - Parameter Group\" width=\"800\" height=\"352\" /></a></p> \n<p>If you do not know your site number, reach out to your IBM sales organization for a copy of a recent Proof-of-Entitlement (PoE), invoice, or sales order. All these documents should include your site number.</p> \n<p><span><strong>Pricing and availability<br /> </strong></span>Amazon RDS for Db2 is available in all AWS Regions except China and GovCloud.</p> \n<p>Amazon RDS pricing is on demand, and there are no upfront costs or subscriptions. You only pay by the hour when the database is running, plus the GB per month of database storage provisioned and backup storage you use and the number of <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_Storage.html\">IOPS</a> you provision. The <a href=\"https://aws.amazon.com/rds/db2/pricing\">Amazon RDS for Db2 pricing page</a> has the details of pricing per Region. As I mentioned earlier, Amazon RDS for Db2 requires you to bring your own Db2 license.</p> \n<p>If you already know Amazon RDS, you’ll be delighted to have a new database engine available for your application developers. If you’re coming from an on-premises world, you will love the simplicity and automation that Amazon RDS offers.</p> \n<p>You can learn many more details on <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_Db2.html\">the Amazon RDS for Db2 documentation page</a>. Now go and <a href=\"https://console.aws.amazon.com/rds/home\">deploy your first database with Amazon RDS for Db2</a> today!</p> \n<a href=\"https://twitter.com/sebsto\">-- seb</a>","author":"Sébastien Stormacq","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"8be3336891c7b1587d3f13ef105a101b47c89d9d74016d5c126afa68c6a1dfea","category":"Tech"}