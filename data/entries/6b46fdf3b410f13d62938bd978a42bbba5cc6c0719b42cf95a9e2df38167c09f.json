{"title":"Go :: ว่าด้วยเรื่อง partial implement ของ interface","link":"https://www.somkiat.cc/go-partial-implement-from-interface/","date":1677384968000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2022/12/go-1.20-150x150.png\" alt srcset=\"https://www.somkiat.cc/wp-content/uploads/2022/12/go-1.20-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2022/12/go-1.20-75x75.png 75w\" /></p>\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2022/12/go-1.20-1024x578.png\" alt width=\"517\" height=\"291\" /></figure>\n\n\n\n<p>อ่านบทความเรื่อง <strong><a href=\"https://preslav.me/2023/02/22/partially-implemented-interfaces-in-golang/\" target=\"_blank\">Partially-Implemented Interfaces in Go</a></strong><br />เลยเพิ่งรู้ว่า เราสามารถ implement function บางตัวใน interface ได้<br />ไม่จำเป็นต้น implement ให้ครบทุก ๆ  function<br />เป็นอีกความรู้หนึ่งที่น่าสนใจ<br />เนื่องจากมีปัญหานี้ตอนทำการ mock หรือ test double บ่อย ๆ</p>\n\n\n\n<span></span>\n\n\n\n<p>โดยวิธีการง่ายดี คือ การใช้งาน <strong><a href=\"https://go.dev/doc/effective_go\">embedded interface</a></strong> นั่นเอง<br />แสดงว่า ผมอ่านเอกสารไม่ดีเอง หรือ ใช้งานไม่เป็นเอง 555<br />ตัวอย่างการใช้งานเป็นดังนี้</p>\n\n\n\n<p>เริ่มเขียน code แบบที่ไม่รู้เรื่องนี้</p>\n\n\n\n[gist id=\"cb6cdfab7cbf274e6dfdf1b3bdf741e3\" file=\"main_before.go\"]\n\n\n\n<p>หลังจากที่รู้ จะเขียนได้ดังนี้</p>\n\n\n\n[gist id=\"cb6cdfab7cbf274e6dfdf1b3bdf741e3\" file=\"main_after.go\"]\n\n\n\n<p>ทำให้เราทำการ implement เฉพาะ function ที่ต้องการเท่านั้นเอง<br />ต้องระวังการใช้งานด้วยนะ !!<br />แต่ถ้ามองอีกมุมคือ การออกแบบ interface มีปัญหาหรือไม่นะ<br />ทำไม interface หนึ่ง ๆ ต้องมี function เยอะ ๆ ด้วย<br />ทำไมไม่ออกแบบ interface ที่มีการทำงานเฉพาะเจาะจงลงไปเลย<br />เป็นสิ่งที่น่าคิดเหมือนกัน</p>\n\n\n\n<p><strong>Reference Websites</strong></p>\n\n\n\n<ul><li><a href=\"https://golangbyexample.com/embedding-interfaces-go/\" target=\"_blank\">Embedding Interfaces in Go</a></li></ul>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"6b46fdf3b410f13d62938bd978a42bbba5cc6c0719b42cf95a9e2df38167c09f","category":"Thai"}