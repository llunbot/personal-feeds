{"title":"Automatic restore testing and validation now available in AWS Backup","link":"https://aws.amazon.com/blogs/aws/automatic-restore-testing-and-validation-is-now-available-in-aws-backup/","date":1701111338000,"content":"<p>Performing automatic game day testing of all your critical resources is an important step in determining that you are prepared to respond to ransomware or any data loss event. This gives you the opportunity to take appropriate corrective actions based on the results and monitor results such as success or failure from these tests. Ultimately, you will be able to ascertain if the restore times meet your expected organization’s recovery time objective (RTO) goals, helping you develop improved recovery strategies.</p> \n<p>Today, we’re announcing restore testing, a new capability in <a href=\"https://aws.amazon.com/backup/\">AWS Backup</a> that allows you to perform restore testing of your AWS resources across storage, compute, and databases. With this feature, you can automate the entire restore testing process and avoid surprises later by determining now whether you can successfully recover using your backups in the event of a data loss such as ransomware. As an additional option, to demonstrate compliance with your organizational and regulatory data governance requirements, you can use the restore job results.</p> \n<p><span><strong>How it works</strong></span><br /> Restore testing in AWS Backup supports restore testing of resources for which the recovery points are created by AWS Backup, and the following services are supported: <a href=\"https://aws.amazon.com/ebs/\">Amazon Elastic Block Store (Amazon EBS)</a>, <a href=\"https://aws.amazon.com/ec2/\">Amazon Elastic Compute Cloud (Amazon EC2)</a>, <a href=\"https://aws.amazon.com/rds/aurora/\">Amazon Aurora</a>, <a href=\"https://aws.amazon.com/rds/\">Amazon Relational Database Service (Amazon RDS)</a>, <a href=\"https://aws.amazon.com/efs/\">Amazon Elastic File Store (Amazon EFS)</a>, <a href=\"https://aws.amazon.com/s3/\">Amazon Simple Storage Service (Amazon S3)</a>, <a href=\"https://aws.amazon.com/dynamodb/\">Amazon DynamoDB</a>, <a href=\"https://aws.amazon.com/fsx/\">Amazon FSx</a>, <a href=\"https://aws.amazon.com/documentdb/\">Amazon DocumentDB</a>, and <a href=\"https://aws.amazon.com/neptune/\">Amazon Neptune</a>. You can get started with restore testing from the AWS Backup console, AWS CLI, or AWS SDK.</p> \n<p>Earlier, I created EC2 instances and a backup of these instances. Then, I created my restore testing plan in the AWS Backup console.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/20/screen1_1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/20/screen1_1.png\" alt=\"Create restore testing plan\" width=\"711\" height=\"470\" /></a></p> \n<p>In this <strong>General</strong> section, I enter the name of the plan, a test frequency, a Start time, and a Start within. <strong>Start time</strong> sets the time for the test to begin, for example, if you have a daily test frequency set, you specify what time the plan will run each day. <strong>Start within</strong> is the period of time in which the restore test is designated to begin. AWS Backup makes a best effort to commence all designated restore jobs during the <strong>Start within</strong> time window. You have a choice to keep this very minimal or very large based on your preference.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/section1_create.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/section1_create.png\" alt=\"Figure 2: Section 1 Create restore testing plan\" width=\"830\" height=\"598\" /></a></p> \n<p>In the <strong>Recovery point selection</strong> section, I specify the vaults that the recovery points should come from, and a timeframe of eligible recovery points as part of this restore testing plan. I left the criteria for a recovery point at the default selection. I also didn’t opt to include recovery points generated by point-in-time recovery (PITR) in this restore testing plan.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/section2_create.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/section2_create.png\" alt=\"section2_create\" width=\"792\" height=\"698\" /></a></p> \n<p>Tagging is optional so for the purposes of this test I didn’t add a tag. I was then finished with setup, and it was time for me to choose <strong>Create restore testing plan</strong> to proceed with creating this restore testing plan.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/section3_create.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/section3_create.png\" alt=\"Figure 4: Finalize creation of restore testing plan\" width=\"830\" height=\"270\" /></a></p> \n<p>Once the restore testing plan has been created, it is time to assign resources. I start by specifying the IAM role that AWS Backup will assume when running the restore test. In terms of retention period before cleanup, I kept the default selection of deleting the restored resources immediately, to optimize costs. Alternatively, by specifying a retention period I could have also configured to integrate my own tests (for example, AWS Lambda) using Amazon EventBridge (CloudWatch Events) and send back validation status using the new <span><code><span>PutRestoreValidationResult</span></code> </span>API so that it is reported in the restore job.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/add_resource1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/add_resource1.png\" alt=\"add_resource1\" width=\"852\" height=\"667\" /></a></p> \n<p>I have EC2 instances that I created and backed up earlier, and I specify that this plan is for Amazon EC2 resource types. I include all protected resources of this EC2 resource type in the selection scope. I have very few resources, so I didn’t add the optional tags.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/add_resource2.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/add_resource2.png\" alt=\"add_resource2\" width=\"794\" height=\"548\" /></a></p> \n<p>I opted to use the default instance type for the restore. I also didn’t specify any additional parameters. It’s then time to choose <strong>Assign resources</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/add_resource3.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/14/add_resource3.png\" alt=\"add_resource3\" width=\"859\" height=\"415\" /></a></p> \n<p>Once the resources have been assigned, all information related to the restore testing plan will be presented in a summarized form where you’ll be able to see when the restore testing jobs have executed.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/23/RT_PlanwithJobs.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/23/RT_PlanwithJobs-1024x436.png\" width=\"1024\" height=\"436\" /></a></p> \n<p>Once I have enough restores performed over time, I can also view the <strong>Restore time history</strong> for every resource restored from the <strong>Protected</strong> <strong>resources</strong> tab.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/23/History-Chart-1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2023/11/23/History-Chart-1-1024x394.png\" width=\"1024\" height=\"394\" /></a></p> \n<p><span><strong>Now available</strong></span><br /> Restore testing in AWS Backup is available in all <a href=\"https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/?p=ngi&amp;loc=4\">AWS Regions</a> where AWS Backup is available except AWS China Regions, AWS GovCloud (US), and Israel (Tel Aviv).<br /> To learn more, visit the <a href=\"https://docs.aws.amazon.com/aws-backup/latest/devguide/whatisbackup.html\">AWS Backup user guide</a>. You can submit your questions to <a href=\"https://repost.aws/tags/TAEq_tyFmxTri2axdF_HfATg/aws-backup\">AWS re:Post for AWS Backup</a> or through your usual AWS Support contacts.</p> \n<p>— <a href=\"https://www.linkedin.com/in/veliswa-boya/\">Veliswa</a></p>","author":"Veliswa Boya","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"efd1577587184cc5da0c122caddb51c9378a59c8d3d4d965ea35e7a15c6d355d","category":"Tech"}