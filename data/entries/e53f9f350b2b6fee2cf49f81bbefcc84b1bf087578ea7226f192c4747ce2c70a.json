{"title":"Meta ย้ายโค้ด Java ไป Kotlin ครึ่งทางแล้ว","link":"https://www.blognone.com/node/143793","date":1734892729000,"content":"<div><div><div><p>Meta รายงานถึงความคืบหน้าในการย้ายโค้ด Android จาก Java ไปเป็น Kotlin หลังจากเปลี่ยนแนวทางมาใช้ Kotlin เป็นหลักตั้งแต่ปี 2020 แต่ก็ยังมีโค้ด Java จำนวนมาก แต่ในช่วงหลังก็สามารถเร่งความเร็วในการแปลงโค้ดได้จากการทำงานร่วมกับ JetBrains ผู้สร้าง IntelliJ</p>\n<p>ก่อนหน้านี้ Meta แปลง Java เป็น Kotlin โดยอาศัยฟีเจอร์แปลงโค้ดของ IntelliJ เป็นหลัก การแปลงแต่ละครั้งอาศัยนักพัฒนาคลิก IDE ทีละไฟล์เอง กระบวนการนี้ทำให้การแปลงโค้ดช้ามาก ทาง Meta เข้าไปช่วย IntelliJ พัฒนา J2K ที่เป็นเอนจินแปลงโค้ดภายใน IntelliJ ให้สามารถรันได้โดยไม่ต้องการ IntelliJ</p>\n<p>หลังจากนั้น Meta พัฒนาเครื่องมือภายใน ชื่อว่า Kotlinator ที่ใช้ J2K เป็นแกน แต่มีฟีเจอร์ต่างๆ เพิ่มเติม</p>\n<ol>\n<li>Deep Build: แปลงโค้ดโดยคำนึงถึง IDE ว่าต้องการ symbol ใดในโค้ดบ้าง โดยเฉพาะไลบรารีภายนอก</li>\n<li>Preprocessing: แปลงโค้ดหรือตรวจสอบก่อนรัน J2K รวมมีการแปลงต่างๆ 50 ขั้นตอน</li>\n<li>J2K รุ่น Headless: ไม่ต้องรันบน IntelliJ</li>\n<li>Postprocessing: แปลงโค้ดตามเงื่อนไขต่างๆ อีก 150 ขั้นตอน</li>\n<li>Linter: ตรวจสอบและแก้ไขโค้ดด้วย lint ก่อนใช้งานโค้ด</li>\n<li>ตรวจสอบและแก้ไขการ build: บางครั้งโค้ดที่แปลงออกมา build ไม่ผ่าน ก็ต้องแก้ไขเพิ่มเติม เช่น impoer ไม่ครบ</li>\n</ol>\n<p>ปัญหาก้อนใหญ่ในการแปลงโค้ดเป็น Kotlin คือปัญหา Null Pointer Exeption (NPE) ทำให้แปลงโค้ดได้ยาก ทาง Meta ต้องพัฒนาปลั๊กอินสำหรับคอมไพล์เลอร์ Java เพื่อเก็บข้อมูลว่าตัวแปรใดอาจจะเป็น null ได้บ้าง</p>\n<p>ที่มา - <a href=\"https://engineering.fb.com/2024/12/18/android/translating-java-to-kotlin-at-scale/\">Meta</a></p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/9dca7c00a89dcc802fc46d95088e2485.png\" alt=\"\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/meta\">Meta</a></div><div><a href=\"/topics/java\">Java</a></div><div><a href=\"/topics/kotlin\">Kotlin</a></div><div><a href=\"/topics/programming\">Programming</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"e53f9f350b2b6fee2cf49f81bbefcc84b1bf087578ea7226f192c4747ce2c70a","category":"Thai"}