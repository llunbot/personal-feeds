{"title":"ทำความรู้จักกับ match_only_text ใน Elasticsearch","link":"https://www.somkiat.cc/match-only-text-in-elasticsearch/","date":1628437089000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/08/es-1024x509.jpg\" alt=\"\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/08/es-1024x509.jpg 1024w, https://www.somkiat.cc/wp-content/uploads/2021/08/es-300x149.jpg 300w, https://www.somkiat.cc/wp-content/uploads/2021/08/es-768x382.jpg 768w, https://www.somkiat.cc/wp-content/uploads/2021/08/es.jpg 1258w\" sizes=\"(max-width: 1024px) 100vw, 1024px\"></figure><p>ใน Elasticsearch 7.14 นั้นได้เพิ่ม field type ใหม่ขึ้นมา<br>ชื่อว่า <strong><a rel=\"noreferrer noopener\" href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/text.html#text-field-type\" target=\"_blank\">match_only_text</a></strong><br>สร้างขึ้นมาเพื่อนำมาใช้เก็บข้อมูล log ต่าง ๆ โดยเฉพาะ<br>สามารถ query ได้เหมือนกับ type text<br>เพียงแต่ไม่สนับสนุนการ sorting/scoring<br>แต่ก็มีข้อจำกัดเช่นกัน ในการใช้บาง query เช่น span query<br>หรือใช้แล้วช้ากว่า type text เช่น phase และ interval query<br>ในส่วนการ aggregation บางอย่าง ก็มีข้อจำกัด</p><p><a href=\"https://www.elastic.co/blog/save-10-percent-disk-space-on-your-logging-datasets-with-match-only-text\" target=\"_blank\" rel=\"noreferrer noopener\"><strong>match_only_text</strong> <strong>มีเป้าหมายเพื่อ</strong></a></p><ul><li>ลดเนื้อที่จัดเก็บข้อมูลใน Disk ลง นั่นคือการลกค่าใช้จ่าย</li><li>ลดการทำ indexing ซึ่งใช้ CPU เปลืองมาก ๆ และขนาดจอง index จะเล็กลง</li><li>ลดเวลาในการ query ลงไป เนื่องจากไม่ต้องคำนวณ score ที่มีขั้นตอนเยอะ แต่ไปใช้ timestamp มาจัดเรียงแทน (จากใหม่ไปเก่า)</li></ul></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"2208a155718f4e3ce37859582b0e752389f82c68b6a4d00ed05c4ee68beae081","category":"Thai"}