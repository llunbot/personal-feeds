{"title":"Speed up app delivery with automated cancellation of plan-only Terraform runs","link":"https://www.hashicorp.com/blog/speed-up-app-delivery-with-automated-cancellation-of-plan-only-terraform-runs","date":1730912400000,"content":"<p>Today, we’re excited to announce the general availability of a new feature that automatically cancels <a href=\"https://developer.hashicorp.com/terraform/enterprise/run/modes-and-options#plan-only-speculative-plan\">plan-only</a> Terraform runs triggered by pull requests in version control systems (VCS) for HCP Terraform and Terraform Enterprise. This enhancement helps customers avoid the backlog of multiple runs caused by new commits pushed to a branch, ultimately speeding up the application delivery process. </p>\n\n<p>When integrated with a VCS, HCP Terraform can automatically initiate a Terraform run to perform a plan operation whenever a pull request (PR) is created in the repository. However, when team members push new commits to the same branch, it can lead to a queue of Terraform runs, causing delays and inefficiencies. With the automatic cancellation of plan-only runs, you can now easily cancel any unfinished runs for outdated commits by selecting the option in your organization’s settings.</p>\n\n<p>This blog will show you how to set up this feature and see it in action.</p>\n\n<h2>Managing organization speculative plan settings</h2>\n\n<p>To view and manage an organization’s speculative plan settings, click Settings, followed by General under Version Control, then view the Manage speculative plans part of the page.</p>\n\n<p>Once the organization setting is enabled, HCP Terraform will cancel ongoing or pending speculative plans if new commits are received on the same branch.</p>\n<img src=\"https://www.datocms-assets.com/2885/1730826664-managing-organization-speculative-plan-settings.png\" alt=\"Toggle\" /><h2>Run details page</h2>\n\n<p>When a newer commit gets pushed to the same branch, users will see a message mentioning that the run was automatically canceled.</p>\n<img src=\"https://www.datocms-assets.com/2885/1730826735-run-details-page.png\" alt=\"Plan\" /><h2>Updated VCS status checks</h2>\n\n<p>For non-aggregated status checks, Terraform now shows a different message for auto-canceled plan that differs from the normally canceled one (which would show “Terraform plan canceled”).</p>\n<img src=\"https://www.datocms-assets.com/2885/1730826782-updated-vcs-status-checks.png\" alt=\"VCS\" /><p>For aggregated status checks, Terraform now includes a count of automatically canceled runs in the aggregated result, separating it from the count of manually canceled runs.</p>\n<img src=\"https://www.datocms-assets.com/2885/1730826816-updated-vcs-status-checks-one-item.png\" alt=\"Individual\" /><p>Also, in the aggregated status page, Terraform now includes a message saying that the run has been auto-canceled using the same message that it would send for non-aggregated status checks.</p>\n<img src=\"https://www.datocms-assets.com/2885/1730826840-updated-vcs-status-checks-workspace-message.png\" alt=\"Run\" /><h2>Aggregated status page</h2>\n\n<p>When more than one run is automatically canceled for a commit, Terraform will display an alert in the “Resources to be changed” section as a reminder that the section may not reflect a complete result if all the runs of the commit were to reach completion. You can toggle “Hide automatically canceled plans” in the check box shown below:</p>\n<img src=\"https://www.datocms-assets.com/2885/1730826996-aggregated-status-page.png\" alt=\"Aggregated\" /><h2>Getting started</h2>\n\n<p>These enhancements to HCP Terraform and Terraform Enterprise reflect our ongoing commitment to helping customers maximize their infrastructure investments and speed up application delivery by optimizing plan-only Terraform runs managed through the VCS workflow. </p>\n\n<p>To learn more about these features, visit our page on <a href=\"https://developer.hashicorp.com/terraform/cloud-docs/users-teams-organizations/organizations/vcs-speculative-plan-management\">automatically canceling plan-only runs</a>. If you are new to Terraform, <a href=\"https://app.terraform.io/public/signup/account\">sign up for HCP Terraform</a> and get started for free today.</p>\n","author":"Rolee Sinha","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"25b12b9600b0b43c4cc38ee024b6a6775b4564c6c8bc8f698b56b9b104e4b6a0","category":"Tech"}