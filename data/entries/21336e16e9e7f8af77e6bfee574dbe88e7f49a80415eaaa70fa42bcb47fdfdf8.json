{"title":"New for AWS Compute Optimizer – Enhanced Infrastructure Metrics to Extend the Look-Back Period to Three Months","link":"https://aws.amazon.com/blogs/aws/new-for-aws-compute-optimizer-enhanced-infrastructure-metrics-to-extend-the-look-back-period-to-three-months/","date":1638203869000,"content":"<p>By using machine learning to analyze historical utilization metrics, <a href=\"https://aws.amazon.com/compute-optimizer/\">AWS Compute Optimizer</a> recommends optimal AWS resources for your workloads to reduce costs and improve performance. Over-provisioning resources can lead to unnecessary infrastructure costs, and under-provisioning resources can lead to poor application performance. Compute Optimizer helps you choose optimal configurations for three types of AWS resources: <a href=\"https://aws.amazon.com/ec2/\">Amazon Elastic Compute Cloud (Amazon EC2)</a> instances, <a href=\"https://aws.amazon.com/ebs/\">Amazon Elastic Block Store (EBS)</a> volumes, and <a href=\"https://aws.amazon.com/lambda/\">AWS Lambda</a> functions, based on your utilization data. Today, I am happy to share that AWS Compute Optimizer now supports <strong>recommendation preferences</strong> where you can opt in or out of features that enhance resource-specific recommendations.</p> \n<p>For EC2 instances, AWS Compute Optimizer analyzes <a href=\"https://aws.amazon.com/cloudwatch/\">Amazon CloudWatch</a> metrics from the past <strong>14 days</strong> to generate recommendations. For this reason, recommendations weren’t relevant for a subset of workloads that had monthly or quarterly patterns. For those workloads, you had to look for unoptimized resources and determine the right resource configurations over a longer period of time. This can be time-consuming and requires deep cloud expertise, especially for large organizations.</p> \n<p>With the launch of recommendation preferences, Compute Optimizer now offers <strong>enhanced infrastructure metrics</strong>, a new paid recommendation preference feature that enhances recommendation quality for EC2 instances and <a href=\"https://docs.aws.amazon.com/autoscaling/ec2/userguide/AutoScalingGroup.html\">Auto Scaling groups</a>. Activating it extends the metrics look-back period to <strong>three months</strong>. You can activate enhanced infrastructure metrics for individual resources or at the AWS account or <a href=\"https://docs.aws.amazon.com/whitepapers/latest/organizing-your-aws-environment/core-concepts.html#aws-organizations\">AWS organization</a> level.</p> \n<p>Let’s see how that works in practice.</p> \n<p><span><strong>Using Enhanced Infrastructure Metrics with AWS Compute Optimizer<br /> </strong></span>Here, I am using the management account of my AWS organization to see organization-level preferences. In the left pane of the <a href=\"https://console.aws.amazon.com/compute-optimizer/home\">Compute Optimizer console</a>, I choose <strong>Accounts</strong>. Here, there is a new section to set up <strong>Organization level preferences for enhanced infrastructure metrics</strong>. The console warns me that this is a paid feature.</p> \n<p>I want to activate enhanced infrastructure metrics for EC2 instances running in the US East (N. Virginia) Region for all accounts in my organization. I choose the <strong>Edit</strong> button. For <strong>Resource type</strong>, I select EC2 instances. For <strong>Region</strong>, I select US East (N. Virginia). I check that the flag is active and save.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/16/compute-optimizer-eim-organization.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/16/compute-optimizer-eim-organization-1024x271.png\" /></a></p> \n<p>If I select one of the AWS accounts on this page, I can choose <strong>View preferences</strong> and override the setting for that specific account. For example, I can disable accounts that I use for testing because EC2 instances there are created automatically by a CI/CD pipeline and are usually terminated within a few hours.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/16/compute-optimizer-eim-account.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/16/compute-optimizer-eim-account-1024x263.png\" /></a></p> \n<p>In the console <strong>Dashboard</strong>, I look at the overall recommendations for EC2 instances and Auto Scaling groups.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/16/compute-optimizer-dashboard-ec2-asg.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/16/compute-optimizer-dashboard-ec2-asg-1024x267.png\" /></a></p> \n<p>In the EC2 instances box, I choose <strong>View recommendations</strong> and then one of the instances. With the <strong>Edit</strong> button, I can activate or inactivate enhanced infrastructure metrics for this specific resource. Here, I can also see if, considering all settings at organization, account, and resource level, enhanced infrastructure metrics is actually active or not for this specific EC2 instance. I see <strong>Active (pending)</strong> here because I’ve just changed the setting and it may take a few hours for Compute Optimizer to consider my updated preferences in its recommendations.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/16/compute-optimizer-eim-ec2.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/16/compute-optimizer-eim-ec2-1024x222.png\" /></a></p> \n<p>Below, I see the recommended options for the instance. Considering the current workload, I should change instance type and size from <strong>c3.2xlarge</strong> to <strong>r5d.large</strong> and save some money.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/19/compute-optimizer-ec2-recommendation-1.png\"><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2021/11/19/compute-optimizer-ec2-recommendation-1-1024x459.png\" /></a></p> \n<p>In a few hours, Compute Optimizer updates its recommendations based on the latest three months of CloudWatch metrics. In this way, I get better suggestions for workloads that have monthly or quarterly activities.</p> \n<p><span><strong>Availability and Pricing<br /> </strong></span>You can activate enhanced infrastructure metrics in the <a href=\"https://aws.amazon.com/compute-optimizer/\">AWS Compute Optimizer</a> account preferences page for all the accounts in your organization or for individual accounts. If you need more granular controls, you can activate (or deactivate) for an individual resource (Auto Scaling group or EC2 instance) in the resource detail page. You can also activate enhanced infrastructure metrics using the <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (CLI)</a> or <a href=\"https://aws.amazon.com/tools/\">AWS SDKs</a>.</p> \n<p>Default preferences in Compute Optimizer (with 14-day look-back) are free. Enabling enhanced infrastructure metrics costs $0.0003360215 per resource per hour and is charged based on the number of hours per month the resource is running. For a resource running a full 31-day month, that’s $0.25. For more information, see the <a href=\"https://aws.amazon.com/compute-optimizer/pricing/\">Compute Optimizer pricing</a> page.</p> \n<p><a href=\"https://docs.aws.amazon.com/compute-optimizer/latest/ug/what-is-compute-optimizer.html\"><strong>Use enhanced infrastructure metrics to generate recommendations with Compute Optimizer based on metrics from the past three months.</strong></a></p> \n<p>— <a href=\"https://twitter.com/danilop\">Danilo</a></p>","author":"Danilo Poccia","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"21336e16e9e7f8af77e6bfee574dbe88e7f49a80415eaaa70fa42bcb47fdfdf8","category":"Tech"}