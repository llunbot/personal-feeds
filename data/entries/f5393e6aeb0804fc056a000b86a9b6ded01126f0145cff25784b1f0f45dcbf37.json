{"title":"Amazon Bedrock model evaluation is now generally available","link":"https://aws.amazon.com/blogs/aws/amazon-bedrock-model-evaluation-is-now-generally-available/","date":1713871543000,"content":"<p>The <a href=\"https://aws.amazon.com/bedrock/\">Amazon Bedrock</a> model evaluation capability that we previewed at <a href=\"https://reinvent.awsevents.com/\">AWS re:Invent</a> 2023 is now generally available. This new capability helps you to incorporate Generative AI into your application by giving you the power to select the foundation model that gives you the best results for your particular use case. As my colleague <a href=\"https://www.linkedin.com/in/antje-barth/\">Antje</a> explained in her post (<a href=\"https://aws.amazon.com/blogs/aws/evaluate-compare-and-select-the-best-foundation-models-for-your-use-case-in-amazon-bedrock-preview/\">Evaluate, compare, and select the best foundation models for your use case in Amazon Bedrock</a>):</p> \n<blockquote>\n <p>Model evaluations are critical at all stages of development. As a developer, you now have evaluation tools available for building generative artificial intelligence (AI) applications. You can start by experimenting with different models in the playground environment. To iterate faster, add automatic evaluations of the models. Then, when you prepare for an initial launch or limited release, you can incorporate human reviews to help ensure quality.</p>\n</blockquote> \n<p>We received a lot of wonderful and helpful feedback during the preview and used it to round-out the features of this new capability in preparation for today’s launch — I’ll get to those in a moment. As a quick recap, here are the basic steps (refer to Antje’s <a href=\"https://aws.amazon.com/blogs/aws/evaluate-compare-and-select-the-best-foundation-models-for-your-use-case-in-amazon-bedrock-preview/\">post</a> for a complete walk-through):</p> \n<p><strong>Create a Model Evaluation Job</strong> – Select the evaluation method (automatic or human), select one of the available foundation models, choose a task type, and choose the evaluation metrics. You can choose accuracy, robustness, and toxicity for an automatic evaluation, or any desired metrics (friendliness, style, and adherence to brand voice, for example) for a human evaluation. If you choose a human evaluation, you can use your own work team or you can opt for an AWS-managed team. There are four built-in task types, as well as a custom type (not shown):</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/27/bdme_tasktypes_1.png\" width=\"595\" height=\"329\" /></p> \n<p>After you select the task type you choose the metrics and the datasets that you want to use to evaluate the performance of the model. For example, if you select <strong>Text classification</strong>, you can evaluate accuracy and/or robustness with respect to your own dataset or a built-in one:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/27/bdme_eval_metrics_ds_1.png\" width=\"795\" height=\"710\" /></p> \n<p>As you can see above, you can use a built-in dataset, or prepare a new one in JSON Lines (<a href=\"https://jsonlines.org/\">JSONL</a>) format. Each entry must include a prompt and can include a category. The reference response is optional for all human evaluation configurations and for some combinations of task types and metrics for automatic evaluation:</p> \n<div> \n <pre><code>{\n  \"prompt\" : \"Bobigny is the capitol of\",\n  \"referenceResponse\" : \"Seine-Saint-Denis\",\n  \"category\" : \"Capitols\"\n}\n</code></pre> \n</div> \n<p>You (or your local subject matter experts) can create a dataset that uses customer support questions, product descriptions, or sales collateral that is specific to your organization and your use case. The built-in datasets include <a href=\"https://allenai.org/data/real-toxicity-prompts\">Real Toxicity</a>, <a href=\"https://github.com/amazon-science/bold\">BOLD</a>, <a href=\"https://huggingface.co/datasets/relbert/t_rex\">TREX</a>, <a href=\"https://paperswithcode.com/dataset/wikitext-2\">WikiText-2</a>, <a href=\"https://huggingface.co/datasets/gigaword\">Gigaword</a>, <a href=\"https://huggingface.co/datasets/google/boolq\">BoolQ</a>, <a href=\"https://research.google/pubs/natural-questions-a-benchmark-for-question-answering-research/\">Natural Questions</a>, <a href=\"https://nlp.cs.washington.edu/triviaqa/\">Trivia QA</a>, and <a href=\"https://huggingface.co/datasets/Censius-AI/ECommerce-Women-Clothing-Reviews\">Women’s Ecommerce Clothing Reviews</a>. These datasets are designed to test specific types of tasks and metrics, and can be chosen as appropriate.</p> \n<p><strong>Run Model Evaluation Job</strong> – Start the job and wait for it to complete. You can review the status of each of your model evaluation jobs from the console, and can also access the status using the new <code>GetEvaluationJob</code> API function:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/28/bdme_models_2.png\" width=\"895\" height=\"452\" /></p> \n<p><strong>Retrieve and Review Evaluation Report</strong> – Get the report and review the model’s performance against the metrics that you selected earlier. Again, refer to Antje’s post for a detailed look at a sample report.</p> \n<p><strong><span>New Features for GA</span></strong><br /> With all of that out of the way, let’s take a look at the features that were added in preparation for today’s launch:</p> \n<p><strong>Improved Job Management</strong> – You can now stop a running job using the console or the new model evaluation API.</p> \n<p><strong>Model Evaluation API</strong> – You can now create and manage model evaluation jobs programmatically. The following functions are available:</p> \n<ul> \n <li><code>CreateEvaluationJob</code> – Create and run a model evaluation job using parameters specified in the API request including an <code>evaluationConfig</code> and an <code>inferenceConfig</code>.</li> \n <li><code>ListEvaluationJobs</code> – List model evaluation jobs, with optional filtering and sorting by creation time, evaluation job name, and status.</li> \n <li><code>GetEvaluationJob</code> – Retrieve the properties of a model evaluation job, including the status (<strong>InProgress</strong>, <strong>Completed</strong>, <strong>Failed</strong>, <strong>Stopping</strong>, or <strong>Stopped</strong>). After the job has completed, the results of the evaluation will be stored at the S3 URI that was specified in the <code>outputDataConfig</code> property supplied to <code>CreateEvaluationJob</code>.</li> \n <li><code>StopEvaluationJob</code> – Stop an in-progress job. Once stopped, a job cannot be resumed, and must be created anew if you want to rerun it.</li> \n</ul> \n<p>This model evaluation API was one of the most-requested features during the preview. You can use it to perform evaluations at scale, perhaps as part of a development or testing regimen for your applications.</p> \n<p><strong>Enhanced Security</strong> – You can now use <a href=\"https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk\">customer-managed KMS keys</a> to encrypt your evaluation job data (if you don’t use this option, your data is encrypted using a key owned by AWS):</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/27/bdme_encrypt_1.png\" width=\"795\" height=\"288\" /></p> \n<p><strong>Access to More Models</strong> – In addition to the existing text-based models from <a href=\"https://aws.amazon.com/bedrock/jurassic/\">AI21 Labs</a>, <a href=\"https://aws.amazon.com/bedrock/titan/\">Amazon</a>, <a href=\"https://aws.amazon.com/bedrock/claude/\">Anthropic</a>, <a href=\"https://aws.amazon.com/bedrock/cohere-command-embed/\">Cohere</a>, and <a href=\"https://aws.amazon.com/bedrock/llama/\">Meta</a>, you now have access to Claude 2.1:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/18/bdme_pick_model_2.png\" width=\"795\" height=\"294\" /></p> \n<p>After you select a model you can set the inference configuration that will be used for the model evaluation job:</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/03/27/bdme_inf_config_1.png\" width=\"437\" height=\"730\" /></p> \n<p><span><strong>Things to Know</strong></span><br /> Here are a couple of things to know about this cool new Amazon Bedrock capability:</p> \n<p><strong>Pricing</strong> – You pay for the inferences that are performed during the course of the model evaluation, with no additional charge for algorithmically generated scores. If you use human-based evaluation with your own team, you pay for the inferences and $0.21 for each completed task — a human worker submitting an evaluation of a single prompt and its associated inference responses in the human evaluation user interface. Pricing for evaluations performed by an AWS managed work team is based on the dataset, task types, and metrics that are important to your evaluation. For more information, consult the <a href=\"https://aws.amazon.com/bedrock/pricing/\">Amazon Bedrock Pricing</a> page.</p> \n<p><strong>Regions</strong> – Model evaluation is available in the US East (N. Virginia) and US West (Oregon) AWS Regions.</p> \n<p><strong>More GenAI</strong> – Visit our new <a href=\"https://community.aws/generative-ai?trk=e8665609-785f-4bbe-86e8-750a3d3e9e61&amp;sc_channel=el\">GenAI space</a> to learn more about this and the other announcements that we are making today!</p> \n<p>— <a href=\"https://twitter.com/jeffbarr\">Jeff</a>;</p>","author":"Jeff Barr","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"f5393e6aeb0804fc056a000b86a9b6ded01126f0145cff25784b1f0f45dcbf37","category":"Tech"}