{"title":"ลองใช้งาน Firebase App Hosting กันหน่อย","link":"https://www.somkiat.cc/hello-firebase-app-hosting/","date":1716477890000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/firebase-app-hosting-01-150x150.jpg\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/05/firebase-app-hosting-01-150x150.jpg 150w, https://www.somkiat.cc/wp-content/uploads/2024/05/firebase-app-hosting-01-75x75.jpg 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/05/firebase-app-hosting-01.jpg\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/firebase-app-hosting-01-1024x507.jpg\" width=\"687\" height=\"339\" /></a></figure>\n\n\n\n<p>เพิ่งเปิดให้ใช้งานสำหรับ <strong><a href=\"https://firebase.google.com/products/app-hosting\" target=\"_blank\">Firebase App Hosting</a></strong> (public preview version)<br />ช่วยทำให้เราสามารถ deploy ระบบที่พัฒนาด้วย Angular และ Next.js<br />ดังนั้นเรื่องของ SSR (Server-Side Rendering) ก็สบายแล้ว (Full stack ชัด ๆ)<br />จาก Github repository ได้เลย (เหมือนกับ vercel เลย)<br />โดยทำการ build ด้วย Cloud build และ deploy บน Cloud Run ทำให้ scale แบบอัตโนมัติ<br />ในส่วนของ static content จะทำ caching ไว้ที่ Cloud CDN<br />รวมทั้ง integrate กับ service อื่น ๆ ได้เช่น Cloud Secret Manager สำหรับจัดการพวก API keys ต่าง ๆ<br />มาลองใช้งานกันดู</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>ขั้นตอนการทำงานเป็นดังนี้</strong></p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.53.17.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.53.17.png\" width=\"608\" height=\"290\" /></a></figure>\n\n\n\n<p><strong>การใช้งานก็ง่าย ๆ ไปสร้าง project ใน Firebase เลย</strong><br />เปิด Blaze pricing plan ซะ<br />จากนั้นก็ทำการผูกเข้ากับ GitHub Repository ของระบบงานของเรา<br />โดยตัวอย่างเป็น Next.js</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.32.51.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.32.51.png\" width=\"448\" height=\"417\" /></a></figure>\n\n\n\n<p><strong>จากนั้นทำการ setting ของการ deploy</strong><br />โดยให้ทำการ deploy อัตโนมัติ เมื่อทำการ push code ไปยัง branch ที่กำหนด</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.33.54.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.33.54.png\" width=\"448\" height=\"238\" /></a></figure>\n\n\n\n<p>สุดท้ายก็ชื่อที่เราต้องการ<br />จากนั้นก็รอ รอ รอ รอ รอ .....</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.37.06.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.37.06.png\" width=\"616\" height=\"206\" /></a></figure>\n\n\n\n<p>ระหว่างรอการ build และ deploy ก็เข้าไปดูที่ Cloud Build console กันหน่อย<br />ว่าจะเจออะไรบ้าง ?</p>\n\n\n\n<ul>\n<li>สร้าง image ด้วน Ubuntu</li>\n\n\n\n<li>ทำการ build ด้วย <a href=\"https://buildpacks.io/\" target=\"_blank\">buildpacks</a> นั่นเอง</li>\n\n\n\n<li>ทำการสร้าง image และ push ขึ้น Google Container Registry ให้</li>\n</ul>\n\n\n\n<p>สำหรับ  starter project นั้นทำการ build image ประมาณ 2-3 นาที</p>\n\n\n\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.38.41.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/05/Screenshot-2567-05-23-at-21.38.41-1024x525.png\" width=\"838\" height=\"429\" /></a></figure>\n\n\n\n<p>รอสักพักนะครับ แล้วระบบงานเราจะ deploy บน cloud run เรียบร้อย !!!<br />ตอนนี้การ deploy แต่ละรอบใช้เวลานานพอสมควร</p>\n\n\n\n<p><strong>ปล. อย่าลืมไป enable Service account permission ให้กับ Cloud Run ด้วยนะ เดี๋ยวจะ deploy ไม่ได้ !!</strong></p>\n\n\n\n<p>เท่าที่ลองใช้งานพวก log การ deploy ยังไม่ดี รอตัวจริงต่อไป<br />link ไปยังเอกสารในหน้า error ยังผิดอีก !!</p>\n\n\n\n<p><strong>Referecne websites</strong></p>\n\n\n\n<ul>\n<li><a href=\"https://firebase.blog/posts/2024/05/introducing-app-hosting/\" target=\"_blank\">Introducing Firebase App Hosting</a></li>\n\n\n\n<li><a href=\"https://www.youtube.com/watch?v=qyhdKb8liEA\" target=\"_blank\">Planet-scale reach for Next and Angular apps with Firebase App Hosting</a></li>\n</ul>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"5d6b97364682ec2a4e321bd7f153fc69401fc88895ae1a00547d48a799d4069d","category":"Thai"}