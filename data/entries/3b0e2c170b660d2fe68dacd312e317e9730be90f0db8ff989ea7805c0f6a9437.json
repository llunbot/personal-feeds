{"title":"How to avoid force ejecting mounted volumes in macOS","link":"https://www.macworld.com/article/2337600/how-to-avoid-force-ejecting-mounted-volumes-in-macos.html","date":1717146000000,"content":"<p><a href=\"https://www.macworld.com\">Macworld</a></p>\n\n<div>\n<section><div></div></section>\n\n\n\n<p>When using macOS, you certainly know if you’ve opened a Pages file or are editing an email. But, below the surface are files that macOS uses that you don’t see–all the activity required for background processes, Time Machine backups, Spotlight indexing, and other system needs. When you want to eject a mounted volume, like a volume on an external SSD or hard drive, you can run afoul of macOS’s hidden needs.</p>\n\n\n\n<div><div>\n<p>You can try to eject a volume normally in these ways:</p>\n\n\n\n<ul>\n<li>Select it in the Finder and press Command-E.</li>\n\n\n\n<li>Select it in the Finder and choose <em>File &gt; Eject</em>.</li>\n\n\n\n<li>Control-click/right-click the volume in the Finder and choose Eject “volume name.”</li>\n</ul>\n</div></div>\n\n\n\n<p>(If you don’t see the volume in the Finder, either choose <em>Go &gt; Computer</em> or press Command-Shift-C, or choose <em>Finder &gt; Settings &gt; General</em> and check all the items under “Show these items on the desktop.”)</p>\n\n\n\n<div><div>\n<p>If you’re lucky, when you try to eject a volume, you see a message with specific details, such as this one that came up when I tested ejecting the external drive that houses my main Photos library:</p>\n\n\n\n<div><figure><img src=\"https://b2c-contenthub.com/wp-content/uploads/2024/05/mac911-quit-these-programs-bordered.png\" alt=\"macOS couldn't eject drive\" loading=\"lazy\" /><figcaption><p>If you’re lucky, macOS tells you exactly which apps to quit.</p></figcaption></figure><p>Foundry</p></div>\n</div></div>\n\n\n\n<p>Quitting those two apps did let me eject “Photos SSD 2TB.” If there’s something happening at a system level, however, you will see a message worded like this: “The disk [name] wasn’t ejected because one or more programs may be using it. You can try to eject the disk again or click Force Eject to eject it immediately.” Cancel and Force Eject buttons are part of the dialog, and a progress spinner appears next to the phrase “Trying to eject.”</p>\n\n\n\n<p>That does not help resolve the situation. Here’s what you can do to narrow down the problem. (And note that Apple uses the term “disk” despite that, in the Finder, you’re always ejecting a volume, as some disks may have multiple mountable volumes on them.)</p>\n\n\n\n<h2>Close Finder windows</h2>\n\n\n\n<p>As odd as it seems, sometimes merely having a window open in the Finder that shows the contents of the volume or a folder on it may make the Finder believe that a “program” is using that mounted item. Close the Finder window and try again.</p>\n\n\n\n<h2>Remove the volume from Spotlight</h2>\n\n\n\n<p>I’ve found that Spotlight can sometimes seize hold of a volume and mark it as unejectable even when indexing isn’t actively in process on that volume.</p>\n\n\n\n<p>You can check if that’s the problem by going to <em> &gt; System Settings &gt; Siri &amp; Spotlight</em>, scrolling down to the bottom of the view, and clicking <em>Spotlight Privacy</em>. Drag the volume into the window (or click + and navigate to it, then add it), and click <em>Done</em>. This immediately removes the volume from indexing.</p>\n\n\n\n<p>Try to eject now. If it works, that was the problem. However, if you want to search items on that volume, you will need to remove it from Spotlight Privacy later.</p>\n\n\n\n<h2>Check if Time Machine is backing up</h2>\n\n\n\n<p>If Time Machine is actively backing up the volume, you may be unable to eject it. Check the status of Time Machine either through its system menu or by going to <em> &gt; System Settings &gt; General &gt; Time Machine</em>. If it’s underway, you can choose <em>Skip This Backup</em> from the Time Machine system menu or click the “x” box next to the active session in the System Settings view and wait for Time Machine to wind down.</p>\n\n\n\n<p>You can exclude the volume from Time Machine by using the settings view: click <em>Options</em>, click the + (plus) sign at the bottom of <em>Exclude from Backups</em>, and add the volume while mounted. Click <em>Done</em>.</p>\n\n\n\n<h2>Head for the Terminal</h2>\n\n\n\n<p>There’s a tweaky way to dig more deeply using the Terminal. In Terminal, copy and paste the following command after replacing “Name of volume” with your precise volume name, including spaces, and press Return:</p>\n\n\n\n<p><code>lsof | grep '/Volumes/Name of volume'</code></p>\n\n\n\n<p>Make sure there are straight single quotes before the <code>/</code> at the front of <code>/Volumes</code> and at the end of the line after your volume name.</p>\n\n\n\n<p>The <code>lsof</code> command shows all files in use by apps and system processes; <code>grep</code> is a filter option that, with <code>'Volumes'</code>, lets you only see files in use by a mounted drive.</p>\n\n\n\n<p>The resulting output is full of technical detail, but reading through it, you may be able to identify which programs are the issue, or what system processes have grabbed hold.</p>\n\n\n\n<p>For my external Photos library volume, for instance, I saw dozens of entries, which include these two lines:</p>\n\n\n\n<p><code>mediaanal 38659 glenn txt REG 1,38 32768 42399710 /Volumes/Photos SSD 2TB/Photos Library.photoslibrary/database/Photos.sqlite-shm</code> <code>Adobe\\x20 855 glenn 84u REG 1,38 7134511104 62657146 /Volumes/Photos SSD 2TB/.TemporaryItems/folders.501/TemporaryItems/Adobe Photoshop 2024/Photoshop Temp1442699855</code></p>\n\n\n\n<p>From this, I could have guessed Photos and Adobe Photoshop were active, even if the Finder hadn’t told me. You may be able to figure out from the list what app or apps to quit–or even that you don’t know why a given process is using the volume. In which case…</p>\n\n\n\n<h2>Force Eject</h2>\n\n\n\n<p>If you have a Force Eject button available in the dialog noted at the start of this article, you could click that now. However, I’m not a big fan of it: using Force Eject can cause a problem when the open file on the volume being ejected isn’t properly updated and closed. That might corrupt a file that you need without knowing it. I try to save Force Eject for when I know macOS is ridiculous and there’s no issue or it’s a situation in which I don’t have the time to choose the most prudent course, noted next: shutting down or restarting.</p>\n\n\n\n<h2>Shut down</h2>\n\n\n\n<p>If none of the above helps, then:</p>\n\n\n\n<ul>\n<li>For a physically connected external volume, choose <em> &gt; Shut Down</em>. When your Mac is completely shut down, unplug the SSD or HDD. Press the power button on your Mac to start up.</li>\n\n\n\n<li>For a “logically” mounted volume, such as a disk image or networked volume, choose <em> &gt; Restart</em>. On restart, the volume should be unmounted by default. If not, immediately select it and use an eject option listed above, which should now work.</li>\n</ul>\n\n\n\n<p><em>This Mac 911 article is in response to a question submitted by Macworld reader Cliff.</em></p>\n\n\n\n<h2>Ask Mac 911</h2>\n\n\n\n<p>We’ve compiled a list of the questions we get asked most frequently, along with answers and links to columns: <a href=\"http://www.macworld.com/article/3077986/os-x/your-top-questions-to-mac-911-and-some-answers.html\">read our super FAQ</a> to see if your question is covered. If not, we’re always looking for new problems to solve! Email yours to <a href=\"mailto:mac911@macworld.com\">mac911@macworld.com</a>, including screen captures as appropriate and whether you want your full name used. Not every question will be answered, we don’t reply to email, and we cannot provide direct troubleshooting advice.</p>\n\nMac, MacOS</div>","author":"","siteTitle":"Macworld","siteHash":"37e84dd5a21fa961d6d6630e269546024dbb7741b2e2fadbe74f47383c70dfbb","entryHash":"3b0e2c170b660d2fe68dacd312e317e9730be90f0db8ff989ea7805c0f6a9437","category":"Apple"}