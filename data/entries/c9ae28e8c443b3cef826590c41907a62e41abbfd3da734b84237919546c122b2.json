{"title":"WebKit Features in Safari 18.3","link":"https://webkit.org/blog/16439/webkit-features-in-safari-18-3/","date":1738004424000,"content":"<p>Today marks the arrival of Safari 18.3. This release is focused on improving the quality of features with 23 bug fixes and 1 depreciation, plus 1 new feature. Safari 18.3 is available on iOS 18.3, iPadOS 18.3, visionOS 2.3, macOS Sequoia 15.3, macOS Sonoma and macOS Ventura.</p>\n<h2>Genmoji in WKWebView</h2>\n<p>macOS Sequoia 15.3 now supports Genmoji in Messages, Mail, Notes, and more. With this, WKWebView on macOS now supports the <code>NSAdaptiveImageGlyph</code> API, via the <code>supportsAdaptiveImageGlyph</code> property on <code>WKWebViewConfiguration</code>, making it possible to support adaptive image glyphs in your Mac app. Learn more by watching <a href=\"https://developer.apple.com/videos/play/wwdc2024/10220/\">Bring expression to your app with Genmoji</a> from WWDC24.</p>\n<h2>Bug Fixes and more</h2>\n<h3>Accessibility</h3>\n<ul>\n<li>Fixed VoiceOver to not announce the content of <code>&lt;script&gt;</code> elements inside containers with <code>display: contents</code>.  </li>\n</ul>\n<h3>CSS</h3>\n<ul>\n<li>Fixed the <code>::view-transition</code> pseudo-element to create a stacking context.  </li>\n<li>Fixed an issue where SVG text was not displayed in a <code>content-visibility: auto</code> subtree. </li>\n<li>Fixed <code>:not(:has(...))</code> invalidation.  </li>\n<li>Fixed the default <code>background-origin</code> to <code>border-box</code> for the <code>border-area</code> in shorthand.  </li>\n<li>Fixed <code>text-box</code> not working correctly on buttons. </li>\n</ul>\n<h3>Editing</h3>\n<ul>\n<li>Fixed duplicated and offset highlights in iCloud Notes. </li>\n<li>Fixed <code>getRangeAt(0)</code> returning the same JavaScript object even after selection changes. </li>\n<li>Fixed the inability to tap to place the cursor at end of the line if last word was autocorrected. </li>\n<li>Fixed the drag preview remaining after dragging multiple items and then cancelling the drag. </li>\n</ul>\n<h3>Media</h3>\n<ul>\n<li>Fixed an incorrect aspect ratio for WebM files with non-1:1 source pixels and a sample-aspect-ratio setting.  </li>\n</ul>\n<h3>Rendering</h3>\n<ul>\n<li>Fixed dynamically changing <code>scrollbar-width</code> causing horizontal scrollbars to be painted incorrectly.   </li>\n<li>Fixed <code>&lt;img&gt;</code> element with <code>height: min-content</code> getting stretched vertically.  </li>\n<li>Improved view-transitions performance by only rasterizing on-screen snapshots. </li>\n</ul>\n<h3>Scrolling</h3>\n<ul>\n<li>Fixed scrollbar appearance when changing to light or dark appearance.</li>\n</ul>\n<h3>Security</h3>\n<ul>\n<li>Removed support for <code>Clear-Site-Data: \"executionContexts\"</code>. </li>\n</ul>\n<h3>SVG</h3>\n<ul>\n<li>Fixed SVG paths getting clipped at tile boundaries.  </li>\n</ul>\n<h3>Web API</h3>\n<ul>\n<li>Fixed touching or clicking outside of the popover not closing it on iOS or iPadOS.  </li>\n<li>Fixed coalesced and predicted events of a given pointer event to have the same pointer identifier as their parent.  </li>\n</ul>\n<h3>Web Extensions</h3>\n<ul>\n<li>Fixed an issue where the permissions alert would still appear after clicking the extension icon, even though the user had granted the extension access to all sites.  </li>\n<li>Fixed <code>browser.tabs.create</code> ignoring the <code>pinned</code> and <code>openerTabId</code> attributes, also occurring with <code>browser.tabs.duplicate</code> on iOS.  </li>\n</ul>\n<h3>Web Inspector</h3>\n<ul>\n<li>Fixed the DOM tree view in the Elements tab reducing deeply-nested nodes to one character wide. </li>\n<li>Improved the reliability of <code>safaridriver</code> connecting to remote devices, especially immediately after toggling the “Remote Automation” setting.  </li>\n</ul>\n<h3>WebAssembly</h3>\n<ul>\n<li>Fixed memory leaks in WebAssembly Table objects for JSWebAssemblyInstance to improve resource management in WebAssembly instances. This change enhances the stability and performance of WebAssembly in Safari by ensuring proper lifecycle management of internal Table references. No action is required by web developers, but you may notice reduced memory usage in applications that create and manage WebAssembly instances extensively.</li>\n</ul>\n<h3>WKWebView</h3>\n<ul>\n<li>Fixed an issue where entering full screen in WKWebView on iOS could fail, even with <code>isElementFullscreenEnabled</code> enabled.  </li>\n</ul>\n<h2>Updating to Safari 18.3</h2>\n<p>Safari 18.3 is available on <a href=\"https://www.apple.com/ios/ios-18/\">iOS 18.3</a>, <a href=\"https://www.apple.com/ipados/ipados-18/\">iPadOS 18.3</a>, <a href=\"https://www.apple.com/macos/\">macOS Sequoia 15.3</a>, macOS Sonoma, macOS Ventura, and in <a href=\"https://www.apple.com/visionos/\">visionOS 2.3</a>. If you are running macOS Sonoma or macOS Ventura, you can update Safari by itself, without updating macOS. Go to  &gt; System Settings &gt; General &gt; Software Update and click “More info…” under Updates Available. To get the latest version of Safari on iPhone, iPad or Apple Vision Pro, go to Settings &gt; General &gt; Software Update, and tap to update.</p>\n<h2>Feedback</h2>\n<p>We love hearing from you. To share your thoughts, find Jen Simmons on <a href=\"https://bsky.app/profile/jensimmons.bsky.social\">Bluesky</a> / <a href=\"https://front-end.social/@jensimmons\">Mastodon</a> and Jon Davis on <a href=\"https://bsky.app/profile/jondavis.bsky.social\">Bluesky</a> / <a href=\"https://mastodon.social/@jondavis\">Mastodon</a>. You can follow WebKit <a href=\"https://www.linkedin.com/in/apple-webkit/\">on LinkedIn</a>. If you run into any issues, we welcome your <a href=\"https://feedbackassistant.apple.com/\">feedback</a> on Safari UI (learn more about <a href=\"https://developer.apple.com/bug-reporting/\">filing Feedback</a>), or your <a href=\"https://bugs.webkit.org/\">WebKit bug report</a> about web technologies or Web Inspector. If you run into a website that isn’t working as expected, please file a report at <a href=\"https://webcompat.com/\">webcompat.com</a>. Filing issues really does make a difference.</p>\n<p>Download the latest <a href=\"https://developer.apple.com/safari/technology-preview/\">Safari Technology Preview</a> on macOS to stay at the forefront of the web platform and to use the latest Web Inspector features.</p>\n<p>You can also find this information in the <a href=\"https://developer.apple.com/documentation/safari-release-notes/\">Safari 18.3 release notes</a>.</p>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"c9ae28e8c443b3cef826590c41907a62e41abbfd3da734b84237919546c122b2","category":"Tech"}