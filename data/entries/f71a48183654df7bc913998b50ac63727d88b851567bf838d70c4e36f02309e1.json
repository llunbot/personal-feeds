{"title":"Serverless ของเราไม่เท่ากัน Cloudflare โชว์ Worker หน่วงน้อยกว่า Lambda มากเพราะกินแรมน้อยกว่า","link":"https://www.blognone.com/node/124735","date":1631592997000,"content":"<div><div><div><p>Cloudflare โชว์ระยะเวลาตอบสนองของแอปที่รันบน Cloudflare Worker ว่ามีระยะเวลาหน่วง (latency) ต่ำกว่าบริการ Lambda และ Lambda@Edge ของ AWS อย่างมากแม้จะเป็นบริการประมวลผลแบบ serverless เหมือนกัน</p>\n<p>โดยรวมแล้วที่ 90% ที่เร็วที่สุด (P90) ระยะเวลาหน่วงของ Workers เร็วกว่า Lambda 210% และเร็วกว่า Lambda@Edge 298% ทาง Cloudflare ระบุว่าระยะเวลาหน่วงที่เพิ่มขึ้นเนื่องจาก Lambda ต้องปิด/เปิด คอนเทนเนอร์ขึ้นมาประมวลผล และทำได้ช้ากว่าการรันโค้ดใน V8 มาก ทำให้ช่วงเวลา cold start กินเวลานาน แม้ว่า Lambda จะพยายามแก้ปัญหานี้ด้วยการส่งต่อทราฟิกไปประมวลผลในศูนย์ข้อมูลกลางแต่ก็ทำให้ระยะเวลาหน่วงเพิ่มขึ้นไม่เหมือนการรันที่ปลายเน็ตเวิร์ค (edge) จริงๆ</p>\n<p>Lambda กินแรมเริ่มต้นประมาณ 35MB ขณะที่โมเดล V8 Isolate นั้นกินแรมเริ่มต้นที่ 3MB  ส่วนระยะเวลาการโหลดโค้ดแบบ cold start นั้น Cloudflare ก็เริ่มโหลดตั้งแต่ช่วงเปิด connection (Client Hello) ก่อนเริ่มการเชื่อมต่อ TLS ทำให้ผู้ใช้เห็นความหน่วงของ cold start น้อยลง</p>\n<p>ที่มา - <a href=\"https://blog.cloudflare.com/cloudflare-workers-the-fast-serverless-platform/\">Cloudflare</a></p>\n<p><img src=\"https://blog.cloudflare.com/content/images/2021/09/image5-3.png\" /></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/cloudflare\">Cloudflare</a></div><div><a href=\"/topics/serverless\">Serverless</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"f71a48183654df7bc913998b50ac63727d88b851567bf838d70c4e36f02309e1","category":"Thai"}