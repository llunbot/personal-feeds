{"title":"Accelerate the transfer of data from an Amazon EBS snapshot to a new EBS volume","link":"https://aws.amazon.com/blogs/aws/accelerate-the-transfer-of-data-from-an-amazon-ebs-snapshot-to-a-new-ebs-volume/","date":1746568346000,"content":"<p>Today we are announcing the general availability of <a href=\"https://aws.amazon.com/ebs/\">Amazon Elastic Block Store (Amazon EBS)</a> Provisioned Rate for Volume Initialization, a feature that accelerates the transfer of data from an EBS snapshot, a highly durable backup of volumes stored in <a href=\"https://aws.amazon.com/s3\">Amazon Simple Storage Service (Amazon S3)</a> to a new EBS volume.</p> \n<p>With Amazon EBS Provisioned Rate for Volume Initialization, you can create fully performant EBS volumes within a predictable amount of time. You can use this feature to speed up the initialization of hundreds of concurrent volumes and instances. You can also use this feature when you need to recover from an existing EBS Snapshot and need your EBS volume to be created and initialized as quickly as possible. You can use this feature to quickly create copies of EBS volumes with EBS Snapshots in a different Availability Zone, AWS Region, or AWS account. Provisioned Rate for Volume Initialization for each volume is charged based on the full snapshot size and the specified volume initialization rate.</p> \n<p>This new feature expedites the volume initialization process by fetching the data from an EBS Snapshot to an EBS volume at a consistent rate that you specify between 100 MiB/s and 300 MiB/s. You can specify this volume initialization rate at which the snapshot blocks are to be downloaded from Amazon S3 to the volume.</p> \n<p>With specifying the volume initialization rate, you can create a fully performant volume in a predictable time, enabling increased operational efficiency and visibility on the expected time of completion. If you run utilities like <code>fio</code>/<code>dd</code> to expedite volume initialization for your workflows like application recovery and volume copy for testing and development, it will remove the operational burden of managing such scripts with the consistency and predictability to your workflows.</p> \n<p><strong><u>Get started with specifying the volume initialization rate</u></strong><br /> To get started, you can choose the volume initialization rate when you launch your EC2 instance or create your volume from the snapshot.</p> \n<p><strong>1. Create a volume in the EC2 launch wizard</strong><br /> When launching new EC2 instances in the launch wizard of <a href=\"https://console.aws.amazon.com/ec2\">EC2 console</a>, you can enter a desired <strong>Volume initialization rate</strong> in the <strong>Storage (volumes)</strong> section.</p> \n<p><img src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/20/2025-ebs-volume-initialization-rate-ec2-launch.png\" alt=\"\" width=\"2282\" height=\"1200\" /></p> \n<p>You can also set the volume initialization rate when creating and modifying the <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-launch-templates.html\">EC2 Launch Templates</a>.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/03/20/2025-ebs-volume-initialization-rate-ec2-launch-template.png\" alt=\"\" width=\"2496\" height=\"1280\" /></p> \n<p>In the <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (AWS CLI)</a>, you can add <code>VolumeInitializationRate</code> parameter to the block device mappings when call <code>run-instances</code> command.</p> \n<pre><code>aws ec2 run-instances \\\n    --image-id ami-0abcdef1234567890 \\\n    --instance-type t2.micro \\\n    --subnet-id subnet-08fc749671b2d077c \\\n    --security-group-ids sg-0b0384b66d7d692f9 \\\n    --key-name MyKeyPair \\\n    --block-device-mappings file://mapping.json</code></pre> \n<p>Contents of <code><span>mapping.json</span></code>. This example adds <code><span>/dev/sdh</span></code> an empty EBS volume with a size of 8 GiB.</p> \n<pre><code>[\n    {\n        \"DeviceName\": \"/dev/sdh\",\n        \"Ebs\": {\n            \"VolumeSize\": 8\n            \"VolumeType\": \"gp3\",            \n            \"VolumeInitializationRate\": 300\n\t\t } \n     } \n]</code></pre> \n<p>To learn more, visit <a href=\"https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html#options\">block device mapping options</a>, which defines the EBS volumes and instance store volumes to attach to the instance at launch.</p> \n<p><strong>2. Create a volume from snapshots</strong><br /> When you create a volume from snapshots, you can also choose <strong>Create volume </strong>in the <a href=\"https://console.aws.amazon.com/ec2\">EC2 console</a> and specify the <strong>Volume initialization rate</strong>.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/01/14/2025-ebs-volume-initialization-rate.jpg\" alt=\"\" width=\"1200\" height=\"1983\" /></p> \n<p>Confirm your new volume with the initialization rate.</p> \n<p><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2025/01/14/2025-ebs-volume-initialization-rate-2.jpg\" alt=\"\" width=\"2560\" height=\"915\" /></p> \n<p>In the AWS CLI, you can use <code>VolumeInitializationRate</code> parameter and when calling <code>create-volume</code> command.</p> \n<pre><code>aws ec2 create-volume --region us-east-1 --cli-input-json '{\n    \"AvailabilityZone\": \"us-east-1a\",\n    \"VolumeType\": \"gp3\",\n    \"SnapshotId\": \"snap-07f411eed12ef613a\",\n    \"VolumeInitializationRate\": 300\n}'</code></pre> \n<p>If the command is run successfully, you will receive the result below.</p> \n<pre><code>{\n    \"AvailabilityZone\": \"us-east-1a\",\n    \"CreateTime\": \"2025-01-03T21:44:53.000Z\",\n    \"Encrypted\": false,\n    \"Size\": 100,\n    \"SnapshotId\": \"snap-07f411eed12ef613a\",\n    \"State\": \"creating\",\n    \"VolumeId\": \"vol-0ba4ed2a280fab5f9\",\n    \"Iops\": 300,\n    \"Tags\": [],\n    \"VolumeType\": \"gp2\",\n    \"MultiAttachEnabled\": false,\n    \"VolumeInitializationRate\": 300\n}</code></pre> \n<p>You can also set the volume initialization rate when replacing root volumes of EC2 instances and provisioning EBS volumes using the <a href=\"https://github.com/kubernetes-sigs/aws-ebs-csi-driver/\">EBS Container Storage Interface (CSI) driver</a>.</p> \n<p>After creation of the volume, EBS will keep track of the hydration progress and publish an <a href=\"https://docs.aws.amazon.com/ebs/latest/userguide/ebs-cloud-watch-events.html\">Amazon EventBridge notification for EBS</a> to your account when the hydration completes so that they can be certain when their volume is fully performant.</p> \n<p>To learn more, visit <a href=\"https://docs.aws.amazon.com/ebs/latest/userguide/ebs-creating-volume.html\">Create an Amazon EBS volume</a> and <a href=\"https://docs.aws.amazon.com/ebs/latest/userguide/initalize-volume.html\">Initialize Amazon EBS volumes</a> in the Amazon EBS User Guide.</p> \n<p><strong><u>Now available</u></strong><br /> Amazon EBS Provisioned Rate for Volume Initialization is now available and supported for all EBS volume types today. You will be charged based on the full snapshot size and the specified volume initialization rate. To learn more, visit <a href=\"https://aws.amazon.com/ebs/pricing/\">Amazon EBS Pricing</a> page.</p> \n<p>To learn more about Amazon EBS including this feature, take the free digital course on the AWS Skill Builder portal. Course includes use cases, architecture diagrams and demos.</p> \n<p>Give this feature a try in the <a href=\"https://console.aws.amazon.com/ec2/home?#CreateVolume:\">Amazon EC2 console</a> today and send feedback to <a href=\"https://repost.aws/tags/TAQngny0JOSqmKzdPtGiZZ2w/amazon-elastic-block-store\">AWS re:Post for Amazon EBS</a> or through your usual AWS Support contacts.</p> \n<p>— <a href=\"https://twitter.com/channyun\">Channy</a></p> \n<hr /> \n<p>How is the News Blog doing? Take this <a href=\"https://amazonmr.au1.qualtrics.com/jfe/form/SV_eyD5tC5xNGCdCmi\">1 minute survey</a>!</p> \n<p><em>(This <a href=\"https://amazonmr.au1.qualtrics.com/jfe/form/SV_eyD5tC5xNGCdCmi\">survey</a> is hosted by an external company. AWS handles your information as described in the <a href=\"https://aws.amazon.com/privacy/\">AWS Privacy Notice</a>. AWS will own the data gathered via this survey and will not share the information collected with survey respondents.)</em></p>","author":"Channy Yun (윤석찬)","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"0517765b83a22a670e43a0efdeb64a97986f0e6332271fc3d043acc350d7a55c","category":"Tech"}