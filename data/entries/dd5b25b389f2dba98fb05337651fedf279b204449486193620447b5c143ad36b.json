{"title":"Introducing multi-agent collaboration capability for Amazon Bedrock (preview)","link":"https://aws.amazon.com/blogs/aws/introducing-multi-agent-collaboration-capability-for-amazon-bedrock/","date":1733246989000,"content":"<p>Today, we’re announcing the multi-agent collaboration capability for <a href=\"https://aws.amazon.com/bedrock/\">Amazon Bedrock</a> (preview). With multi-agent collaboration, you can build, deploy, and manage multiple AI agents working together on complex multi-step tasks that require specialized skills.</p> \n<p>When you need more than a single agent to handle a complex task, you can create additional specialized agents to address different aspects of the process. However, managing these agents becomes technically challenging as tasks grow in complexity. As a developer using open source solutions, you may find yourself navigating the complexities of agent orchestration, session handling, memory management, and other technical aspects that require manual implementation.</p> \n<p>With the fully managed multi-agent collaboration capability on Amazon Bedrock, specialized agents work within their domains of expertise, coordinated by a supervisor agent. The supervisor breaks down requests, delegates tasks, and consolidates outputs into a final response. For example, an investment advisory multi-agent system might include agents specialized in financial data analysis, research, forecasting, and investment recommendations. Similarly, a retail operations multi-agent system could handle demand forecasting, inventory allocation, supply chain coordination, and pricing optimization.</p> \n<p><a href=\"https://aws.amazon.com/bedrock/agents/\">Amazon Bedrock Agents</a> manages the collaboration, communication, and task delegation behind the scenes. By enabling agents to work together, you can achieve higher task success rates, accuracy, and enhanced productivity. In internal benchmark testing, multi-agent collaboration has shown marked improvements compared to single-agent systems for handling complex, multi-step tasks.</p> \n<p><strong><u>Highlights of multi-agent collaboration in Amazon Bedrock<br /> </u></strong>A key challenge in building eﬀective multi-agent collaboration systems is managing the complexity and overhead of coordinating multiple specialized agents at scale. Amazon Bedrock simplifies the process of building, deploying, and orchestrating effective multi-agent collaboration systems while addressing efficiency challenges through several key features and optimizations:</p> \n<ul> \n <li><strong>Quick setup</strong> – Create, deploy, and manage AI agents working together in minutes without the need for complex coding.</li> \n <li><strong>Composability</strong> – Integrate your existing agents as subagents within a larger agent system, allowing them to seamlessly work together to tackle complex workflows.</li> \n <li><strong>Efficient inter-agent communication</strong> – The supervisor agent can interact with subagents using a consistent interface, supporting parallel communication for more efficient task completion.</li> \n <li><strong>Optimized collaboration modes</strong> – Choose between supervisor mode and supervisor with routing mode. With routing mode, the supervisor agent will route simple requests directly to specialized subagents, bypassing full orchestration. For complex queries or when no clear intention is detected, it automatically falls back to the full supervisor mode, where the supervisor agent analyzes, breaks down problems, and coordinates multiple subagents as needed.</li> \n <li><strong>Integrated trace and debug console</strong> – Visualize and analyze multi-agent interactions behind the scenes using the integrated trace and debug console.</li> \n</ul> \n<p>These features collectively improve coordination capabilities, communication speed, and overall effectiveness of the multi-agent collaboration framework in tackling complex, real-world problems.</p> \n<p>Here’s how to get started.</p> \n<p><strong><u>Using multi-agent collaboration in Amazon Bedrock<br /> </u></strong>For this demo, I create a social media campaign manager agent that’s composed of a content strategist agent creating posts and an engagement predictor agent optimizing their timing and reach. The following figure shows the team of agents that I’m creating and how multi-agent collaboration works in this scenario.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/13/2024-bedrock-mac-demo.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/13/2024-bedrock-mac-demo.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"972\" height=\"773\" /></a></p> \n<p>To get started, you can use the <a href=\"https://console.aws.amazon.com/bedrock/\">Amazon Bedrock console</a> or <a href=\"https://docs.aws.amazon.com/bedrock/latest/APIReference/welcome.html\">APIs</a> to create a supervisor agent and associate specialist subagents in just a few steps.</p> \n<p><strong>Create subagents<br /> </strong>First, I create the two subagents using the existing agent builder workflow. I open the Amazon Bedrock console, select <strong>Agents</strong> in the left navigation panel, then choose <strong>Create Agent</strong>. I create one agent that I name <code>content-strategist</code>, an agent that generates creative social media content ideas. Note the new option to enable the agent for multi-agent collaboration. I leave this option unchecked for now; we need to enable this option later for the supervisor agent. Next, I choose <strong>Create</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-01.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-01.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1228\" height=\"834\" /></a></p> \n<p>In the <strong>Agent builder</strong> dialog box, I choose to create and use a new service role, select <strong>Anthropic’s Claude 3.5 Sonnet v2</strong> as the model, and provide the following instructions for the agent:</p> \n<p><code>You are a social media content strategist with expertise in converting business goals into engaging social posts. Your task is to generate creative, on-brand content ideas that align with specified campaign goals and target audience. Each suggestion should include a topic, content type (image/video/text/poll), specific copy, and relevant hashtags. Focus on variety, authenticity, and ensuring each post serves a strategic purpose.</code></p> \n<p>I also create and attach a knowledge base that contains high-performing post templates. As with any other agent, you could also configure additional settings, such as action groups to perform tasks, enable code interpretation, or add guardrails. I leave all other settings to their defaults.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/13/2024-bedrock-multi-agents-2.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/13/2024-bedrock-multi-agents-2.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1170\" height=\"889\" /></a></p> \n<p>Then, I choose <strong>Save and exit</strong>.</p> \n<p>I repeat the steps to create a second agent that I name <code>engagement-predictor</code>, an agent that predicts social media post performance and optimal posting times. For this agent, I provide the following instructions:</p> \n<p><code>You are a social media analytics expert who predicts post performance and optimal timing. For each content idea, analyze potential reach and engagement based on content type, industry benchmarks, and audience behavior patterns. Your task is to estimate reach, engagement rate, and determine the best posting time (day/hour). Support each prediction with data-driven reasoning and industry-specific insights. Focus on actionable metrics that will maximize campaign impact.</code></p> \n<p>I create and attach a knowledge base that contains platform-specific peak engagement times, industry benchmark metrics, and content performance multipliers for predicting and optimizing social media post performance. Again, I choose <strong>Save and exit</strong>.</p> \n<p>I now have my two specialist subagents.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/13/2024-bedrock-multi-agents-5.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/13/2024-bedrock-multi-agents-5.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1178\" height=\"643\" /></a></p> \n<p>Before moving on, test each agent individually, and once you’ve confirmed their functionality, create an alias for each one. This approach will streamline the process of creating supervisor agents in the future.</p> \n<p><strong>Create supervisor agent and associate subagents<br /> </strong>Next, I create the supervisor agent. I name this agent <code>social-media-campaign-manager</code>, an agent that combines the outputs from the content strategy agent and the engagement predictor agent into a comprehensive campaign plan.</p> \n<p>This time, I turn on <strong>Enable Multi-agent collaboration</strong> before I choose <strong>Create</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-02.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-02.png\" alt=\"Enable multi-agent collaboration in Amazon Bedrock\" width=\"1230\" height=\"827\" /></a></p> \n<p>In the <strong>Agent builder</strong> dialog box, I again choose to create and use a new service role, select <strong>Anthropic’s Claude 3.5 Sonnet v2</strong> as the model, and provide the following instructions for the agent:</p> \n<p><code>You are a strategic campaign manager who orchestrates social media campaigns from concept to execution.</code></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-08.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-08.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1158\" height=\"1035\" /></a></p> \n<p>I create and attach a knowledge base that contains a collection of proven campaign templates, content mix ratios, and cross-platform posting requirements.</p> \n<p>Next, I scroll down to <strong>Multi-agent collaboration</strong> and choose <strong>Edit</strong>.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-03-1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-03-1.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1162\" height=\"448\" /></a></p> \n<p>The option to turn on multi-agent collaboration should already be checked because I enabled this option when I started creating the agent.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-04-1.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-04-1.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1153\" height=\"792\" /></a></p> \n<p>Then, you can choose between two <strong>collaboration configurations</strong> that determine how information is handled across the agent’s team to coordinate a final response.</p> \n<p>In<strong> Supervisor </strong>mode, the supervisor agent analyzes the input, breaking down complex problems or paraphrasing the request. It then invokes subagents either serially or in parallel, and it might consult knowledge bases or invoke action groups. After receiving responses from subagents, the supervisor agent processes them to determine if the problem is solved or if further action is needed.</p> \n<p>Alternatively, in <strong>Supervisor with routing</strong> mode, the supervisor agent first attempts to route simple requests directly to a relevant subagent, whose response is then forwarded to the user. For complex or ambiguous inputs, the system switches to supervisor mode, where the supervisor agent breaks down the problem or asks follow-up questions before proceeding similarly to standard supervisor mode. This approach allows for efficient handling of both straightforward and complex queries within a single framework.</p> \n<p>For my demo, I choose <strong>Supervisor </strong>mode.</p> \n<p>As a last step, I associate the two subagents by adding each subagent in <strong>Agent collaborator</strong>. I provide a collaborator name for each agent and a collaborator instruction.</p> \n<p>I select the <strong>content-strategist</strong> agent and provide the collaborator name <code>content-strategist</code> along with the following instruction:</p> \n<p><code>You can invoke this agent for social media content strategy tasks such as converting business goals into engaging social posts. The agent generates creative, on-brand content ideas that align with specified campaign goals and target audience.</code></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-05.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-05.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1160\" height=\"638\" /></a></p> \n<p>Then, I choose <strong>Add collaborator</strong>, select the <strong>engagement-predictor </strong>agent, and provide the collaborator name <code>engagement-predictor</code> along with the following instructions:</p> \n<p><code>You can invoke this agent for social media analytics to predict post performance and optimal timing.</code></p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-06.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-06.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1159\" height=\"640\" /></a></p> \n<p>Note: <strong>Enable conversation history sharing</strong> allows the supervisor agent to pass the full context of a user interaction to subagents. This helps maintain coherence and avoid repeating questions, especially when routing or switching between agents. Keep in mind, it might confuse simpler subagents with complex task histories. We recommend enabling this feature when you need continuity and disabling it when you’re focusing on task simplification or using specialized agents. I keep it disabled for my demo.</p> \n<p>Choose <strong>Save</strong> and complete the <strong>Agent builder</strong> workflow.</p> \n<p>Let’s test it!</p> \n<p><strong>Test multi-agent collaboration<br /> </strong>Prepare the social media campaign manager<strong> </strong>agent and choose <strong>Test</strong>.</p> \n<p>I use the following input prompt:</p> \n<p><code>Create a 2-week social campaign for EcoTech's new solar panel launch. Target: B2B (facility managers, sustainability directors) Key points: 30% more efficient, AI-optimized, 2-year ROI Need: 4 posts/week on LinkedIn/Twitter (40% educational, 30% product, 30% thought leadership).</code></p> \n<p>After the response comes back, I choose <strong>Show trace</strong> to inspect the workflow. In the <strong>Multi-agent collaboration trace timeline</strong>, you can observe that each subagent got invoked. You can also inspect the trace steps to check the orchestration details.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-07.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/11/29/2024-bedrock-mac-07.png\" alt=\"Multi-agent collaboration in Amazon Bedrock\" width=\"1194\" height=\"1116\" /></a></p> \n<p>You can find more examples of how to work with Amazon Bedrock Agents and the new multi-agent collaboration capability in the <a href=\"https://github.com/awslabs/amazon-bedrock-agent-samples/tree/main\">Amazon Bedrock Agent Samples</a> GitHub repo.</p> \n<p><strong><u>Things to know</u></strong></p> \n<ul> \n <li>During preview, multi-agent collaboration supports real-time chat assistant (synchronous) use cases.</li> \n <li>Subagents can have collaboration enabled themselves with an overall soft limit of three hierarchical agent team layers.</li> \n</ul> \n<p><strong><u>Join the preview<br /> </u></strong>Multi-agent collaboration in Amazon Bedrock is available today in preview in all <a href=\"https://docs.aws.amazon.com/glossary/latest/reference/glos-chap.html#region\">AWS Regions</a> that support Amazon Bedrock Agents, except AWS GovCloud (US-West). Check the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/features-regions.html\">full Region list</a> for future updates. To learn more, visit <a href=\"https://aws.amazon.com/bedrock/agents/\">Amazon Bedrock Agents</a>.</p> \n<p>Give multi-agent collaboration a try in the <a href=\"https://console.amazon.com/bedrock/home#custom-models\">Amazon Bedrock console</a> today and let us know what you think! Send feedback to <a href=\"https://repost.aws/tags/TAQeKlaPaNRQ2tWB6P7KrMag/amazon-bedrock\">AWS re:Post for Amazon Bedrock</a> or through your usual AWS Support contacts.</p> \n<p>I’m excited to see what you build with multi-agent collaboration.</p> \n<p>— <a href=\"https://www.linkedin.com/in/antje-barth/\" target=\"_blank\">Antje</a></p>","author":"Antje Barth","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"dd5b25b389f2dba98fb05337651fedf279b204449486193620447b5c143ad36b","category":"Tech"}