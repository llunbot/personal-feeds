{"title":"Terraform ephemeral resources, Waypoint actions, and more at HashiDays 2025","link":"https://www.hashicorp.com/blog/terraform-ephemeral-resources-waypoint-actions-and-more-at-hashidays-2025","date":1748939400000,"content":"<p>Enterprises are struggling to protect their hybrid cloud infrastructure from security risks due to misconfigurations and lack of proper guardrails throughout its lifecycle. HashiCorp’s Infrastructure Lifecycle Management (ILM) portfolio automates how companies build, deploy, and manage their infrastructure over time, ensuring that developers can move fast while always using the approved approach with governance baked in.</p>\n\n<p>As organizations scale their IT estates, infrastructure automation becomes even more critical. With scale comes the challenge of balancing developer agility with the security and compliance needs of the organization. Infrastructure lifecycle management (ILM) helps make the secure, cost-effective approach the simplest path for developers.</p>\n\n<p>At HashiDays London, we are announcing the general availability of several features to help simplify infrastructure lifecycle management and accelerate time-to-value:</p>\n\n<ul>\n<li><strong>HashiCorp Terraform ephemeral resources</strong>: Protect sensitive data, such as passwords or API keys, that should not persist in state files.<br /></li>\n<li><strong>Pre-written Sentinel policies</strong>: Reduce the barrier of adoption for policy as code infrastructure workflows with new pre-written policy libraries co-developed with AWS. </li>\n<li><strong>Private VCS access</strong>: Access private version control system (VCS) repositories securely by ensuring that your source code and static credentials are not exposed over the public internet.<br /></li>\n<li><strong>Module lifecycle management – revocation</strong>: Streamline module management by revoking outdated or vulnerable modules.<br /></li>\n<li><strong>HCP Waypoint actions</strong>: Empower platform teams to expose Day 2+ operations — including restarts, rollbacks, and build promotions — as golden workflows that developers can safely trigger via UI, CLI, or API.<br /></li>\n<li><strong>HashiCorp Nomad 1.10 - dynamic host volumes</strong>: Allow on-demand provisioning of host storage, simplifying operations and enhancing governance compared to previously available options.</li>\n</ul>\n\n<h2>Terraform ephemeral values</h2>\n\n<p>Terraform <a href=\"https://www.hashicorp.com/blog/terraform-1-11-ephemeral-values-managed-resources-write-only-arguments\">recently introduced</a> ephemeral resources, ephemeral input variables, and write-only arguments for improved efficiency and security in resource management. Ephemeral resources are temporary, dynamically created, and managed within a single Terraform operation. This approach minimizes long-term costs by promptly deleting unused resources and optimizes resource usage due to their ephemeral nature. </p>\n\n<p>Write-only arguments, conversely, are data embedded in Terraform's state file that can only be modified as write-only. These are important for securely holding sensitive information and preventing unintended exposure or inclusion in version control systems. </p>\n\n<p>Below is a code snippet showing one of the new ephemeral resources, <a href=\"https://registry.terraform.io/providers/hashicorp/vault/latest/docs/ephemeral-resources/kv_secret_v2\">vault<em>kv</em>secret_v2</a>, that was introduced as part of version 5.0 of the <a href=\"https://registry.terraform.io/providers/hashicorp/vault/latest/docs\">Vault provider</a>:</p>\n<pre><code>ephemeral \"vault_kv_secret_v2\" \"db_secret\" {\n  mount = var.vault_mount\n  name  = var.vault_name\n}\n\nresource \"aws_db_instance\" \"hashidays\" {\n  identifier                  = \"web-db-hashidays\"\n  instance_class              = \"db.t3.micro\"\n  allocated_storage           = 10\n  apply_immediately           = true\n  engine                      = \"postgres\"\n  engine_version              = \"15\"\n  username                    = \"edu\"\n  password_wo                 = ephemeral.vault_kv_secret_v2.db_secret.data.password\n  password_wo_version         = var.password_version\n  allow_major_version_upgrade = true\n  db_subnet_group_name        = aws_db_subnet_group.hashidays.name\n  vpc_security_group_ids      = [aws_security_group.rds.id]\n  parameter_group_name        = aws_db_parameter_group.hashidays.name\n  publicly_accessible         = true\n  skip_final_snapshot         = true\n  backup_retention_period     = 1\n}</code></pre><h2>Pre-written Sentinel policies</h2>\n\n<p><a href=\"https://www.hashicorp.com/sentinel\">Sentinel</a> is a <a href=\"https://developer.hashicorp.com/sentinel/docs/concepts/policy-as-code\">policy as code</a> framework that provides logic-based policy enforcement over infrastructure configurations in Terraform. This approach lets organizations treat policies like application code, meaning the code can be version controlled, audited, tested, and understood by stakeholders across the organization. </p>\n\n<p>While Sentinel can be used as a powerful tool to ensure cloud governance at scale, we understand that adopting policy as code workflows may be a daunting and time-consuming process. This is especially true for organizations that lack the resources and expertise to write policies from scratch. Starting from the ground up can lead to significant delays in the development and implementation of policies, and increase the risk of human error and misconfigurations.</p>\n\n<p>That’s why we are releasing multiple pre-written Sentinel policy sets in collaboration with AWS for use in the <a href=\"https://registry.terraform.io/policies/hashicorp/CIS-Policy-Set-for-AWS-Terraform/1.0.0\">Terraform registry</a>. These policy libraries aim to lower the barrier of adoption by providing a turnkey solution for complex governance challenges and empowering organizations to move faster without trade-offs between speed and security. These new policy sets are co-created and co-owned by HashiCorp and AWS and are written specifically for AWS services in compliance with industry standards including the <a href=\"https://www.cisecurity.org/cis-benchmarks\">Center for Internet Security (CIS)</a> and <a href=\"https://docs.aws.amazon.com/securityhub/latest/userguide/fsbp-standard.html\">Amazon Foundational Best Security Practices (FSBP)</a>.</p>\n<h2>Private VCS access</h2>\n\n<p>Large organizations face greater data security risks and therefore require stricter security controls when using SaaS or managed services. As a result, some prefer to keep Terraform operations — such as VCS management—off the public internet. Without this option, organizations are often forced to choose between accepting a weaker security posture or managing Terraform themselves.</p>\n\n<p>Private VCS access, now available in <a href=\"https://www.google.com/url?q=https://www.hashicorp.com/ko/blog/announcing-hcp-terraform-premium-infrastructure-lifecycle-management-at-scale&amp;sa=D&amp;source=docs&amp;ust=1748448379874979&amp;usg=AOvVaw3vRGKozsCSd_kHKEwraXIr\">HCP Terraform Premium</a>, addresses this concern by using egress-only connections to HCP Terraform, ensuring that the on-premises agent is not accessible from the internet. This reduces the potential attack surface and enhances an organization’s security posture.</p>\n\n<h2>Module lifecycle management - revocation</h2>\n\n<p>Modules accelerate infrastructure provisioning by eliminating the need to start from scratch. They are often developed, shared, and consumed across multiple teams. The HCP Terraform <a href=\"https://developer.hashicorp.com/terraform/registry/private\">private registry</a> provides a centralized workflow for publishing and discovering modules. However, without a reliable method to revoke outdated modules, organizations risk using obsolete or non-compliant configurations.</p>\n\n<p>For instance, if a module author deletes a module version from the private registry without notifying consumers, affected workspaces may fail and require manual updates to restore functionality.</p>\n\n<p>Module lifecycle management features in HCP Terraform reduce the overhead of module management while mitigating security and compliance risks. The latest module lifecycle management feature — <a href=\"https://www.hashicorp.com/en/blog/announcing-hcp-terraform-premium-infrastructure-lifecycle-management-at-scale#module-lifecycle-management-revocation\">revocation</a> — is now available in HCP Terraform Premium to help ensure that only compliant, up-to-date versions of modules are in use. </p>\n\n<p>In HCP Terraform, <em>deprecated</em> modules will surface a warning to users, but the run will continue, allowing teams to address the issue without disruption. Revocation takes this one step further and blocks runs that contain <em>revoked</em> modules. This allows organizations to prevent users from provisioning resources with outdated or vulnerable module versions while including a custom message to provide guidance, increasing developer velocity while decreasing the security and compliance risks.</p>\n<h2>HCP Waypoint actions</h2>\n\n<p>Introduced in public beta at HashiDays London last year, HCP Waypoint actions is now generally available as a part of HCP Terraform Premium. Actions let platform teams package Day 2+ operations — such as restarts, rollbacks, build promotions, feature-flag toggles — into golden workflows that developers trigger safely from the HCP UI, CLI, or API. By binding these actions to Waypoint templates, every application inherits the same “click-to-operate” guardrails, replacing tribal scripts and ticket queues with standardized, self-service tasks. </p>\n\n<p>GA status for HCP Waypoint actions brings production SLAs, HCP API parity, and the confidence to codify Day 0 to Day 2+ automation on your existing Terraform foundation — eliminating bottlenecks, shrinking ticket volume, and accelerating incident response without sacrificing governance. In short, developers move faster while platform teams stay firmly in control, delivering on the promise of an internal developer platform that doesn’t stop at deployment. Read more in our <a href=\"https://www.hashicorp.com/blog/hcp-waypoint-actions-is-now-ga\">HCP Waypoint actions GA release blog</a>.</p>\n<h2>Nomad dynamic host volumes</h2>\n\n<p>HashiCorp Nomad <a href=\"https://www.hashicorp.com/en/blog/nomad-1-10-adds-dynamic-host-volumes-extended-oidc-support-and-more\">1.10</a> adds <a href=\"https://developer.hashicorp.com/nomad/tutorials/stateful-workloads/stateful-workloads-host-volumes\">dynamic host volumes</a>, which significantly enhance storage management by enabling on-demand creation of volumes directly via the API or CLI, eliminating the need for pre-configuration in agent files or client restarts. This functionality adds agility and self-service capabilities for operators, allowing them to provision storage with custom specifications (like capacity and capabilities) precisely when and where they are needed. The result is a simplified, more flexible workflow for deploying stateful applications, reducing administrative overhead and enabling dynamic resource allocation. Additionally, with Nomad Enterprise, governance features further strengthen this capability, allowing operators to use Sentinel policies to enforce specific rules on a volume's specification, such as mandating precise parameters or restricting storage tiers based on environment or namespace.</p>\n\n<h2>Get started</h2>\n\n<p>From securing infrastructure before deployment to streamlining Day 2+ operations at scale, these new HashiDays announcements reflect our continued commitment to simplifying Infrastructure Lifecycle Management and helping organizations do cloud right at scale.</p>\n\n<p>You can try many of these new features now. If you are new to our ILM products, sign up for an <a href=\"https://portal.cloud.hashicorp.com/sign-up\">HCP account</a> to get started today, and also check out our <a href=\"https://developer.hashicorp.com/nomad/tutorials/cluster-setup\">tutorials</a>. HCP Terraform <a href=\"https://app.terraform.io/public/signup/account\">includes</a> a $500 credit that allows users to quickly get started and experience all features included in all plans, including HCP Terraform Premium. <a href=\"https://www.hashicorp.com/contact-sales\">Contact our sales team</a> if you’re interested in trying our <a href=\"https://developer.hashicorp.com/terraform/enterprise\">self-managed offerings of Terraform</a> and <a href=\"https://developer.hashicorp.com/nomad/docs/enterprise\">Nomad</a>.</p>\n","author":"Kyle Ruddy","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"d3dd095bad3d6b07a18eab1df608adee3b1b37349a092fd986fe948a2efc57e4","category":"Tech"}