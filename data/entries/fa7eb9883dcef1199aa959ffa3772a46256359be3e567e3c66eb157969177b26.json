{"title":"WD เปิดตัวเทคโนโลยีฮาร์ดดิสก์แบบใหม่ OptiNAND ฝังแฟลชช่วยเพิ่มความจุ-เสถียรภาพ","link":"https://www.blognone.com/node/124543","date":1630507374000,"content":"<div><div><div><p>Western Digital เปิดตัวเทคโนโลยีฮาร์ดดิสก์แบบใหม่ชื่อ OptiNAND ที่เป็นลูกผสมระหว่างฮาร์ดดิสก์จานหมุนแบบดั้งเดิม และสตอเรจแบบแฟลชในไดรฟ์เดียวกัน</p>\n<p>แนวคิดการนำแฟลชมารวมกับฮาร์ดดิสก์จานหมุน (เป็นไดรฟ์แบบไฮบริด) เป็นสิ่งที่มีมานานแล้ว แต่ที่ผ่านมายังเน้นการใช้แฟลชมาคั่นกลางก่อนหน้าดิสก์ เพื่อเก็บข้อมูลที่เรียกใช้บ่อย (hot storage) ส่วนฮาร์ดดิสก์ใช้เก็บข้อมูลที่ถูกเรียกไม่ถี่เท่า (warm storage) อย่างไรก็ตาม ในทางปฏิบัติ การคาดเดาว่าข้อมูลไหนเป็น hot/warm ก็ไม่ใช่เรื่องง่ายนัก</p>\n<p>Western Digital บอกว่าลองผิดลองถูกเรื่องนี้มาตั้งแต่ปี 2015 จนกระทั่ง<a href=\"https://www.blognone.com/node/80835\">ซื้อกิจการ SanDisk ในปี 2016</a> ทำให้มีความเชี่ยวชาญในสตอเรจทั้งแบบดิสก์และแฟลช เมื่อทีมวิจัยจากทั้งสองฝั่งเริ่มทำงานร่วมกัน จึงเห็นแนวทางของการนำแฟลชมาใช้งานร่วมกับฮาร์ดดิสก์ที่เกิดประโยชน์จริงๆ สุดท้ายออกมาเป็น OptiNAND ที่เปิดตัวล่าสุด</p>\n<p>OptiNAND เป็นการนำแฟลชไดรฟ์แบบ universal flash storage (UFS) มาฝังไว้ในฮาร์ดดิสก์ แต่ต่างจากการฝังแฟลชแบบเดิมๆ ตรงที่ปรับอัลกอริทึมของเฟิร์มแวร์ และชิป SoC ที่ใช้ในฮาร์ดดิสก์ เพื่อนำแฟลชมาใช้ประโยชน์เพิ่มอีก 2 ด้าน</p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/54d36dcf6ebd2cdc21d4d7dea2b9db98.jpg\" /></p>\n<h3>เพิ่มความจุ</h3>\n<p>ฮาร์ดดิสก์ในยุคหลังมีความหนาแน่นของแทร็คเพิ่มขึ้นมาก จึงมีโอกาสที่จะเกิดการรบกวนระหว่างแทร็ค (magnetic interference หรือ adjacent track interference) สูงขึ้น ฮาร์ดดิสก์ยุคใหม่จึงต้องเก็บค่า metadata ของข้อมูลต่างๆ เช่น จำนวนครั้งที่เซ็กเตอร์เคยถูกกวน จำนวนครั้งที่ถูกเขียนทับ ตำแหน่งล่าสุดของหัวอ่าน ฯลฯ เอาไว้ใน DRAM ของไดรฟ์</p>\n<p>อย่างไรก็ตาม เมื่อ DRAM มีขนาดจำกัด (เพราะราคาแพง) และขนาดของ metadata ใหญ่ขึ้นเรื่อยๆ จนเริ่มเก็บลง DRAM ไม่พอ จนต้องเริ่มไปเก็บลงในพื้นที่ดิสก์เองโดยตรง ส่งผลกระทบต่อทั้งความจุ (เพราะต้องกันที่บนดิสก์ไปเก็บ metadata) และประสิทธิภาพในการเขียน-อ่าน metadata</p>\n<p>ทางออกของปัญหานี้จึงเป็นการนำสตอเรจแฟลชมาใช้เก็บ metadata แทน เพราะเป็นสตอเรจที่อยู่ตรงกลางระหว่าง DRAM และดิสก์ ทั้งในแง่ประสิทธิภาพและต้นทุน ข้อดีที่เห็นได้ชัดคือประหยัดเนื้อที่ของดิสก์ และลดความจำเป็นของการใช้ DRAM ขนาดที่ใหญ่ขึ้น</p>\n<p>Western Digital บอกว่าการเพิ่มแฟลชเข้ามา และปรับสถาปัตยกรรมเป็นแบบ OptiNAND ช่วยเพิ่มความจุต่อจานเป็น 2.2TB ต่อแผ่น (platter) และขยายความจุของทั้งไดรฟ์ (ใช้ 9 จาน) เป็น 20TB</p>\n<p><img src=\"https://www.blognone.com/sites/default/files/externals/c1a3b50b92d1a903fc4c6d1fc8ae2239.jpg\" /></p>\n<h3>เพิ่มประสิทธิภาพ-เสถียรภาพ</h3>\n<p>นอกจากเรื่องการขยายความจุของดิสก์แล้ว สตอเรจแฟลชยังเข้ามาช่วยแก้ปัญหาเสถียรภาพ (reliability) กรณีแหล่งพลังงานหายไปกะทันหัน (emergency power off - EPO)</p>\n<p>ปกติแล้ว ฮาร์ดดิสก์มีโหมดการเขียนข้อมูล 2 แบบคือ write-cache enabled (WCE) โปรแกรมสั่งเขียนข้อมูล แต่สนใจแค่ฮาร์ดไดรฟ์รับข้อมูลไปเข้าคิวเขียน ไม่ต้องเช็คว่าเขียนลงดิสก์แล้วจริงๆ วิธีนี้ให้ประสิทธิภาพของการเขียนข้อมูลดีกว่า แต่มีความเสี่ยงว่าหากไฟดับตอนที่ยังไม่ทันเขียนลงดิสก์ ข้อมูลอาจหายได้</p>\n<p>อีกโหมดคือ write-cache disabled (WCD) ที่กลับด้านกันคือ ไดรฟ์ต้องตอบยืนยันว่าเขียนลงดิสก์แล้วจริงๆ มั่นใจได้ว่าข้อมูลไม่หาย แต่ประสิทธิภาพย่อมน้อยกว่าแบบ WCE</p>\n<p>สตอเรจแบบแฟลชเข้ามาแก้ปัญหาตรงนี้ให้ เพราะเมื่อไฟดับ ไดรฟ์จะสั่ง flush ข้อมูลที่ค้างคิวอยู่ลงในแฟลชแทนดิสก์ (โดยใช้พลังงานจากแรงเหวี่ยงของจานหมุนดิสก์ที่หมุนอยู่แล้ว) ทำให้การันตีได้ว่าข้อมูลที่ค้างอยู่จะไม่สูญหาย (เหมือน WCD) โดยยังคงประสิทธิภาพในระดับ WCE อยู่</p>\n<p>เทคโนโลยี OptiNAND จะเริ่มนำมาใช้กับสินค้าที่วางขายจริงภายในปี 2021 นี้ ทาง Western Digital ยังให้ข้อมูลคร่าวๆ ว่า<a href=\"https://www.blognone.com/node/83127\">ชิป NAND ผลิตโดยโรงงานที่ร่วมลงทุนกับ Kioxia (Toshiba เดิม)</a>, รองรับสเปกคอนโทรลเลอร์ของสตอเรจหลายแบบ ตั้งแต่ eMMC 5.1 ไปจนถึง UFS 3.1, รองรับชิป NAND ทั้งแบบ Single Level และ Triple Level แต่ยังไม่บอกว่าแฟลชที่ใช้จริงมีความจุเท่าไรบ้าง</p>\n<p>ที่มา - <a href=\"https://www.westerndigital.com/company/newsroom/press-releases/2021/2021-08-31-western-digital-reimagines-the-hard-drive\">Western Digital (1)</a>, <a href=\"https://blog.westerndigital.com/optinand/\">(2)</a>, <a href=\"https://documents.westerndigital.com/content/dam/doc-library/en_us/assets/public/western-digital/collateral/tech-brief/tech-brief-reimagining-hdds-with-optinand-technology.pdf\">(3)</a></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/western-digital\">Western Digital</a></div><div><a href=\"/topics/storage\">Storage</a></div><div><a href=\"/topics/harddisk\">Harddisk</a></div></div></div>","author":"mk","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"fa7eb9883dcef1199aa959ffa3772a46256359be3e567e3c66eb157969177b26","category":"Thai"}