{"title":"Build RAG and agent-based generative AI applications with new Amazon Titan Text Premier model, available in Amazon Bedrock","link":"https://aws.amazon.com/blogs/aws/build-rag-and-agent-based-generative-ai-applications-with-new-amazon-titan-text-premier-model-available-in-amazon-bedrock/","date":1715109728000,"content":"<p>Today, we’re happy to welcome a new member of the <a href=\"https://aws.amazon.com/bedrock/titan/\">Amazon Titan</a> family of models: Amazon Titan Text Premier, now available in <a href=\"https://aws.amazon.com/bedrock\">Amazon Bedrock</a>.</p> \n<p>Following Amazon Titan Text Lite and Titan Text Express, <a href=\"https://aws.amazon.com/bedrock/titan/\">Titan Text Premier</a> is the latest <a href=\"https://aws.amazon.com/what-is/large-language-model/\">large language model (LLM)</a> in the Amazon Titan family of models, further increasing your model choice within Amazon Bedrock. You can now choose between the following Titan Text models in Bedrock:</p> \n<ul> \n <li><strong> Titan Text Premier</strong> is the most advanced Titan LLM for text-based enterprise applications. With a maximum context length of 32K tokens, it has been specifically optimized for enterprise use cases, such as building <a href=\"https://aws.amazon.com/what-is/retrieval-augmented-generation/\">Retrieval Augmented Generation (RAG)</a> and agent-based applications with <a href=\"https://aws.amazon.com/bedrock/knowledge-bases/\">Knowledge Bases</a> and <a href=\"https://aws.amazon.com/bedrock/agents/\">Agents for Amazon Bedrock</a>. As with all Titan LLMs, Titan Text Premier has been pre-trained on multilingual text data but is best suited for English-language tasks. You can further <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/fine-tuning.html\">custom fine-tune</a> (preview) Titan Text Premier with your own data in Amazon Bedrock to build applications that are specific to your domain, organization, brand style, and use case. I’ll dive deeper into model highlights and performance in the following sections of this post.</li> \n <li><strong>Titan Text Express</strong> is ideal for a wide range of tasks, such as open-ended text generation and conversational chat. The model has a maximum context length of 8K tokens.</li> \n <li><strong>Titan Text Lite</strong> is optimized for speed, is highly customizable, and is ideal to be fine-tuned for tasks such as article summarization and copywriting. The model has a maximum context length of 4K tokens.</li> \n</ul> \n<p>Now, let’s discuss Titan Text Premier in more detail.</p> \n<p><strong><u>Amazon Titan Text Premier model highlights</u></strong><br /> Titan Text Premier has been optimized for high-quality RAG and agent-based applications and customization through fine-tuning while incorporating responsible artificial intelligence (AI) practices.</p> \n<p><strong>Optimized for RAG and agent-based applications –</strong> Titan Text Premier has been specifically optimized for RAG and agent-based applications in response to customer feedback, where respondents named RAG as one of their key components in building <a href=\"https://aws.amazon.com/ai/generative-ai/\">generative AI</a> applications. The model training data includes examples for tasks like summarization, Q&amp;A, and conversational chat and has been optimized for integration with Knowledge Bases and Agents for Amazon Bedrock. The optimization includes training the model to handle the nuances of these features, such as their specific prompt formats.</p> \n<ul> \n <li><strong>High-quality RAG through integration with Knowledge Bases for Amazon Bedrock –</strong> With a knowledge base, you can securely connect <a href=\"https://aws.amazon.com/what-is/foundation-models/\">foundation models (FMs)</a> in Amazon Bedrock to your company data for RAG. You can now choose Titan Text Premier with Knowledge Bases to implement question-answering and summarization tasks over your company’s proprietary data.<br /> <a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/23/2024-ttp-6.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/23/2024-ttp-6.png\" alt=\"Amazon Titan Text Premier support in Knowledge Bases\" width=\"1291\" height=\"841\" /></a></li> \n <li><strong>Automating tasks through integration with Agents for Amazon Bedrock – </strong>You can also create custom agents that can perform multistep tasks across different company systems and data sources using Titan Text Premier with Agents for Amazon Bedrock. Using agents, you can automate tasks for your internal or external customers, such as managing retail orders or processing insurance claims.<br /> <a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/06/2024-ttp-11.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/06/2024-ttp-11.png\" alt=\"Amazon Titan Text Premier with Agents for Amazon Bedrock\" width=\"1538\" height=\"977\" /></a></li> \n</ul> \n<p>We already see customers exploring Titan Text Premier to implement interactive AI assistants that create summaries from unstructured data such as emails. They’re also exploring the model to extract relevant information across company systems and data sources to create more meaningful product summaries.</p> \n<p>Here’s a demo video created by my colleague <a href=\"https://www.linkedin.com/in/brookejamieson/\">Brooke Jamieson</a> that shows an example of how you can put Titan Text Premier to work for your business.</p> \n<p></p> \n<p><strong>Custom fine-tuning of Amazon Titan Text Premier (preview) –</strong> You can fine-tune Titan Text Premier with your own data in Amazon Bedrock to increase model accuracy by providing your own task-specific labeled training dataset. Customizing Titan Text Premier helps to further specialize your model and create unique user experiences that reflect your company’s brand, style, voice, and services.</p> \n<p><strong>Built responsibly</strong> – Amazon Titan Text Premier incorporates safe, secure, and trustworthy practices. The <a href=\"https://aws.amazon.com/machine-learning/responsible-machine-learning/titan-text-premier/\">AWS AI Service Card for Amazon Titan Text Premier</a> documents the model’s performance across key <a href=\"https://aws.amazon.com/machine-learning/responsible-ai/\">responsible AI</a> benchmarks from safety and fairness to veracity and robustness. The model also integrates with <a href=\"https://aws.amazon.com/bedrock/guardrails/\">Guardrails for Amazon Bedrock</a> so you can implement additional safeguards customized to your application requirements and responsible AI policies. <a href=\"https://aws.amazon.com/blogs/machine-learning/announcing-new-tools-and-capabilities-to-enable-responsible-ai-innovation/\">Amazon indemnifies customers</a> who responsibly use Amazon Titan models against claims that generally available Amazon Titan models or their outputs infringe on third-party copyrights.</p> \n<p><strong><u>Amazon Titan Text Premier model performance<br /> </u></strong>Titan Text Premier has been built to deliver broad intelligence and utility relevant for enterprises. The following table shows evaluation results on public benchmarks that assess critical capabilities, such as instruction following, reading comprehension, and multistep reasoning against price-comparable models. The strong performance across these diverse and challenging benchmarks highlights that Titan Text Premier is built to handle a wide range of use cases in enterprise applications, offering great price performance. For all benchmarks listed below, a higher score is a better score.</p> \n<table> \n <tbody> \n  <tr> \n   <th>Capability</th> \n   <th>Benchmark</th> \n   <th>Description</th> \n   <th>Amazon</th> \n   <th>Google</th> \n   <th>OpenAI</th> \n  </tr> \n  <tr> \n   <th><strong>Titan Text Premier</strong></th> \n   <th><strong>Gemini Pro 1.0</strong></th> \n   <th><strong>GPT-3.5</strong></th> \n  </tr> \n  <tr> \n   <td><strong>General</strong></td> \n   <td>MMLU<br /> (<a href=\"https://arxiv.org/pdf/2009.03300\">Paper</a>)</td> \n   <td>Representation of questions in 57 subjects</td> \n   <td>70.4%<br /> (5-shot)</td> \n   <td><a href=\"https://arxiv.org/pdf/2312.11805\">71.8%</a><br /> (5-shot)</td> \n   <td><a href=\"https://arxiv.org/pdf/2303.08774\">70.0%</a><br /> (5-shot)</td> \n  </tr> \n  <tr> \n   <td><strong>Instruction following</strong></td> \n   <td>IFEval<br /> (<a href=\"https://arxiv.org/pdf/2311.07911\">Paper</a>)</td> \n   <td>Instruction-following evaluation for large language models</td> \n   <td>64.6%<br /> (0-shot)</td> \n   <td>not published</td> \n   <td>not published</td> \n  </tr> \n  <tr> \n   <td><strong>Reading comprehension</strong></td> \n   <td>RACE-H<br /> (<a href=\"https://arxiv.org/pdf/1704.04683\">Paper</a>)</td> \n   <td>Large-scale reading comprehension</td> \n   <td>89.7%<br /> (5-shot)</td> \n   <td>not published</td> \n   <td>not published</td> \n  </tr> \n  <tr> \n   <td><strong>Reasoning</strong></td> \n   <td>HellaSwag<br /> (<a href=\"https://arxiv.org/pdf/1905.07830\">Paper</a>)</td> \n   <td>Common-sense reasoning</td> \n   <td>92.6%<br /> (10-shot)</td> \n   <td><a href=\"https://arxiv.org/pdf/2312.11805\">84.7%</a><br /> (10-shot)</td> \n   <td><a href=\"https://arxiv.org/pdf/2303.08774\">85.5%</a><br /> (10-shot)</td> \n  </tr> \n  <tr> \n   <td>DROP, F1 score<br /> (<a href=\"https://arxiv.org/pdf/1903.00161\">Paper</a>)</td> \n   <td>Reasoning over text</td> \n   <td>77.9<br /> (3-shot)</td> \n   <td><a href=\"https://arxiv.org/pdf/2312.11805\">74.1</a><br /> (Variable Shots)</td> \n   <td><a href=\"https://arxiv.org/pdf/2303.08774\">64.1</a><br /> (3-shot)</td> \n  </tr> \n  <tr> \n   <td>BIG-Bench Hard<br /> (<a href=\"https://arxiv.org/pdf/2210.09261\">Paper</a>)</td> \n   <td>Challenging tasks requiring multistep reasoning</td> \n   <td>73.7%<br /> (3-shot CoT)</td> \n   <td><a href=\"https://arxiv.org/pdf/2312.11805\">75.0%</a><br /> (3-shot CoT)</td> \n   <td>not published</td> \n  </tr> \n  <tr> \n   <td>ARC-Challenge<br /> (<a href=\"https://arxiv.org/pdf/1803.05457\">Paper</a>)</td> \n   <td>Common-sense reasoning</td> \n   <td>85.8%<br /> (5-shot)</td> \n   <td>not published</td> \n   <td><a href=\"https://arxiv.org/pdf/2303.08774\">85.2%</a><br /> (25-shot)</td> \n  </tr> \n </tbody> \n</table> \n<p>Note: Benchmarks evaluate model performance using a variation of few-shot and zero-shot prompting. With few-shot prompting, you provide the model with a number of concrete examples (three for 3-shot, five for 5-shot, etc.) of how to solve a specific task. This demonstrates the model’s ability to learn from example, called in-context learning. With zero-shot prompting on the other hand, you evaluate a model’s ability to perform tasks by relying only on its preexisting knowledge and general language understanding without providing any examples.</p> \n<p><strong><u>Get started with Amazon Titan Text Premier<br /> </u></strong>To enable access to Amazon Titan Text Premier, navigate to the <a href=\"https://console.aws.amazon.com/bedrock/\">Amazon Bedrock console</a> and choose <strong>Model access</strong> on the bottom left pane. On the <strong>Model access</strong> overview page, choose the <strong>Manage model access</strong> button in the upper right corner and enable access to Amazon Titan Text Premier.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/06/2024-ttp-12.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/05/06/2024-ttp-12.png\" alt=\"Select Amazon Titan Text Premier in Amazon Bedrock model access page\" width=\"1489\" height=\"1086\" /></a></p> \n<p>To use Amazon Titan Text Premier in the Bedrock console, choose <strong>Text</strong> or <strong>Chat</strong> under <strong>Playgrounds</strong> in the left menu pane. Then choose <strong>Select model</strong> and select <strong>Amazon</strong> as the category and <strong>Titan Text Premier</strong> as the model. To explore the model, you can <strong>load examples</strong>. The following screenshot shows one of those examples that demonstrates the model’s chain of thought (CoT) and reasoning capabilities.</p> \n<p><a href=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/23/2024-ttp-7.png\"><img loading=\"lazy\" src=\"https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2024/04/23/2024-ttp-7.png\" alt=\"Amazon Titan Text Premier in the Amazon Bedrock chat playground\" width=\"1383\" height=\"908\" /></a></p> \n<p>By choosing <strong>View API request</strong>, you can get a code example of how to invoke the model using the <a href=\"https://aws.amazon.com/cli/\">AWS Command Line Interface (AWS CLI)</a> with the current example prompt. You can also access Amazon Bedrock and available models using the <a href=\"https://aws.amazon.com/developer/tools/\">AWS SDKs</a>. In the following example, I will use the <a href=\"https://aws.amazon.com/sdk-for-python/\">AWS SDK for Python (Boto3)</a>.</p> \n<p><strong><u>Amazon Titan Text Premier in action<br /> </u></strong>For this demo, I ask Amazon Titan Text Premier to summarize <a href=\"https://aws.amazon.com/blogs/aws/amazon-titan-image-generator-and-watermark-detection-api-are-now-available-in-amazon-bedrock/\">one of my previous AWS News Blog posts</a> that announced the availability of Amazon Titan Image Generator and the watermark detection feature.</p> \n<p>For summarization tasks, a recommended prompt template looks like this:</p> \n<pre><code>The following is text from a {{Text Category}}:\n{{Text}}\nSummarize the {{Text Category}} in {{length of summary}}</code></pre> \n<p>For more prompting best practices, check out the <a href=\"https://d2eo22ngex1n9g.cloudfront.net/Documentation/User+Guides/Titan/Amazon+Titan+Text+Prompt+Engineering+Guidelines.pdf\">Amazon Titan Text Prompt Engineering Guidelines</a>.</p> \n<p>I adapt this template to my example and define the prompt. In preparation, I saved my News Blog post as a text file and read it into the <code>post</code> string variable.</p> \n<pre><code>prompt = \"\"\"\nThe following is text from a AWS News Blog post:\n\n&lt;text&gt;\n%s\n&lt;/text&gt;\n\nSummarize the above AWS News Blog post in a short paragraph.\n\"\"\" % post</code></pre> \n<p>Similar to previous Amazon Titan Text models, Amazon Titan Text Premier supports <code>temperature</code> and <code>topP</code> inference parameters to control the randomness and diversity of the response, as well as <code>maxTokenCount</code> and <code>stopSequences</code> to control the length of the response.</p> \n<pre><code>import boto3\nimport json\n\nbedrock_runtime = boto3.client(service_name=\"bedrock-runtime\")\n\nbody = json.dumps({\n    \"inputText\": prompt, \n    \"textGenerationConfig\":{  \n        \"maxTokenCount\":256,\n        \"stopSequences\":[],\n        \"temperature\":0,\n        \"topP\":0.9\n    }\n})</code></pre> \n<p>Then, I use the <code>InvokeModel</code> API to send the inference request.</p> \n<pre><code>response = bedrock_runtime.invoke_model(\n    body=body,\n\tmodelId=\"amazon.titan-text-premier-v1:0\",\n    accept=\"application/json\", \n    contentType=\"application/json\"\n)\n\nresponse_body = json.loads(response.get('body').read())\nprint(response_body.get('results')[0].get('outputText'))</code></pre> \n<p>And here’s the response:</p> \n<blockquote>\n <p>Amazon Titan Image Generator is now generally available in Amazon Bedrock, giving you an easy way to build and scale generative AI applications with new image generation and image editing capabilities, including instant customization of images. Watermark detection for Titan Image Generator is now generally available in the Amazon Bedrock console. Today, we’re also introducing a new DetectGeneratedContent API (preview) in Amazon Bedrock that checks for the existence of this watermark and helps you confirm whether an image was generated by Titan Image Generator.</p>\n</blockquote> \n<p>For more examples in different programming languages, check out the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/service_code_examples.html\">code examples section in the Amazon Bedrock User Guide</a>.</p> \n<p><strong><u>More resources<br /> </u></strong>Here are some additional resources that you might find helpful:</p> \n<p><strong>Intended use cases and more</strong> — Check out the AWS AI Service Card for Amazon Titan Text Premier to learn more about the models’ intended use cases, design, and deployment, as well as performance optimization best practices.</p> \n<p><strong>AWS Generative AI CDK Constructs</strong> — Amazon Titan Text Premier is supported by the <a href=\"https://github.com/awslabs/generative-ai-cdk-constructs\">AWS Generative AI CDK Constructs</a>, an open source extension of the <a href=\"https://aws.amazon.com/cdk/\">AWS Cloud Development Kit (AWS CDK)</a>, providing sample implementations of AWS CDK for common generative AI patterns.</p> \n<p><strong>Amazon Titan models —</strong> If you’re curious to learn more about Amazon Titan models in general, check out the following video. <a href=\"https://www.linkedin.com/in/sherry-marcus-ph-d-4a4110/\">Dr. Sherry Marcus</a>, Director of Applied Science for Amazon Bedrock, shares how the Amazon Titan family of models incorporates the 25 years of experience Amazon has innovating with AI and machine learning (ML) across its business.</p> \n<p></p> \n<p><strong><u>Now available<br /> </u></strong>Amazon Titan Text Premier is available today in the AWS US East (N. Virginia) Region. Custom fine-tuning for Amazon Titan Text Premier is available today in preview in the AWS US East (N. Virginia) Region. Check the <a href=\"https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html\">full Region list</a> for future updates. To learn more about the Amazon Titan family of models, visit the <a href=\"https://aws.amazon.com/bedrock/titan/\">Amazon Titan product page</a>. For pricing details, review the <a href=\"https://aws.amazon.com/bedrock/pricing/\">Amazon Bedrock pricing page</a>.</p> \n<p>Give Amazon Titan Text Premier a try in the <a href=\"https://console.aws.amazon.com/bedrock\">Amazon Bedrock console</a> today, send feedback to <a href=\"https://repost.aws/tags/TAQeKlaPaNRQ2tWB6P7KrMag/amazon-bedrock\">AWS re:Post for Amazon Bedrock</a> or through your usual AWS contacts, and engage with the generative AI builder community at <a href=\"https://community.aws/generative-ai?trk=e8665609-785f-4bbe-86e8-750a3d3e9e61&amp;sc_channel=el\">community.aws</a>.</p> \n<p>— <a href=\"https://www.linkedin.com/in/antje-barth/\" target=\"_blank\">Antje</a></p>","author":"Antje Barth","siteTitle":"AWS News Blog","siteHash":"6093e072e4117ec22616e844cb857d03ca62c57a411a8affc77cb5e8b6b15bf6","entryHash":"d68ba62d750bf5043fe2c8938e923a45edb730bcb6781fa12cb072e3d796089b","category":"Tech"}