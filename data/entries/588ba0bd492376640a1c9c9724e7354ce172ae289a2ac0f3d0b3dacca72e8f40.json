{"title":"ลองเอา code มาปรับปรุงนิดหน่อย","link":"https://www.somkiat.cc/fun-with-improve-code/","date":1734273940000,"content":"<p><img width=\"150\" height=\"150\" src=\"https://www.somkiat.cc/wp-content/uploads/2024/12/Screenshot-2567-12-15-at-21.09.04-150x150.png\" alt=\"\" loading=\"lazy\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2024/12/Screenshot-2567-12-15-at-21.09.04-150x150.png 150w, https://www.somkiat.cc/wp-content/uploads/2024/12/Screenshot-2567-12-15-at-21.09.04-75x75.png 75w\" /></p>\n<figure><a href=\"https://www.somkiat.cc/wp-content/uploads/2024/12/Screenshot-2567-12-15-at-21.09.04.png\"><img src=\"https://www.somkiat.cc/wp-content/uploads/2024/12/Screenshot-2567-12-15-at-21.09.04.png\" alt=\"\" width=\"524\" height=\"462\" /></a></figure>\n\n\n\n<p>จากการเปรียบเทียบ <a href=\"https://www.facebook.com/groups/ThaiPGAssociateSociety/posts/2742978115913440\" target=\"_blank\">performance ของภาษาโปรแกรมต่าง ๆ ในสมาคม programmer</a><br />ด้วย Prime number ซึ่งใช้งาน algorithm ที่ชื่อว่า The sieve of Eratosthenes<br />ก็เลยลองไปดู code นิดหน่อย<br />เนื่องด้วยไม่ค่อยได้เขียนภาษาต่าง ๆ มากนัก<br />เลยหยิบมาพวกภาษา Go และ Java มาดูหน่อย ว่าเขียนอย่างไร ?</p>\n\n\n\n<span></span>\n\n\n\n<p><strong>เริ่มด้วยภาษา Go พบว่าทำงานช้า เช่น</strong></p>\n\n\n\n<ul>\n<li>การ allocate slide ซึ่งไม่ทำการ preallocate ทำให้ช้า</li>\n\n\n\n<li>ตามธรรมาชาติของ go สามารถทำพวก go routine และ go channel ได้</li>\n\n\n\n<li>มีการเขียน file  สำหรับการบันทึกผล </li>\n</ul>\n\n\n\n<p>ดังนั้นลองเปลี่ยน code นิดหน่อย ทำเพียงเอาการบันทึกผลลงไฟล์ออกไป ได้ประมาณนี้</p>\n\n\n\n[gist id=\"dfd4dd67b60d58c4d135837920eb928a\" file=\"1.txt\"]\n\n\n\n<p><strong>ส่วน Java นั้นที่ผลการทำงานเร็วมาก ก็เลยเอาส่วนของบันทึกผลออกไป</strong><br />กับเปลี่ยนการ initial ข้อมูลใน array ของ boolean ให้เป็น true ทั้งหมดนิดหน่อย<br />ได้ผลการทำงานดังนี้</p>\n\n\n\n[gist id=\"dfd4dd67b60d58c4d135837920eb928a\" file=\"2.txt\"]\n\n\n\n<p><strong>ในส่วนของ C# ก็เอาส่วนบันทึกผลลงไฟล์ไปเช่นกัน</strong><br />กับเปลี่ยนการ initial ข้อมูลใน array ของ boolean ให้เป็น true ทั้งหมดนิดหน่อย<br />ได้ผลการทำงานดังนี้</p>\n\n\n\n[gist id=\"dfd4dd67b60d58c4d135837920eb928a\" file=\"3.txt\"]\n\n\n\n<p>ต้องดูว่า เราจะเอาการบันทึกผลลงไฟล์มาวัดกันหรือเปล่า เท่านั้นเอง<br />ว่าง ๆ เลยลองปรับปรุง code ดูนิดหน่อย สนุกดีนะครับ</p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"588ba0bd492376640a1c9c9724e7354ce172ae289a2ac0f3d0b3dacca72e8f40","category":"Thai"}