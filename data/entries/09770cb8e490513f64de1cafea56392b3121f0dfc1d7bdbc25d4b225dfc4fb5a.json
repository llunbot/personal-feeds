{"title":"ไมโครซอฟท์เล่าเบื้องหลังเครื่องที่ใช้เทรน ChatGPT ใช้จีพียู A100 เป็นหลักหมื่นตัว","link":"https://www.blognone.com/node/133067","date":1679105059000,"content":"<div><div><div><p>ไมโครซอฟท์เล่าเบื้องหลังการสร้างซูเปอร์คอมพิวเตอร์ขนาดใหญ่บน Azure เพื่อให้บริการ OpenAI เทรนโมเดล AI ขนาดใหญ่จนกลายมาเป็น ChatGPT แบบที่เราเห็นกันทุกวันนี้</p>\n<p>จุดเริ่มต้นของเรื่องนี้มาจาก<a href=\"https://www.blognone.com/node/110967\">ข้อตกลงระหว่างไมโครซอฟท์กับ OpenAI ในปี 2019</a> ตอนนั้นไมโครซอฟท์มีระบบเซิร์ฟเวอร์สำหรับเทรนโมเดล AI ของตัวเองอยู่แล้ว (เช่น โมเดลที่ใช้ใน Microsoft Translator หรือตัวตรวจสะกดใน Word) แต่ขีดความสามารถนั้นไม่พอกับที่โมเดลขนาดใหญ่มากๆ ของ OpenAI ต้องการใช้งาน ทำให้ไมโครซอฟท์ต้องหาวิธีออกแบบระบบใหม่</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/6a0d5abfa481f9551abb4e1e62435760.jpg\" /></p>\n<p>ระบบเบื้องหลังซูเปอร์คอมพิวเตอร์ตัวนี้ใช้<a href=\"https://www.blognone.com/node/116348\">จีพียู NVIDIA A100</a> จำนวน \"หลายหมื่นตัว\" (tens of thousands) ซึ่งไมโครซอฟท์ประเมินคร่าวๆ ว่าต้นทุนของโครงการอยู่ในหลัก \"หลายร้อยล้านดอลลาร์\" (several hundred million dollars) แต่มีเงินซื้อจีพียูอย่างเดียวก็ไม่พอ ไมโครซอฟท์ต้องหาวิธีต่อเชื่อมจีพียูจำนวนเยอะขนาดนี้ที่กระจายตัวอยู่ตามศูนย์ข้อมูล 60 เขตทั่วโลกเข้าด้วยกัน</p>\n<p>ตัวแกนของเทคโนโลยีเชื่อมต่อความเร็วสูงคือ InfiniBand ของ NVIDIA (<a href=\"https://www.blognone.com/node/108577\">จากการซื้อ Mellanox ในปี 2019</a>) แต่ NVIDIA เองก็ไม่เคยนำจีพียูจำนวนเยอะขนาดนี้มาต่อกัน ทำให้ไม่มีใครรู้ว่าข้อจำกัดของเทคโนโลยีเชื่อมต่อเป็นไปได้แค่ไหน</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/44abb5f7410029e14d22a05060b4f970.jpg\" /></p>\n<p>ไมโครซอฟท์ใช้วิธีแบ่งส่วนงาน (partition) แล้วกระจายไปยังคลัสเตอร์ของจีพียูต่างๆ เป็นชุดๆ โดยมี InfiniBand เป็นตัวเชื่อม แต่ก็ต้องพัฒนาซอฟต์แวร์สำหรับกระจายงานทั้งจีพียูและระบบเครือข่ายเพิ่มอีกมาก (ผ่าน<a href=\"https://www.blognone.com/node/96278\">ซอฟต์แวร์ ONNX Runtime ที่เปิดเป็นโอเพนซอร์ส</a>) ซึ่งใช้เวลาหลายปีที่ผ่านมาทำเรื่องนี้ อีกวิธีที่ใช้คือค่อยๆ ขยายจำนวนจีพียูและเครือข่ายทีละน้อย เพื่อดูว่าระบบโดยรวมรองรับได้แค่ไหน รวมถึงมีเรื่องระบบระบายความร้อน ระบบไฟสำรอง ที่ต้องขยายตัวรองรับด้วย</p>\n<p>เนื่องจากระบบคอมพิวเตอร์เหล่านี้เป็นของ Azure เป้าหมายจึงเป็นการออกแบบเพื่อเปิดให้คนนอกใช้งานด้วย แม้จุดเริ่มต้นเกิดจากการคัสตอมระบบตามความต้องการของลูกค้าเพียงรายเดียว (OpenAI) แต่วิธีการสร้างเครื่องของ Azure คือสร้างโดยมีโจทย์ให้คนทั่วไปใช้งาน (generalized) ซึ่งตอนนี้เครื่องถูกนำมาให้บริการ <a href=\"https://www.blognone.com/node/132268\">Azure OpenAI</a> ที่บุคคลทั่วไปสามารถเช่าเทรนโมเดล</p>\n<p><img alt=\"No Description\" src=\"https://www.blognone.com/sites/default/files/externals/18d11aab95fa8bb8ea1111c951ea8443.jpg\" /></p>\n<p><em>ศูนย์ข้อมูลแห่งหนึ่งของไมโครซอฟท์ที่รัฐวอชิงตัน ที่ให้บริการ OpenAI Service</em></p>\n<p>ตอนนี้<a href=\"https://www.blognone.com/node/131540\">ไมโครซอฟท์กำลังสร้างเครื่องซูเปอร์คอมพิวเตอร์ใหม่ที่ใช้จีพียู NVIDIA H100 รุ่นใหม่</a> ซึ่งจะใช้เทรนโมเดลตัวใหม่ๆ ที่ใหญ่กว่าเดิมขึ้นไปอีก และตอนนี้<a href=\"https://www.blognone.com/node/133058\">เริ่มเปิดให้คนนอกเช่าเครื่อง H100 ใช้งานแล้ว</a></p>\n<p>ที่มา - <a href=\"https://news.microsoft.com/source/features/ai/how-microsofts-bet-on-azure-unlocked-an-ai-revolution/\">Microsoft</a>, <a href=\"https://www.bloomberg.com/news/articles/2023-03-13/microsoft-built-an-expensive-supercomputer-to-power-openai-s-chatgpt\">Bloomberg</a></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/microsoft-azure\">Microsoft Azure</a></div><div><a href=\"/topics/cloud-computing\">Cloud Computing</a></div><div><a href=\"/topics/chatgpt\">ChatGPT</a></div><div><a href=\"/topics/openai\">OpenAI</a></div><div><a href=\"/topics/nvidia-ampere\">NVIDIA Ampere</a></div><div><a href=\"/topics/gpu\">GPU</a></div><div><a href=\"/topics/artificial-intelligence\">Artificial Intelligence</a></div></div></div>","author":"mk","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"09770cb8e490513f64de1cafea56392b3121f0dfc1d7bdbc25d4b225dfc4fb5a","category":"Thai"}