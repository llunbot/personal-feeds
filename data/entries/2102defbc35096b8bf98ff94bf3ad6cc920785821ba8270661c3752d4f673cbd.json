{"title":"Developer Decisions For Building Flexible Components","link":"https://smashingmagazine.com/2021/09/developer-decisions-building-flexible-components/","date":1631097000000,"content":"<p>In the real world, content often differs vastly from the neat, perfectly fitting content presented in designs. Added to that, on the modern web, users have an ever-increasing range of options for how they access the sites we build.</p>\n<p>In this article, we’ll walk through the process of taking a seemingly simple design for a text-and-media component and deciding how best to translate it into code, keeping in mind the needs of both users and content authors. We’re not going to delve into <em>how</em> to code it — rather, the factors that will determine our development decisions. We’ll consider the questions we need to ask (both ourselves and other stakeholders) at every step.</p>\nChanging Our Development Mindset\n<p>We simply can no longer design and develop only for “optimal” content or browsing conditions. Instead, we must embrace the inherent flexibility and unpredictability of the web, and build resilient components. Static mockups cannot cater to every scenario, so many design decisions fall to developers at build time. Like it or not, if you’re a UI developer, you <em>are</em> a designer — even if you don’t consider yourself one!</p>\n<p>In my job at WordPress specialist web agency <em>Atomic Smash</em>, we build websites for clients who need maximum flexibility from the components we provide, while ensuring the site still looks great, no matter what content they throw at it. Sometimes interpreting a design means asking the designer to further elaborate on their ideas (or even re-evaluate them). Other times, it means making design decisions on the fly or making recommendations based on our knowledge and experience. We’ll look at some of the times these approaches might be appropriate in this case study.</p>\nThe Design\n<p>We start with a simple design for a text-and-media component — something fairly commonly seen on product landing pages. It consists of an image or video on the left and a column on the right containing a heading, a paragraph of text and a call-to-action link. This design is for a (fictional) startup that helps people who want to learn a new skill find a tutor.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/d8bdd509-e324-4324-9bc8-51e1b4474c8d/1-flexible-components-css.jpg\" /></p>\n<p><strong>Note:</strong> <em>If you want to jump straight to the code and view all the possible solutions we alighted on for this component, you can find it in <a href=\"https://codepen.io/michellebarker/pen/eYRZPmW\">this Codepen demo</a>.</em></p>\nLayout And Order\n<p>The designer has stipulated that every other component should have the layout flipped so that the image is on the right and the text column on the left. </p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/30a02459-7d26-4d4b-b297-a039a23376db/2-flexible-components-css.jpg\" /></p>\n<p>In the mobile layout, however, the image is stacked above the text content in all cases. Assuming we build this layout using either Grid or flexbox, we could use <code>flex-direction</code> or the <code>order</code> property to reorder the layout for every second component:</p>\n<pre><code>.text-and-media:nth-child(even) {\n    flex-direction: row-reverse;\n}</code></pre>\n\n<p>It’s worth bearing in mind that while these will reorder the content visually, it does not change the DOM order. This means that to a partially-sighted person browsing the site using a screenreader, the order of the content may not appear logical, jumping from left-to-right to right-to-left.</p>\n<p>Speaking personally, in the case where the only content in one of the columns is an image, I feel that using the <code>order</code> property is more or less okay. But if we had two columns of text, for instance, reordering with CSS might make for a confusing experience. In those cases, we have some other options available to us. We could:</p>\n<ol>\n<li>Put forward our accessibility concerns and recommend that for mobile layouts the visual order is changed to match the desktop order.</li>\n<li>Use Javascript to reorder the elements in the DOM.</li>\n</ol>\n<p>We also need to consider whether to enforce the order through the <code>:nth-child</code> selector or to allow the client to control the order (by adding a class to the component, say). The suitability of each option will likely depend on the project.</p>\nDealing With Different Content Lengths\n<p>In the design, the proportion of text content compared to the image is quite pleasing. It allows the image to maintain an ideal aspect ratio. But what should happen if the text is longer or shorter than what’s presented? Let’s deal with the former first.</p>\n<h3>Longer Content</h3>\n<p>We can set a character limit on the text field in our chosen CMS (if we’re so inclined), but we should allow for at least <em>some</em> variation in our component. If we add a longer paragraph, the opposing media column could behave in one of several ways:</p>\n<ol>\n<li>The image or video remains at the top, while space is added below (fig. 1).</li>\n<li>The image or video is centered, adding space at the top or bottom (fig. 2).</li>\n<li>The proportions of the image or video are scaled to match the height, using <code>object-fit: cover</code> to prevent distortion and ensure the image fills the available space. This would mean some parts of the image may be clipped (fig. 3).</li>\n</ol>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/0fd3bc4e-d80f-42c6-b950-045b4f9bfc8b/3-flexible-components-css.jpg\" /></p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/0a36d983-aaba-4adc-b203-f9b82d4d9def/4-flexible-components-css.jpg\" /></p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/b0500e55-eaba-4ddc-a648-9d227a3439c4/5-flexible-components-css.jpg\" /></p>\n<p>We decided that option 3 was the most pleasing visually, and that for the most part content authors would be able to source appropriate images where a small amount of clipping would be acceptable. But it presented more of a challenge for video content, where there is more of a risk that important parts could be clipped. We alighted on another option, which was to create a different variation of the design where the video would maintain its original aspect ratio, and be contained within a maximum width instead of aligning to the edge of the page.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/2b003588-d8c6-4e70-a105-93eb01c02934/6-flexible-components-css.jpg\" /></p>\n<p>Content authors could choose this option when it better suited their needs.</p>\n<p>Additionally, we opted to extend this choice to instances where an image was used instead of a video. It gives the client a wider variety of layout options without adversely impacting the design. Seen in the wider page context it could even be considered an improvement, allowing for more interesting pages when several of these blocks are used on a page.</p>\n<h3>Shorter Content</h3>\n<p>Dealing with less content is a little simpler, but still presents us with some issues. How should the image behave when the text content is shorter? Should it become shallower, so that the overall height of the component is determined by the text content (fig. 4)? Or should we set a minimum aspect ratio, so that the image doesn’t become letterboxed, or allow the image to take up its natural, intrinsic height? In that case, we also have the consideration of whether to align the text centrally or to the top (fig. 5 and 5a).</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/125ed1e4-7b1a-4c8f-baec-7356fba8c6ca/7-flexible-components-css.jpg\" /></p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/0d25ece5-2c18-4bdf-bb05-efb13c4bba37/8-flexible-components-css.jpg\" /></p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/3b76248d-d171-48f1-a572-b5a00f014559/9-flexible-components-css.jpg\" /></p>\n<h3>Heading Length</h3>\n<p>Let’s not forget we’ll also need to test headings of different lengths. In the design the headings are short and snappy, rarely wrapping onto a second line. But what if a heading is several lines long, or the content uses a lot of long words, resulting in text wrapping differently? This might especially be a problem in languages such as German, where words tend to be much longer than English, for example. Does the size of the heading font in the design allow for an appropriate line length when used in this layout? Should long words be hyphenated when they wrap? <a href=\"https://ishadeed.com/article/css-short-long-content/\">This article</a> by Ahmad Shadeed addresses the issue of content length and included some handy tips for ways to deal with it in CSS.</p>\n<p>Are content authors permitted to omit a heading altogether where it suits them? That brings us to the next consideration.</p>\nOmitting Content\n<p>Building this component as flexibly as possible means making sure that content authors can omit certain fields and still have the design look and function properly. It seems reasonable that the client may wish to omit the body text, the link, or even the heading when using this component in the wild. We need to take care to test with every conceivable combination of content, so that we can be confident our component won’t break under stress. It’s good practice to ensure we’re not rendering empty HTML tags when field content isn’t present. This will help us avoid unforeseen layout bugs.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/c32cddb7-3bf5-4610-879b-04170e3526a2/10-flexible-components-css.jpg\" /></p>\n<p>We <em>can</em> restrict content authors with “required” fields in the CMS, but perhaps we might also wish to consider scenarios where a client might choose to omit the image, or, conversely, without <em>any</em> of the text content? It might be helpful to provide them with these options. Here’s an example of how we might elect to render the component in those cases:</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/88890482-8e20-4a6e-a889-aa0ef6ee09df/11-flexible-components-css.jpg\" /></p>\n<p>By indenting the text a little more and increasing the width of the body text, we can keep it feeling balanced, even when there is no image.</p>\nMultiple Links\n<p>Omitting content is one scenario. But at Atomic Smash, we found that more often, clients wanted the option to add more than one link to the component. That presents us with another choice: how to layout multiple links? Do we lay them out side-by-side (fig. 8), or stack them vertically (fig. 8a)?</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/869d7a80-6648-4fdb-812b-96e086bff549/13-flexible-components-css.jpg\" /></p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/02b5153b-2b1b-4939-aec6-955f5adb7f74/12-flexible-components-css.jpg\" /></p>\n<p>How do we deal with link titles of wildly different lengths? A nice trick is to set the widths of both links to the maximum width of the longest (fig. 9). (<a href=\"https://css-irl.info/a-layout-trick-for-building-a-contact-list/\">This article</a> covers just that.) That works well for vertically stacked buttons, whereas laying them out horizontally presents us with even more choices (fig. 9a).</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/e7ad70ea-6887-4b41-b3f5-157e5f30eb12/14-flexible-components-css.jpg\" /></p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/561b7af0-77b9-4839-8cf2-ababb22080af/15-flexible-components-css.jpg\" /></p>\n<p>Do we need a secondary link style, to differentiate them? These are all questions to consider.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/7f489952-3705-40f9-be9a-e476e493d764/16-flexible-components-css.jpg\" /></p>\n<p>We may also need to consider (in the case of a single link) whether, in fact, the clickable area of the link should encompass the entire component — so users can click anywhere on it to activate the link. That choice might perhaps depend on the wider context. It’s certainly common in card-based UIs.</p>\nVideo\n<p>When the component is used for video rather than a static image, we might notice that the design omits some key information. How is the video playback controlled? On hover? Does it autoplay on scroll? Should there be controls visible to the user?</p>\n<p>If the video plays on hover, we must consider how the user of a device without hover capabilities accesses the video content. Alternatively, if the video autoplays, we should consider preventing this for users with a preference for reduced motion, who may suffer from vestibular disorders (or might simply wish to avoid jarring animations). We should also provide a way for all users to stop the video when they wish.</p>\nPutting It In Context\n<p>One issue with focusing so closely on components when it comes to web design, is sometimes we forget to consider how the components we build will appear in the context of the overall web page. We’ll need to consider the spacing, both between components of the same type and in a page layout where other components are interspersed.</p>\n<p>These text-and-media components are designed to be used sparingly, creating an eye-catching splash of color and a break from an otherwise linear layout. But using WordPress, a content author could easily decide to build an entire page made up of nothing but these components. That could end up looking rather dull, and not at all the effect we were hoping for!</p>\n<p>During the build process, we decided to add an option to omit the background color. That allows us to break the page up and make it more interesting:</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/37ff4b62-ae71-443c-9d07-fbb76df158d5/17-flexible-components-css.png\" /></p>\n<p>We could either enforce a pattern using <code>:nth-child</code> or add a field in the CMS to give the client more creative control.</p>\n<p>Although this was not part of the original design, it shows that an open line of communication between designer and developer can help create better outcomes in terms of more flexible and robust designs.</p>\nWYSIWYG Text Styles\n<p>When considering content, we need to consider not just the length of text, but the actual HTML elements that might be permitted in the body text field. Content authors might want to add multiple paragraphs, anchor links, lists, and more to the body copy. At Atomic Smash we like to provide a WYSIWYG (What You See Is What You Get) or rich text field for these areas, which can allow for many different elements. It’s important to test with different types of content, and style appropriately — including testing for sufficient color contrast on all background colors used.</p>\n<p><img src=\"https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/8f81f81a-cbe0-43e9-9286-5a8cf3ba2df8/18-flexible-components-css.jpg\" /></p>\nWrapping Up\n<p>We’ve touched on many different decisions involved with building this seemingly simple component. You might even be able to think of a few others we haven’t covered here! By considering every aspect of the design and how it might be used in context, we’ve ended up with something far more versatile, which hopefully should result in happier clients!</p>\n<p>Sometimes, the more that is omitted from a design, the more time and attention will be required from a developer. I’ve put together a checklist below of things to test and question when building a component, which you might find useful. It may be adapted for different components too. </p>\n<p>Being able to look past the apparent simplicity, break down a component into its constituent parts, ask key questions (even before any development takes place), and even consider future uses, are all skills that will serve any developer well when building websites — and will help you provide vastly more accurate estimates when required. Good team communication and a strong collaborative process are invaluable for building resilient sites, but the end result makes it worth investing in nurturing this culture. Let’s bake flexibility into our design <em>and</em> build processes.</p>\nThe Checklist\n\n\n<p>Things to test:</p>\n<ol>\n  <li>Accessibility of layout (mobile and desktop).</li>\n  <li>Images of different intrinsic aspect ratios — are they cropped appropriately?</li>\n  <li>Longer and shorter body text (including multiple paragraphs).</li>\n  <li>Longer and shorter heading (including various word lengths).</li>\n  <li>Omitting (variously) the heading, body text, links and image.</li>\n  <li>Multiple links (including different lengths of link text).</li>\n  <li>Accessibility of video content.</li>\n  <li>WYSIWYG text content (include links, lists, etc. in body text).</li>\n  <li>Test in context — include multiple components (with different content options), as well as other components mixed into the page layout.</li>\n</ol>","author":"","siteTitle":"Articles on Smashing Magazine — For Web Designers And Developers","siteHash":"ab069ca35bf300e9db0da36f49701f66485a5b0d2db0471dfeee07cef6204939","entryHash":"2102defbc35096b8bf98ff94bf3ad6cc920785821ba8270661c3752d4f673cbd","category":"Tech"}