{"title":"แอดมินเว็บโซเชียล Firefish คอนฟิก Gitops ผิดลบข้อมูลทั้ง namespace, แถมคอนฟิก backup พลาดกู้ข้อมูลไม่ได้","link":"https://www.blognone.com/node/135470","date":1693204886000,"content":"<div><div><div><p>Lily Cohen ผู้ดูแลระบบของ Firefish Social เว็บเครือข่ายสังคมออนไลน์ รายงานถึงเหตุการณ์ข้อมูลหาย ว่าเป็นอุบัติเหตุระหว่างการจัดไฟล์คอนฟิกใหม่ ทำให้ข้อมูลสูญหาย แถมพบว่าระบบสำรองข้อมูลที่คอนฟิกเอาไว้ทำงานผิดพลาดจนข้อมูลไม่ได้ backup ไว้จริง</p>\n<p>ปัญหาเริ่มต้นจากการย้ายไฟล์ yaml จัดโครงสร้างใหม่ แต่ปรากฎว่า yaml บางส่วนถูกจัดไปอยู่ในโฟลเดอร์ที่ ArgoCD มองไม่เห็น ส่งผลให้ ArgoCD ลบข้อมูลใน namespace ที่ถูกย้ายไฟล์คอนฟิกออกไปทั้งหมดทันที รวมถึงข้อมูลผู้ใช้ทั้งหมดที่อยู่ใน Persistent Volume Claims (PVC)</p>\n<p>ปัญหาร้ายแรงขึ้นเมื่อ Velero ที่คอนฟิกสำหรับสำรองข้อมูลทุก 6 ชั่วโมงนัั้น กลับไม่ได้คอนฟิกให้สำรองข้อมูลใน PVC ไว้ด้วย ผลกระทบครั้งนี้ทำให้เว็บสื่อสังคมออนไลน์ในความดูแลของ Firefish สามเว็บ ได้แก่ firefish.lgbt, musician.social, และ outdoors.lgbt สูญหายไปทั้งหมด</p>\n<p>ที่มา - <a href=\"https://firefish.social/notes/9iqefgi8rzfksnqc\">Firefish</a></p>\n<p><img src=\"https://cdn.pixabay.com/photo/2016/04/23/23/09/hard-drive-1348507_1280.jpg\" alt /></p>\n<p>ภาพโดย <a href=\"https://pixabay.com/photos/hard-drive-harddrive-harddisk-1348507/\">JasonPinaster</a></p>\n</div></div></div><div><div>Topics: </div><div><div><a href=\"/topics/data\">Data</a></div><div><a href=\"/topics/social-network\">Social Network</a></div></div></div>","author":"lew","siteTitle":"Blognone","siteHash":"ededadcf18490b3937e7dd89ebe8c00dc129addbdf1ebe4aff1f458146693da0","entryHash":"4f0caf3d38e3da755cd3b6219937c81d06aa1408e982a81ea4f937c031b9edd7","category":"Thai"}