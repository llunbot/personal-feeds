{"title":"ทำความรู้จักกับ match_only_text ใน Elasticsearch","link":"https://www.somkiat.cc/match-only-text-in-elasticsearch/","date":1628437089000,"content":"<p><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/08/es-150x150.jpg\" /></p>\n<figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/08/es-1024x509.jpg\" /></figure>\n\n\n\n<p>ใน Elasticsearch 7.14 นั้นได้เพิ่ม field type ใหม่ขึ้นมา<br />ชื่อว่า <strong><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/text.html#text-field-type\" target=\"_blank\">match_only_text</a></strong><br />สร้างขึ้นมาเพื่อนำมาใช้เก็บข้อมูล log ต่าง ๆ โดยเฉพาะ<br />สามารถ query ได้เหมือนกับ type text<br />เพียงแต่ไม่สนับสนุนการ sorting/scoring<br />แต่ก็มีข้อจำกัดเช่นกัน ในการใช้บาง query เช่น span query<br />หรือใช้แล้วช้ากว่า type text เช่น phase และ interval query<br />ในส่วนการ aggregation บางอย่าง ก็มีข้อจำกัด</p>\n\n\n\n<span></span>\n\n\n\n<p><a href=\"https://www.elastic.co/blog/save-10-percent-disk-space-on-your-logging-datasets-with-match-only-text\" target=\"_blank\"><strong>match_only_text</strong> <strong>มีเป้าหมายเพื่อ</strong></a></p>\n\n\n\n<ul><li>ลดเนื้อที่จัดเก็บข้อมูลใน Disk ลง นั่นคือการลกค่าใช้จ่าย</li><li>ลดการทำ indexing ซึ่งใช้ CPU เปลืองมาก ๆ และขนาดจอง index จะเล็กลง</li><li>ลดเวลาในการ query ลงไป เนื่องจากไม่ต้องคำนวณ score ที่มีขั้นตอนเยอะ แต่ไปใช้ timestamp มาจัดเรียงแทน (จากใหม่ไปเก่า)</li></ul>\n\n\n\n<p></p>\n","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"2208a155718f4e3ce37859582b0e752389f82c68b6a4d00ed05c4ee68beae081","category":"Thai"}