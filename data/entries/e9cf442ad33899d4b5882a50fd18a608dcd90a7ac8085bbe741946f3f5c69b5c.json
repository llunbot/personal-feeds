{"title":"WebKit Features in Safari 17.6","link":"https://webkit.org/blog/15739/webkit-features-in-safari-17-6/","date":1722285027000,"content":"<p>This update to Safari is the seventh release of Safari 17.x. With one feature and seven bug fixes, Safari 17.6 focuses on getting important changes into the hands of your users today.</p>\n<h2>Safe alignment in Flexbox</h2>\n<p><a href=\"https://webkit.org/blog/15443/news-from-wwdc24-webkit-in-safari-18-beta/\">Announced at WWDC</a> and first seen in Safari 18 beta, the <code>safe</code> keyword for alignment in Flexbox is now arriving in WebKit for Safari 17.6. This provides a mechanism for refining how flex items overflow. Let’s look at an example of a simple navigation menu — a classic use of Flexbox.</p>\n<pre><code><span>&lt;<span>nav</span> <span>aria-label</span>=<span>\"main\"</span>&gt;</span><span>&lt;<span>ul</span>&gt;</span>\n  <span>&lt;<span>li</span>&gt;</span><span>&lt;<span>a</span> <span>href</span>=<span>\"/us\"</span>&gt;</span>U.S.<span>&lt;/<span>a</span>&gt;</span><span>&lt;/<span>li</span>&gt;</span>\n  <span>&lt;<span>li</span>&gt;</span><span>&lt;<span>a</span> <span>href</span>=<span>\"/business\"</span>&gt;</span>Business<span>&lt;/<span>a</span>&gt;</span><span>&lt;/<span>li</span>&gt;</span>\n  <span>&lt;<span>li</span>&gt;</span><span>&lt;<span>a</span> <span>href</span>=<span>\"/investigations\"</span>&gt;</span>Investigations<span>&lt;/<span>a</span>&gt;</span><span>&lt;/<span>li</span>&gt;</span>\n  <span>&lt;<span>li</span>&gt;</span><span>&lt;<span>a</span> <span>href</span>=<span>\"/style\"</span>&gt;</span>Style<span>&lt;/<span>a</span>&gt;</span><span>&lt;/<span>li</span>&gt;</span>\n  <span>&lt;<span>li</span>&gt;</span><span>&lt;<span>a</span> <span>href</span>=<span>\"/tech\"</span>&gt;</span>Tech<span>&lt;/<span>a</span>&gt;</span><span>&lt;/<span>li</span>&gt;</span>\n  <span>&lt;<span>li</span>&gt;</span><span>&lt;<span>a</span> <span>href</span>=<span>\"/world\"</span>&gt;</span>World<span>&lt;/<span>a</span>&gt;</span><span>&lt;/<span>li</span>&gt;</span>\n<span>&lt;/<span>ul</span>&gt;</span><span>&lt;/<span>nav</span>&gt;</span>\n</code></pre>\n<p>The following CSS creates a simple layout that wraps when there’s not enough space on one line for the menu, while centering the items in the available space.</p>\n<pre><code><span>header</span> <span>nav</span> {\n  <span>display</span>: <span>flex</span>;\n  <span>flex-flow</span>: <span>wrap</span>;\n  <span>gap</span>: <span>1.5</span><span>rem</span>;\n  <span>justify-content</span>: <span>center</span>; <span>/* centers the items in the available space */</span>\n}\n</code></pre>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/flex-menu-light.png\" alt=\"A simple menu of links, each represented by a word, laid out in two lines of centered text.\" width=\"1330\" height=\"360\" srcset=\"https://webkit.org/wp-content/uploads/flex-menu-light.png 1330w, https://webkit.org/wp-content/uploads/flex-menu-light-300x81.png 300w, https://webkit.org/wp-content/uploads/flex-menu-light-1024x277.png 1024w, https://webkit.org/wp-content/uploads/flex-menu-light-768x208.png 768w\" /></figure>\n<p>By default, <code>justify-content: center</code> will always keep the items centered, even when the content is overflowing the containing box. You might prefer, however, that the content not be centered when it overflows — being centered cuts off both the beginning and end of the word, making the content harder to understand when the overflow is not visible.</p>\n<figure><img loading=\"lazy\" src=\"https://webkit.org/wp-content/uploads/flex-safe-light.png\" alt=\"Diagram showing the difference between safe and default layout of the same menu, when the space for it is so narrow every word in on its own line, and some of the long words start to get chopped off. \" width=\"2680\" height=\"822\" srcset=\"https://webkit.org/wp-content/uploads/flex-safe-light.png 2680w, https://webkit.org/wp-content/uploads/flex-safe-light-300x92.png 300w, https://webkit.org/wp-content/uploads/flex-safe-light-1024x314.png 1024w, https://webkit.org/wp-content/uploads/flex-safe-light-768x236.png 768w, https://webkit.org/wp-content/uploads/flex-safe-light-1536x471.png 1536w, https://webkit.org/wp-content/uploads/flex-safe-light-2048x628.png 2048w\" /><figcaption>Compare <code>justify-content: center</code> without and with the <code>safe</code> keyword in <a href=\"https://codepen.io/jensimmons/pen/qBGObXe?editors=1100\">this demo</a>.</figcaption></figure>\n<p>The <code>safe</code> keyword lets you change how alignment works when content overflows. The <code>justify-content: safe center</code> rule will instead start align any item that is overflowing, while continuing to center the items that are not overflowing.</p>\n<p>If you want to override the <code>safe</code> keyword, you can use <code>unsafe</code>. The <code>justify-content: unsafe center</code> rule will do the same thing as <code>justify-content: center</code>. The <code>unsafe</code> keyword has been supported in WebKit for Safari for quite some time.</p>\n<h2>Bug Fixes</h2>\n<p>WebKit for Safari 17.6 includes work polishing existing features.</p>\n<h3>Media</h3>\n<ul>\n<li>Fixed firing <code>loadeddata</code> events for <code>&lt;audio&gt;</code> and <code>&lt;video&gt;</code> on page load. (124079735) (FB13675360)  </li>\n<li>Fixed multiple cases of audio distortion occurring when using AudioWorklets. (128551401)  </li>\n</ul>\n<h3>PDF</h3>\n<ul>\n<li>Fixed PDF previews appearing tiny in the top left corner. (125796665)  </li>\n</ul>\n<h3>Rendering</h3>\n<ul>\n<li>Fixed scrolling of content overflowing a flex item in an end-aligned flex container. (131201271)  </li>\n</ul>\n<h3>Safari Web Extensions</h3>\n<ul>\n<li>Fixed an issue where Safari Web Extension background pages would stop responding after about 30 seconds. (127681420)  </li>\n</ul>\n<h3>Web Inspector</h3>\n<ul>\n<li>Fixed showing additional Safari tabs from an iOS device in the Develop menu. (124876362)  </li>\n</ul>\n<h3>WebRTC</h3>\n<ul>\n<li>Fixed <code>navigator.mediaDevices.getDisplayMedia()</code> in WKWebView. (128988615)  </li>\n</ul>\n<h2>Updating to Safari 17.6</h2>\n<p>Safari 17.6 is available on <a href=\"https://www.apple.com/ios/ios-17/\">iOS 17.6</a>, <a href=\"https://www.apple.com/ipados/ipados-17/\">iPadOS 17.6</a>, <a href=\"https://www.apple.com/macos/sonoma/\">macOS Sonoma 14.6</a>, macOS Ventura, macOS Monterey and in visionOS 1.3.</p>\n<p>If you are running macOS Ventura or macOS Monterey, you can update Safari by itself, without updating macOS. On macOS Ventura, go to  &gt; System Settings &gt; General &gt; Software Update and click “More info…” under Updates Available.</p>\n<p>To get the latest version of Safari on iPhone, iPad, or Apple Vision Pro, go to Settings &gt; General &gt; Software Update, and tap to update.</p>\n<h2>Feedback</h2>\n<p>We love hearing from you. To share your thoughts on Safari 17.6, find us on Mastodon at <a href=\"https://front-end.social/@jensimmons\">@jensimmons@front-end.social</a> and <a href=\"https://mastodon.social/@jondavis\">@jondavis@mastodon.social</a>. Or send a reply on X to <a href=\"https://twitter.com/webkit\">@webkit</a>. You can also <a href=\"https://www.linkedin.com/in/apple-webkit/\">follow WebKit on LinkedIn</a>. If you run into any issues, we welcome your <a href=\"https://feedbackassistant.apple.com/\">feedback</a> on Safari UI (learn more about <a href=\"https://developer.apple.com/bug-reporting/\">filing Feedback</a>), or your <a href=\"https://bugs.webkit.org/\">WebKit bug report</a> about web technologies or Web Inspector. If you notice a website that seems broken in Safari, but not in other browsers, please file a report at <a href=\"https://webcompat.com/\">webcompat.com</a>. Filing issues really does make a difference.</p>\n<p>Download the latest <a href=\"https://developer.apple.com/safari/technology-preview/\">Safari Technology Preview</a> on macOS to stay at the forefront of the web platform and to use the latest Web Inspector features.</p>\n<p>You can also find this information in the <a href=\"https://developer.apple.com/documentation/safari-release-notes/\">Safari 17.6 release notes</a>.</p>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"e9cf442ad33899d4b5882a50fd18a608dcd90a7ac8085bbe741946f3f5c69b5c","category":"Tech"}