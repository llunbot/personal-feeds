{"title":"Java ::  อย่าสร้าง Date แบบนี้ !!","link":"https://www.somkiat.cc/java-create-date/","date":1627725973000,"content":"<div id=\"readability-page-1\" class=\"page\"><div id=\"page\"><article><div id=\"content_box\"><header><div><p><time>July 31, 2021</time> <span><a href=\"https://www.somkiat.cc/category/programming/\" rel=\"category tag\">Programming</a></span></p></div></header><div><figure><img src=\"https://www.somkiat.cc/wp-content/uploads/2021/07/java-1024x576.jpg\" alt=\"\" width=\"546\" height=\"307\" srcset=\"https://www.somkiat.cc/wp-content/uploads/2021/07/java-1024x576.jpg 1024w, https://www.somkiat.cc/wp-content/uploads/2021/07/java-300x169.jpg 300w, https://www.somkiat.cc/wp-content/uploads/2021/07/java-768x432.jpg 768w, https://www.somkiat.cc/wp-content/uploads/2021/07/java-1536x864.jpg 1536w, https://www.somkiat.cc/wp-content/uploads/2021/07/java-2048x1152.jpg 2048w\" sizes=\"(max-width: 546px) 100vw, 546px\"></figure><p>ไปเจอ code สำหรับการสร้าง Date หรือวันที่ใน project หนึ่ง<br>พออ่านแล้วก็รู้สึกแปลก ๆ ว่าใน Utility class<br>ทำไมมี method createDate() ให้ใช้งานด้วย<br>แถมจริงจังด้วย<br>ไม่พอ เป็นการ copy มาจาก project ก่อนหน้านี้<br>และคิดว่า คง copy กันมาต่อเนื่องมาก ๆ<br>เนื่องจากใน code ต้นทางมี​​เขียน comment ตัวอย่างใช้งาน เป็นปี 20xx ด้วย</p><p><strong>ตัวอย่างของ code ส่วนหนึ่งเป็นดังนี้</strong></p><div itemprop=\"text\" id=\"gist111012337\" translate=\"no\"><table data-tab-size=\"8\" data-paste-markdown-skip=\"\"><tbody><tr><td id=\"file-1-java-L1\" data-line-number=\"1\"></td><td id=\"file-1-java-LC1\"><span>public</span> <span>static</span> <span>Date</span> createDate(<span>Integer</span> iYear, <span>Integer</span> iMonth, <span>Integer</span> iDay) throws <span>Exception</span> {</td></tr><tr><td id=\"file-1-java-L2\" data-line-number=\"2\"></td><td id=\"file-1-java-LC2\"><span>if</span> ((<span>!</span>(iYear <span>instanceof</span> <span>Integer</span>))</td></tr><tr><td id=\"file-1-java-L3\" data-line-number=\"3\"></td><td id=\"file-1-java-LC3\"><span>||</span> (<span>!</span>(iMonth <span>instanceof</span> <span>Integer</span>))</td></tr><tr><td id=\"file-1-java-L4\" data-line-number=\"4\"></td><td id=\"file-1-java-LC4\"><span>||</span> (<span>!</span>(iDay <span>instanceof</span> <span>Integer</span>))</td></tr><tr><td id=\"file-1-java-L5\" data-line-number=\"5\"></td><td id=\"file-1-java-LC5\">){</td></tr><tr><td id=\"file-1-java-L6\" data-line-number=\"6\"></td><td id=\"file-1-java-LC6\"><span>throw</span> <span>new</span> <span>Exception</span>();</td></tr><tr><td id=\"file-1-java-L7\" data-line-number=\"7\"></td><td id=\"file-1-java-LC7\">}</td></tr><tr><td id=\"file-1-java-L8\" data-line-number=\"8\"></td><td id=\"file-1-java-LC8\"></td></tr><tr><td id=\"file-1-java-L9\" data-line-number=\"9\"></td><td id=\"file-1-java-LC9\"><span>Date</span> date <span>=</span> <span>null</span>;</td></tr><tr><td id=\"file-1-java-L10\" data-line-number=\"10\"></td><td id=\"file-1-java-LC10\"><span>String</span> year, month, day;</td></tr><tr><td id=\"file-1-java-L11\" data-line-number=\"11\"></td><td id=\"file-1-java-LC11\"></td></tr><tr><td id=\"file-1-java-L12\" data-line-number=\"12\"></td><td id=\"file-1-java-LC12\">year <span>=</span> iYear<span>.</span>toString();</td></tr><tr><td id=\"file-1-java-L13\" data-line-number=\"13\"></td><td id=\"file-1-java-LC13\">month <span>=</span> iMonth<span>.</span>toString();</td></tr><tr><td id=\"file-1-java-L14\" data-line-number=\"14\"></td><td id=\"file-1-java-LC14\">day <span>=</span> iDay<span>.</span>toString();</td></tr><tr><td id=\"file-1-java-L15\" data-line-number=\"15\"></td><td id=\"file-1-java-LC15\"><span>try</span> {</td></tr><tr><td id=\"file-1-java-L16\" data-line-number=\"16\"></td><td id=\"file-1-java-LC16\">date <span>=</span> <span>new</span> <span>SimpleDateFormat</span>(<span><span>\"</span>yyyy/MM/dd<span>\"</span></span>)<span>.</span>parse(year <span>+</span> <span><span>\"</span>/<span>\"</span></span> <span>+</span> month <span>+</span> <span><span>\"</span>/<span>\"</span></span> <span>+</span> day);</td></tr><tr><td id=\"file-1-java-L17\" data-line-number=\"17\"></td><td id=\"file-1-java-LC17\"></td></tr><tr><td id=\"file-1-java-L18\" data-line-number=\"18\"></td><td id=\"file-1-java-LC18\">} <span>catch</span> (<span>ParseException</span> e) {</td></tr><tr><td id=\"file-1-java-L19\" data-line-number=\"19\"></td><td id=\"file-1-java-LC19\">log<span>.</span>warn(<span><span>\"</span>Date transformation failed for year, month, day: <span>\"</span></span> <span>+</span> iYear <span>+</span> <span><span>\"</span>, <span>\"</span></span> <span>+</span> iMonth <span>+</span> <span><span>\"</span>, <span>\"</span></span> <span>+</span> iDay);</td></tr><tr><td id=\"file-1-java-L20\" data-line-number=\"20\"></td><td id=\"file-1-java-LC20\">}</td></tr><tr><td id=\"file-1-java-L21\" data-line-number=\"21\"></td><td id=\"file-1-java-LC21\"><span>return</span> date;</td></tr><tr><td id=\"file-1-java-L22\" data-line-number=\"22\"></td><td id=\"file-1-java-LC22\">}</td></tr></tbody></table></div><p><strong>ว่าแต่เขียนสั้น ๆ ด้วย <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" target=\"_blank\" rel=\"noreferrer noopener\">LocaDate</a> ก็จบแล้วดังนี้</strong></p><div id=\"highlighter_751410\"><table><tbody><tr><td><p>1</p></td><td><div><p><code>LocalDate.of( 2021 ,&nbsp; 7, 31 );</code></p></div></td></tr></tbody></table></div></div><div><p><img alt=\"\" src=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=90&amp;d=mm&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/e5cb9aad7bf4f0e43462bd51d6ff7021?s=180&amp;d=mm&amp;r=g 2x\" height=\"90\" width=\"90\"></p><h4>Article by <a href=\"https://www.facebook.com/somkiatspns\">Somkiat Puisungnoen</a></h4><p>To be Craftmanship</p></div></div></article></div></div>","author":"somkiat","siteTitle":"cc :: somkiat","siteHash":"3a23a5a4389e1e40c6fbb16520a8cc20df5b3591c25145ce72aaa18b19e48201","entryHash":"a890d399f6c96afb10e99d97ac6654613cbcbd873a4f420e013b060f8a6dea4b","category":"Thai"}