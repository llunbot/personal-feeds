{"title":"Release Notes for Safari Technology Preview 234","link":"https://webkit.org/blog/17674/release-notes-for-safari-technology-preview-234/","date":1766177007000,"content":"<p><a href=\"https://webkit.org/blog/6017/introducing-safari-technology-preview/\">Safari Technology Preview</a> Release 234 is now <a href=\"https://developer.apple.com/safari/resources/\">available for download</a> for macOS Tahoe and macOS Sequoia. If you already have Safari Technology Preview installed, you can update it in System Settings under General → Software Update.</p>\n<p>This release includes WebKit changes between: <a href=\"https://github.com/WebKit/WebKit/compare/c1c2613b5377530ae910fb4c4c12b15e437a52e0...3a46c8b831c8f3efbea062a3aa56781369c13bd3\">303092@main…304071@main</a>.</p>\n<h3>Accessibility</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed missing <code>aria-label</code> on the button added by <code>&lt;img controls&gt;</code> to improve accessibility for screen readers. (<a href=\"https://commits.webkit.org/304013@main\">304013@main</a>)  (164651880)</li>\n</ul>\n<h3>Animations</h3>\n<h4>New Features</h4>\n<ul>\n<li>Added support for Threaded Scroll-driven Animations. With Threaded Scroll-driven Animations, eligible scroll-driven animations are updated as their associated timeline’s source element is scrolled instead of when the page rendering is updated, yielding smoother animations on devices with Pro Motion displays. Additionally, since scrolling is performed in a separate process, those animations update as scrolling occurs no matter the load on the main thread. Eligible animations are any scroll-driven animations animating the <code>opacity</code>, <code>transform</code>, <code>translate</code>, <code>scale</code>, <code>rotate</code>, <code>filter</code>, <code>backdrop-filter</code> or any of the Motion Path properties. (<a href=\"https://commits.webkit.org/303997@main\">303997@main</a>)  (165924545)</li>\n</ul>\n<h3>CSS</h3>\n<h4>New Features</h4>\n<ul>\n<li>Added support for CSS <code>display: grid-lanes</code>. (<a href=\"https://commits.webkit.org/303114@main\">303114@main</a>)  (164860495)</li>\n<li>Added support for an automatic initial value for <code>grid-auto-flow</code> in CSS Grid Level 3 to switch flow orientation based on <code>grid-template-rows</code> and <code>grid-template-columns</code> for grid lane layouts. (<a href=\"https://commits.webkit.org/303634@main\">303634@main</a>)  (164791817)</li>\n<li>Added support for <code>item-tolerance</code> in CSS Masonry layouts to improve flexible grid item placement. (<a href=\"https://commits.webkit.org/303096@main\">303096@main</a>)  (164043151)</li>\n</ul>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed an issue where <code>max-width</code> was not correctly applied to tables with fixed widths. (<a href=\"https://commits.webkit.org/303644@main\">303644@main</a>)  (96554687)</li>\n<li>Fixed incorrect sizing and fragment URL handling for SVG images used in <code>-webkit-cross-fade()</code>. (<a href=\"https://commits.webkit.org/303593@main\">303593@main</a>)  (106633417)</li>\n<li>Fixed table layout so that fixed horizontal margins on <code>&lt;caption&gt;</code> elements now contribute to the table’s minimum preferred logical width, preventing captions from causing narrower than expected tables. (<a href=\"https://commits.webkit.org/303642@main\">303642@main</a>)  (120990942)</li>\n<li>Fixed incorrect width calculation for <code>positioned</code> elements using <code>box-sizing: border-box</code> with an <code>aspect-ratio</code>, ensuring borders and padding are not double-counted. (<a href=\"https://commits.webkit.org/303834@main\">303834@main</a>)  (121500004)</li>\n<li>Fixed the UA style sheet to use <code>:focus-visible</code> instead of <code>:focus</code> for outline properties. (<a href=\"https://commits.webkit.org/303643@main\">303643@main</a>)  (123155364)</li>\n<li>Fixed <code>HighlightRegistry</code> to remove its non-standard <code>constructor</code> and updated tests to use <code>CSS.highlights</code> while ensuring <code>Map.prototype</code> is properly restored after tampering. (<a href=\"https://commits.webkit.org/303858@main\">303858@main</a>)  (125529396)</li>\n<li>Fixed handling of <code>@property</code> registration so that the <code>initial-value</code> descriptor can be optional. (<a href=\"https://commits.webkit.org/303757@main\">303757@main</a>)  (131288198)</li>\n<li>Fixed <code>devicePixelRatio</code> so that page zoom now affects the main frame consistently with iframes, keeping their values synchronized. (<a href=\"https://commits.webkit.org/303397@main\">303397@main</a>)  (163857955)</li>\n<li>Fixed <code>line-height</code> to correctly scale font-relative units when text zoom is applied. (<a href=\"https://commits.webkit.org/304012@main\">304012@main</a>)  (165073337)</li>\n<li>Fixed <code>element.clientWidth</code> and <code>element.clientHeight</code> to correctly include padding for <code>content-box</code> tables. (<a href=\"https://commits.webkit.org/303641@main\">303641@main</a>)  (165515755)</li>\n<li>Fixed: Refactored the handling of block-level boxes inside inline boxes. (<a href=\"https://commits.webkit.org/303985@main\">303985@main</a>)  (165523565)</li>\n<li>Fixed an issue where <code>text-decoration: underline</code> appeared higher than expected when <code>text-box-trim</code> was applied to the root inline box. (<a href=\"https://commits.webkit.org/303710@main\">303710@main</a>)  (165614136)</li>\n<li>Fixed auto-placement cursor handling for spanning items in <code>grid-lanes</code> layouts to correctly wrap within the valid range. (<a href=\"https://commits.webkit.org/303815@main\">303815@main</a>)  (165701659)</li>\n<li>Fixed an issue with grid lanes masonry layout where items with negative margins were incorrectly positioned too low by always taking the maximum running position. (<a href=\"https://commits.webkit.org/303813@main\">303813@main</a>)  (165718130)</li>\n</ul>\n<h3>HTML</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed <code>shadowrootcustomelementregistry</code> attribute serialization to correctly compare ShadowRoot and document registries. (<a href=\"https://commits.webkit.org/303841@main\">303841@main</a>)  (165476421)</li>\n</ul>\n<h3>JavaScript</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed <code>Date</code> constructor overflow handling so that invalid day values now return <code>NaN</code>. (<a href=\"https://commits.webkit.org/303582@main\">303582@main</a>)  (155776209)</li>\n<li>Fixed <code>Intl.Locale.prototype.getWeekInfo()</code> to remove the <code>minimalDays</code> property for compliance with the specification. (<a href=\"https://commits.webkit.org/303287@main\">303287@main</a>)  (165083619)</li>\n<li>Fixed <code>Intl.NumberFormat</code> to properly apply <code>minimumFractionDigits</code> and <code>maximumFractionDigits</code> to ensure currency and compact notations behave correctly. (<a href=\"https://commits.webkit.org/303943@main\">303943@main</a>)  (165875014)</li>\n</ul>\n<h3>MathML</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed default MathML rule thickness to use the font’s <code>underlineThickness</code> metric with a zero fallback. (<a href=\"https://commits.webkit.org/303108@main\">303108@main</a>).  (164693673)</li>\n<li>Fixed painting empty <code>&lt;msqrt&gt;</code> radical operator in MathML by removing an  incorrect check. (<a href=\"https://commits.webkit.org/303134@main\">303134@main</a>)  (164776629)</li>\n<li>Fixed MathML <code>&lt;mpadded&gt;</code>, <code>&lt;mfrac&gt;</code>, <code>&lt;munderover&gt;</code>, <code>&lt;mover&gt;</code> and <code>&lt;mspace&gt;</code> elements not updating layout when attributes like <code>width</code>, <code>height</code>, <code>depth</code>, <code>lspace</code>, and <code>voffset</code> etc. changed. (<a href=\"https://commits.webkit.org/303508@main\">303508@main</a>)  (164797996)</li>\n<li>Fixed MathML boolean attributes so they are now compared ASCII case-insensitively. (<a href=\"https://commits.webkit.org/303107@main\">303107@main</a>)  (164819048)</li>\n</ul>\n<h3>Media</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed an issue where Video Viewer UI elements overlapped or exited unexpectedly. (<a href=\"https://commits.webkit.org/303256@main\">303256@main</a>)  (164051864)</li>\n<li>Fixed an issue where WebM with VP9/Vorbis fallback would not play. (<a href=\"https://commits.webkit.org/303100@main\">303100@main</a>)  (164053503)</li>\n<li>Fixed an issue where empty <code>&lt;track&gt;</code> elements prevented media from advancing its readyState and blocked <code>play()</code> calls. (<a href=\"https://commits.webkit.org/303314@main\">303314@main</a>)  (164125914)</li>\n<li>Fixed <code>MediaStreamTrackProcessor</code> to respect <code>track.enabled = false</code>. (<a href=\"https://commits.webkit.org/303389@main\">303389@main</a>)  (165199900)</li>\n<li>Fixed an issue where the <code>ended</code> event for Media Source Extensions might never fire by ensuring buffered ranges update correctly and playback gaps are observed even when the video does not start at time zero. (<a href=\"https://commits.webkit.org/303596@main\">303596@main</a>)  (165430052)</li>\n<li>Fixed an issue where caption previews were not shown in the default media controls. (<a href=\"https://commits.webkit.org/304070@main\">304070@main</a>)  (165931046)</li>\n</ul>\n<h3>SVG</h3>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed SVG intrinsic sizing and <code>preferredAspectRatio()</code> to correctly transpose dimensions for vertical writing modes. (<a href=\"https://commits.webkit.org/303578@main\">303578@main</a>)  (103262534)</li>\n<li>Fixed <code>SVGLength</code> parsing to correctly return the initial value when encountering parser errors or invalid values. (<a href=\"https://commits.webkit.org/303577@main\">303577@main</a>)  (136102554)</li>\n<li>Fixed an issue where <code>SVGImage</code> did not respect system dark mode changes. (<a href=\"https://commits.webkit.org/303920@main\">303920@main</a>)  (140661763)</li>\n<li>Fixed <code>SVGLength.prototype.valueAsString</code> to throw a <code>SyntaxError</code> when assigned an empty string. (<a href=\"https://commits.webkit.org/303594@main\">303594@main</a>)  (165429393)</li>\n<li>Fixed an issue where lengths with leading or trailing whitespace failed to be parsed. (<a href=\"https://commits.webkit.org/303951@main\">303951@main</a>)  (165501190)</li>\n</ul>\n<h3>Web API</h3>\n<h4>New Features</h4>\n<ul>\n<li>Added support for <code>ReadableStream.getIterator()</code> and the <code>[@@asyncIterator]</code> methods to enable iteration over streams. (<a href=\"https://commits.webkit.org/303970@main\">303970@main</a>).  (96318671)</li>\n<li>Added support for the Keyboard Lock API. (<a href=\"https://commits.webkit.org/303093@main\">303093@main</a>)  (161422221)</li>\n<li>Added support for using readable byte streams as <code>fetch</code> request and response bodies and enabling synchronous start behavior. (<a href=\"https://commits.webkit.org/303115@main\">303115@main</a>)  (162107262)</li>\n<li>Added support for <code>ReadableByteStream</code>. (<a href=\"https://commits.webkit.org/303239@main\">303239@main</a>)  (164877711)</li>\n<li>Added support for upgrading elements in <code>CustomElementRegistry.prototype.initialize</code>. (<a href=\"https://commits.webkit.org/303250@main\">303250@main</a>)  (165045530)</li>\n<li>Added support for the <code>customelementregistry</code> content attribute and handling of <code>null</code> <code>customElementRegistry</code> values in <code>document.createElement</code>, <code>document.createElementNS</code>, and <code>element.attachShadow</code>. (<a href=\"https://commits.webkit.org/303300@main\">303300@main</a>)  (165096267)</li>\n<li>Expose <code>MediaDeviceInfo</code> interface  in <code>SecureContext</code> only as per web specification. (<a href=\"https://commits.webkit.org/303512@main\">303512@main</a>)  (165318702)</li>\n</ul>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed an issue where <code>scroll-margin</code> from <code>IntersectionObserver</code> incorrectly applied to scrollers inside cross-origin iframes. (<a href=\"https://commits.webkit.org/303367@main\">303367@main</a>)  (164994009)</li>\n<li>Fixed <code>ReadableStream</code> and <code>WritableStream</code> to correctly pass abort and cancel reasons and improving <code>WebTransport</code> stream handling. (<a href=\"https://commits.webkit.org/303738@main\">303738@main</a>)  (165474756)</li>\n</ul>\n<h3>Web Authentication</h3>\n<h4>New Features</h4>\n<ul>\n<li>Added support for the WebAuthn PRF extension that maps to the CTAP <code>hmac-secret</code> extension, enabling credential-bound cryptographic secrets for both credential creation and authentication flows. (<a href=\"https://commits.webkit.org/303406@main\">303406@main</a>)  (113572812)</li>\n</ul>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed an issue where the <code>excludeCredentials</code> list was not sent to CTAP when its size was 1. (<a href=\"https://commits.webkit.org/303120@main\">303120@main</a>)  (164546088)</li>\n</ul>\n<h3>Web Inspector</h3>\n<h4>New Features</h4>\n<ul>\n<li>Added support for starting and stopping <code>&lt;canvas&gt;</code> recordings from the <code>console</code> within a <code>Worker</code> using <code>console.record()</code> and <code>console.recordEnd()</code>. (<a href=\"https://commits.webkit.org/303230@main\">303230@main</a>)  (98223237)</li>\n<li>Added support in the Web Inspector Timelines Heap view to display the dominator object, if any, when viewing the shortest GC path. (<a href=\"https://commits.webkit.org/303368@main\">303368@main</a>)  (165177746)</li>\n<li>Added support for auto-completion of <code>sideways-lr</code> and <code>sideways-rl</code> values for the <code>writing-mode</code> CSS property. (<a href=\"https://commits.webkit.org/303884@main\">303884@main</a>)  (165777054)</li>\n<li>Added support for auto-completion of <code>grid-lanes</code> and <code>inline-grid-lanes</code> values for the <code>display</code> CSS property. (<a href=\"https://commits.webkit.org/304001@main\">304001@main</a>)  (165873256)</li>\n</ul>\n<h4>Resolved Issues</h4>\n<ul>\n<li>Fixed incorrect breakpoint and search result positions in the Web Inspector after pretty-printing inline scripts containing multi-line template literals. (<a href=\"https://commits.webkit.org/303680@main\">303680@main</a>)  (29417859)</li>\n<li>Fixed an issue where the Console tab search bar in Web Inspector would disappear when the window was too narrow. (<a href=\"https://commits.webkit.org/304057@main\">304057@main</a>)  (50922509)</li>\n<li>Fixed an issue where breakpoints and search results in Web Inspector could point to the wrong location after a previously formatted source file was reopened in an unformatted state. (<a href=\"https://commits.webkit.org/303327@main\">303327@main</a>)  (165059693)</li>\n</ul>\n<h3>WebRTC</h3>\n<h4>New Features</h4>\n<ul>\n<li>Added support for capturing audio from multiple microphones on macOS with <code>getUserMedia</code> while managing echo cancellation and dynamically migrating existing captures to non-VPIO units. (<a href=\"https://commits.webkit.org/303113@main\">303113@main</a>)  (163945062)</li>\n</ul>","author":"","siteTitle":"Blog – WebKit","siteHash":"7f8dbea0b8f53db2e11a2faa08c6dca9954c01638d09a2ce585b77a60d10f7a1","entryHash":"af067c2cfdefbb932750ba6840e42b8d4516e4d9cffe2c11757d949bf23909cf","category":"Tech"}