{"title":"Vault 1.18 introduces support for IPv6 and CMPv2 while improving security team user experience","link":"https://www.hashicorp.com/blog/vault-1-18-introduces-support-for-ipv6-and-cmpv2-while-improving-security-team-ux","date":1728489600000,"content":"<p>HashiCorp Vault 1.18 is now generally available, with new secure workflows, improved high availability, and new PKI protocols. HashiCorp Vault provides secrets management, data encryption, identity management, and other workflow capabilities for applications on hybrid and multi-cloud infrastructure.</p>\n\n<p>Key feature additions to Vault 1.18 include:</p>\n\n<ul>\n<li><strong>CMPv2 PKI support:</strong> The CMPv2 PKI enrollment automation protocol is used in the 5G telecom industry to fulfill the required <a href=\"https://www.3gpp.org/\">3GPP</a> standards (Enterprise)</li>\n<li><strong>Adaptive overload protection</strong>: Improves high availability functionality to mitigate downtime (Enterprise)</li>\n<li><strong>Password rotation for static PostgreSQL database accounts</strong>: Allows individual database accounts to self-rotate their own credentials (Enterprise)</li>\n<li><strong>Raft library updates:</strong> Improved resiliency to network outages with the inclusion of pre-vote operations</li>\n<li><strong>IPv6 compliance:</strong> Validated to comply with the US government’s <a href=\"https://www.whitehouse.gov/wp-content/uploads/2020/11/M-21-07.pdf\">OMB Mandate M-21-07</a> and <a href=\"https://www.acquisition.gov/gsam/539.101#GSAM_539_101__id18C7F0ZC06G\">Federal IPv6 policy</a> (Enterprise)</li>\n<li><strong>Improved user experience for security teams:</strong> Enhanced UI support for AWS WIF and KVv2 secrets path management (Enterprise)</li>\n</ul>\n\n<h2>Support for CMPv2 PKI protocol</h2>\n\n<p>Vault Enterprise 1.18 further advances its certificate lifecycle management capabilities by extending PKI with the <a href=\"https://datatracker.ietf.org/doc/html/rfc6712\">CMPv2 protocol</a>. CMPv2 supports a variety of certificate formats including RSA, DSA, and ECDSA, as well as X.509 templates. The protocol is widely used by the mobile telecommunications and networking industries to support 5G and achieve<a href=\"https://www.techtarget.com/searchnetworking/definition/3rd-Generation-Partnership-Project-3GPP\"> third-generation partnership project (3GPP)</a> compliance. CMPv2 includes:</p>\n\n<ul>\n<li><strong>Initialization registration:</strong> Initialization requests are generally used to bring a new device into the PKI. Typically such devices are pre-provisioned with a vendor certificate issued by a CA other than the issuing CA. A successful request results in the issuance of a certificate, which can then be used to sign subsequent CMP messages.</li>\n<li><strong>Certificate update:</strong> Certificate update messages are used by the requesting client to confirm that the issued certificate was received successfully, and PKI confirm messages are used to confirm that the server successfully received the certificate confirm message.</li>\n<li><strong>Key-pair update:</strong> Key update requests are used to request certificate renewals or reissues.</li>\n</ul>\n<img src=\"https://www.datocms-assets.com/2885/1728425960-cmpv2-pki-workflow.png\" alt=\"CMPv2\" /><p>In order to provide 5G services, mobile telecommunication providers are required to adhere to 3GPP standards. One such 3GPP requirement is that network devices must be authenticated using x509 certificates and that the enrollment process must leverage the CMPv2 protocol. With support for PKI’s CMPv2 protocol, Vault Enterprise facilitates the automation of network device certificate enrollment, helping organizations be 3GPP compliant for 5G services.</p>\n\n<h2>Adaptive overload protection</h2>\n\n<p>Requests to the Vault API frequently result in the need to perform storage updates. These updates must be processed sequentially, causing high latency that could result in an outage during periods of extremely high traffic. Adaptive overload protection lets Vault gracefully manage requests by maintaining write replicas, which mitigates the risk of downtime. Adaptive overload protection will be enabled by default for Vault’s integrated storage backend when using Vault Enterprise.</p>\n\n<h2>Password rotation for static database credentials</h2>\n\n<p>Vault Enterprise’s <a href=\"https://developer.hashicorp.com/vault/docs/secrets/databases\">database secrets engine</a> supports centralized workflows to administer credentials for a variety of database platforms. Each database service instance receives unique credentials so any atypical access pattern can be identified and revoked. While this reduces manual tasks and improves the efficiency of database administration, it can lead to the growth of non-human identity (NHI) service accounts with highly privileged credentials or root access.</p>\n\n<p>Vault Enterprise 1.18 includes a PostgreSQL secrets plugin that allows individual database accounts to self-rotate their own credentials. This feature allows database administration and SecOps teams to limit and reduce the usage of highly privileged NHI accounts dedicated to supporting password rotation for static key-value accounts.</p>\n\n<h2>Raft library updates</h2>\n\n<p>A <a href=\"https://developer.hashicorp.com/vault/docs/internals/integrated-storage\">Raft library</a> is a protocol in which a cluster of nodes maintain a replicated state machine. The state machine is synchronized through the use of a replication log. </p>\n\n<p>Previously, Vault Enterprise’s Raft implementation did not include pre-vote operations, which could prolong network outages. Vault Enterprise 1.18 now includes the pre-vote operation, which improves applications stability during network failures. This update to Vault’s Raft library will not require configuration or upgrade process for those using version Vault Enterprise 1.18 and later. </p>\n\n<h2>Next generation of IPv6 compliance</h2>\n\n<p>HashiCorp is pleased to announce that Vault Enterprise 1.18 has been internally validated to be compliant with the US government’s <a href=\"https://www.whitehouse.gov/wp-content/uploads/2020/11/M-21-07.pdf\">OMB Mandate M-21-07</a> and <a href=\"https://www.acquisition.gov/gsam/539.101#GSAM_539_101__id18C7F0ZC06G\">Federal IPv6 policy</a> requirements supporting the <a href=\"https://www.nist.gov/programs-projects/usgv6-program\">IPv6 profile for the US government</a>. And Vault’s <a href=\"https://www.hashicorp.com/trust/compliance/vault-enterprise\">compliance page</a> can now be used by our customers as the Self-attested Supplier Declaration of Conformity (SDOC) for versions 1.18 and later.</p>\n\n<p>HashiCorp is currently engaged with an external agency accredited to perform USGv6 compliance testing for Vault Enterprise 1.18. Once external testing is complete, Vault Enterprise will be fully compliant with the Federal government’s IPv6 rules. </p>\n\n<h2>Improved user experience for security teams</h2>\n\n<p>Vault has always included strong API and CLI support for engineering teams. However, that’s not always the most useful user experience for SecOps or those teams more focused on governance, regulation, and compliance. Recent releases of Vault Enterprise have emphasized greater support for different user experiences to ensure security teams have the necessary functional availability to implement security policy and best practices. Vault Enterprise 1.18 continues this focus by introducing UI support for AWS WIF and KVv2 secrets path management. </p>\n\n<h3>UI support for AWS WIF</h3>\n\n<p><a href=\"https://www.hashicorp.com/blog/hashicorp-vault-1-15-adopts-microsoft-workload-identity-federation\">Workload Identity Federation (WIF)</a> enables secretless configuration between Vault Enterprise and external cloud providers such as Amazon Web Services, Microsoft Azure, and Google Cloud. WIF offers organizations another opportunity to limit the use of long-lived credentials to reduce risk while also limiting the need for ongoing operational maintenance and monitoring.</p>\n\n<p>Vault Enterprise 1.15 introduced <a href=\"https://www.hashicorp.com/blog/hashicorp-vault-1-15-adopts-microsoft-workload-identity-federation\">support for WIF</a>, and since then, we have added significant improvements. Vault Enterprise now includes support to configure AWS WIF through the user interface. This new functionality supports security teams that prefer a more UI-driven workflow  to perform Vault secrets management tasks.</p>\n<img src=\"https://www.datocms-assets.com/2885/1728426050-kvv2-secrets-path.png\" alt=\"UI\" /><h3>UI support for KVv2 secrets path management</h3>\n\n<p>Frequently we observe Vault administrators nesting secrets that allow a single KVv2 secrets path to have multiple key-value pairs. This is a Vault Enterprise feature as it allows for more granular physical organization of an application's secrets. This functionality has been available for use via the API and CLI, but has lacked support for a UI workflow until now. </p>\n\n<p>The new UI-driven workflow for KVv2 secrets path management will allow security teams to set policies and allow users to see key names and update/write key-values without read access, ensuring secure, least-privileged access for app users in accordance with organizational needs.</p>\n<img src=\"https://www.datocms-assets.com/2885/1728426105-wif-ui.png\" alt=\"KVv2\" /><h2>Vault 1.18 upgrade details</h2>\n\n<p>The lastest Vault release also includes more new features, workflow enhancements, general improvements, and bug fixes. All of these updates can be found in the <a href=\"https://developer.hashicorp.com/vault/downloads\">Vault 1.18 changelog</a>. Please visit the <a href=\"https://developer.hashicorp.com/vault/tutorials/new-release\">Vault release highlights page</a> for step-by-step tutorials demonstrating the new features.</p>\n\n<p>For more information about HCP Vault and Vault Enterprise, visit <a href=\"https://www.hashicorp.com/products/vault\">the HashiCorp Vault product page</a>.  </p>\n","author":"Rich Dubose","siteTitle":"HashiCorp Blog","siteHash":"219aa6310b3388f2335eba49871f4df9581f2c58eaeb5e498363b54e835b7001","entryHash":"ef716b0b0d4206a2c04c60f3e0b80324fecb9cdea32f5795ff115a28f904203d","category":"Tech"}